<!DOCTYPE html><html lang="en"><head><meta name="generator" content="React Static"/><title data-react-helmet="true">Building your Own - Home</title><meta charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, shrink-to-fit=no"/><meta data-react-helmet="true" charSet="UTF-8"/><meta data-react-helmet="true" name="referrer" content="no-referrer"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1"/><meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"/><meta data-react-helmet="true" name="description" content="The central place for all things BalenaOS related."/><meta data-react-helmet="true" name="msapplication-TileColor" content="#ffffff"/><meta data-react-helmet="true" name="msapplication-TileImage" content="/ms-icon-144x144.png"/><meta data-react-helmet="true" name="theme-color" content="#000000"/><meta data-react-helmet="true" property="og:site_name" content="Building your Own"/><meta data-react-helmet="true" property="og:url" content="undefined/docs/building-your-own/1.6.3"/><meta data-react-helmet="true" property="og:locale" content="en_US"/><meta data-react-helmet="true" property="og:description" content="The central place for all things BalenaOS related."/><link rel="preload" as="script" href="/templates/vendors~main.0ca8d44b.js"/><link rel="preload" as="script" href="/main.402ddbf4.js"/><link data-react-helmet="true" rel="canonical" href="undefined/docs/building-your-own/1.6.3"/><link data-react-helmet="true" rel="shortcut icon" sizes="16x16 24x24 32x32 48x48 64x64" href="/favicon.ico"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link data-react-helmet="true" rel="manifest" href="/manifest.json"/><link data-react-helmet="true" type="text/plain" rel="author" href="/humans.txt"/><link data-react-helmet="true" href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,400;0,600;1,400&amp;family=Ubuntu+Mono:wght@400;700&amp;display=fallback" rel="stylesheet"/><style data-styled="" data-styled-version="5.2.0">.eWwTwc{display:inline-block;box-sizing:border-box;cursor:pointer;font:inherit;-webkit-text-decoration:none;text-decoration:none;margin:0;background:transparent;overflow:visible;text-transform:none;border:1px solid #04c493;border-radius:20px;color:#444444;padding:4px 30px;font-size:14px;line-height:1.5;background-color:#04c493;color:#444444;border-radius:20px;-webkit-transition-property:color,background-color,border-color,box-shadow;transition-property:color,background-color,border-color,box-shadow;-webkit-transition-duration:0.1s;transition-duration:0.1s;-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;}/*!sc*/
.eWwTwc:hover{box-shadow:0px 0px 0px 2px #04c493;}/*!sc*/
.eWwTwc:focus{outline:none;box-shadow:0 0 2px 2px #00AEEF;}/*!sc*/
.eWwTwc:focus > circle,.eWwTwc:focus > ellipse,.eWwTwc:focus > line,.eWwTwc:focus > path,.eWwTwc:focus > polygon,.eWwTwc:focus > polyline,.eWwTwc:focus > rect{outline:none;box-shadow:0 0 2px 2px #00AEEF;}/*!sc*/
.eWwTwc:focus::-moz-focus-inner{border:0;}/*!sc*/
.igSSEf{display:inline-block;box-sizing:border-box;cursor:pointer;font:inherit;-webkit-text-decoration:none;text-decoration:none;margin:0;background:transparent;overflow:visible;text-transform:none;border:1px solid #2A506F;border-radius:20px;color:#444444;padding:4px 30px;font-size:14px;line-height:1.5;background-color:#2A506F;color:#f8f8f8;border-radius:20px;-webkit-transition-property:color,background-color,border-color,box-shadow;transition-property:color,background-color,border-color,box-shadow;-webkit-transition-duration:0.1s;transition-duration:0.1s;-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;line-height:0;padding:12px;}/*!sc*/
.igSSEf:hover{box-shadow:0px 0px 0px 2px #2A506F;}/*!sc*/
.igSSEf:focus{outline:none;box-shadow:0 0 2px 2px #00AEEF;}/*!sc*/
.igSSEf:focus > circle,.igSSEf:focus > ellipse,.igSSEf:focus > line,.igSSEf:focus > path,.igSSEf:focus > polygon,.igSSEf:focus > polyline,.igSSEf:focus > rect{outline:none;box-shadow:0 0 2px 2px #00AEEF;}/*!sc*/
.igSSEf:focus::-moz-focus-inner{border:0;}/*!sc*/
data-styled.g10[id="StyledButton-sc-323bzc-0"]{content:"eWwTwc,igSSEf,"}/*!sc*/
.fPUyVb{font-family:Source Sans Pro;font-size:14px;line-height:1.5;box-sizing:border-box;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;}/*!sc*/
data-styled.g79[id="StyledGrommet-sc-19lkkz7-0"]{content:"fPUyVb,"}/*!sc*/
.cDwDsz{box-sizing:border-box;}/*!sc*/
data-styled.g111[id="sc-gKAblj"]{content:"cDwDsz,"}/*!sc*/
.iLKzkN{padding-top:30px;padding-bottom:30px;padding-left:16px;padding-right:16px;}/*!sc*/
.hlEduY{max-width:1252px;}/*!sc*/
.gXpDLy{margin-left:-8px;margin-right:-8px;font-size:14px;}/*!sc*/
.fsjiKV{padding-top:38px;padding-bottom:38px;padding-left:16px;padding-right:16px;}/*!sc*/
.ihqbWq{padding-top:4px;padding-bottom:4px;padding-left:4px;padding-right:4px;}/*!sc*/
@media screen and (min-width:576px){.ihqbWq{padding-top:4px;padding-bottom:4px;padding-left:4px;padding-right:4px;}}/*!sc*/
@media screen and (min-width:768px){.ihqbWq{padding-top:16px;padding-bottom:38px;padding-left:16px;padding-right:16px;}}/*!sc*/
@media screen and (min-width:992px){.ihqbWq{padding-left:38px;padding-right:38px;}}/*!sc*/
.hiphwQ{margin-bottom:16px;}/*!sc*/
.jeGdNg{margin-right:8px;}/*!sc*/
.gFbxTc{margin-top:16px;}/*!sc*/
.gZtEXP{margin-top:48px;padding-top:48px;padding-bottom:48px;padding-left:16px;padding-right:16px;background-color:#f8f9fd;}/*!sc*/
.fbWAy{margin-left:-16px;margin-right:-16px;width:100%;}/*!sc*/
@media screen and (min-width:576px){.fbWAy{width:100%;}}/*!sc*/
@media screen and (min-width:768px){.fbWAy{width:100%;}}/*!sc*/
@media screen and (min-width:992px){.fbWAy{width:83.33333333333334%;}}/*!sc*/
.iICyJN{margin-bottom:16px;padding-left:16px;padding-right:16px;width:100%;}/*!sc*/
@media screen and (min-width:576px){.iICyJN{width:100%;}}/*!sc*/
@media screen and (min-width:768px){.iICyJN{width:50%;}}/*!sc*/
.decHvm{padding-top:14px;padding-left:16px;padding-right:16px;}/*!sc*/
.lePrqr{margin-bottom:4px;}/*!sc*/
data-styled.g112[id="sc-iCoHVE"]{content:"iLKzkN,hlEduY,kXijcO,gXpDLy,fsjiKV,ihqbWq,hiphwQ,jeGdNg,gFbxTc,gZtEXP,fbWAy,iICyJN,decHvm,lePrqr,"}/*!sc*/
.hqgrxF{font-weight:normal;font-size:14px;height:38px;white-space:nowrap;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}/*!sc*/
.hqgrxF svg{color:inherit !important;font-size:0.925em;}/*!sc*/
.hqgrxF:disabled{cursor:not-allowed;}/*!sc*/
data-styled.g120[id="sc-bqGHjH"]{content:"hqgrxF,"}/*!sc*/
.iUVgDY{color:white;}/*!sc*/
.iUVgDY:hover:enabled,.iUVgDY:focus:enabled,.iUVgDY:active:enabled{box-shadow:none;background:hsl(164.70000000000005,96%,31.4%);border-color:hsl(164.70000000000005,96%,31.4%);color:white;opacity:initial;}/*!sc*/
.iUVgDY:hover:enabled svg,.iUVgDY:focus:enabled svg,.iUVgDY:active:enabled svg{color:white !important;}/*!sc*/
.fVbMuM{color:white;}/*!sc*/
.fVbMuM:hover:enabled,.fVbMuM:focus:enabled,.fVbMuM:active:enabled{box-shadow:none;background:hsl(207,45.1%,24%);border-color:hsl(207,45.1%,24%);color:white;opacity:initial;}/*!sc*/
.fVbMuM:hover:enabled svg,.fVbMuM:focus:enabled svg,.fVbMuM:active:enabled svg{color:white !important;}/*!sc*/
data-styled.g121[id="sc-ksluoS"]{content:"iUVgDY,fVbMuM,"}/*!sc*/
.sQywe{font-size:22px;}/*!sc*/
data-styled.g127[id="sc-dIvqjp"]{content:"cqMAGU,sQywe,"}/*!sc*/
.kezKMW{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}/*!sc*/
.hugHGC{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/
.hpQvhY{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}/*!sc*/
@media screen and (min-width:576px){.hpQvhY{-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;}}/*!sc*/
.jAoJEK{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}/*!sc*/
.bzJToQ{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}/*!sc*/
@media screen and (min-width:576px){.bzJToQ{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}}/*!sc*/
@media screen and (min-width:768px){.bzJToQ{-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}}/*!sc*/
.gAYhOq{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
data-styled.g128[id="sc-hHEjAm"]{content:"kezKMW,hugHGC,hpQvhY,jAoJEK,bzJToQ,gAYhOq,"}/*!sc*/
.eYntrq{font-size:12px;}/*!sc*/
data-styled.g132[id="sc-bCwgka"]{content:"fgCzVj,eYntrq,"}/*!sc*/
.fTgIzE{border:0 none;border-top:1px solid #DDE1f0;width:100%;height:0;}/*!sc*/
data-styled.g144[id="sc-gXfWUo"]{content:"fTgIzE,"}/*!sc*/
.gLZSkR{font-weight:normal;font-weight:600;}/*!sc*/
.eUsrOk{font-weight:normal;}/*!sc*/
data-styled.g147[id="sc-jcwofb"]{content:"gLZSkR,eUsrOk,"}/*!sc*/
.RSKax{margin:0;font-size:58px;}/*!sc*/
data-styled.g149[id="sc-iTVIwl"]{content:"RSKax,"}/*!sc*/
.euxnRz{margin:0;font-size:34px;}/*!sc*/
data-styled.g150[id="sc-iBzFoy"]{content:"euxnRz,"}/*!sc*/
.eUYbYC{margin:0;font-size:24px;}/*!sc*/
data-styled.g151[id="sc-efHXLn"]{content:"eUYbYC,"}/*!sc*/
.hVZZvU{margin:0;font-size:14px;}/*!sc*/
.gQhHqF{margin:0;margin-bottom:8px;font-size:14px;}/*!sc*/
data-styled.g152[id="sc-cTJmaU"]{content:"hVZZvU,gQhHqF,"}/*!sc*/
.cVithW{display:inline-block;border-radius:3px;vertical-align:top;position:relative;}/*!sc*/
.cVithW svg{width:12px;-webkit-transform:translateY(1px);-ms-transform:translateY(1px);transform:translateY(1px);}/*!sc*/
data-styled.g183[id="sc-bTDODP"]{content:"cVithW,"}/*!sc*/
.NzEgA{margin:0;width:100%;}/*!sc*/
data-styled.g185[id="sc-hOPghE"]{content:"NzEgA,"}/*!sc*/
.ffgKrP{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;opacity:1;display:inline-block;}/*!sc*/
.ffgKrP:active,.ffgKrP:hover{color:hsl(0,0%,80%);}/*!sc*/
.kcETfK{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;opacity:1;display:inline-block;}/*!sc*/
.kcETfK:active,.kcETfK:hover{color:hsl(207,45.1%,24%);}/*!sc*/
.eMKaST{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;opacity:1;display:inline-block;}/*!sc*/
.eMKaST:active,.eMKaST:hover{color:hsl(164.70000000000005,96%,31.4%);}/*!sc*/
.hmkGyO{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;opacity:1;display:inline-block;}/*!sc*/
.hmkGyO:active,.hmkGyO:hover{color:hsl(0,0%,26.7%);}/*!sc*/
.eiUiyj{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;opacity:1;display:inline-block;}/*!sc*/
.eiUiyj:active,.eiUiyj:hover{color:hsl(209.60000000000002,30.2%,36.9%);}/*!sc*/
data-styled.g195[id="sc-eGJXgd"]{content:"ffgKrP,kcETfK,eMKaST,hmkGyO,eiUiyj,"}/*!sc*/
.lJJVc{color:white;}/*!sc*/
.jilOll{padding-left:8px;padding-right:8px;color:#2a506f;}/*!sc*/
.jzoPQR{color:#04c493;}/*!sc*/
.eNMmMW{padding-left:8px;font-size:12px;color:#555;}/*!sc*/
.bwZqFq{color:#2a506f;}/*!sc*/
.brDNrO{font-size:13px;color:#527699;}/*!sc*/
data-styled.g196[id="sc-csTaMs"]{content:"lJJVc,jilOll,jzoPQR,eNMmMW,bwZqFq,brDNrO,"}/*!sc*/
.lbincz code[class*='language-'],.lbincz pre[class*='language-']{color:black;background:none;text-shadow:0 1px white;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}/*!sc*/
.lbincz pre[class*='language-']::-moz-selection,.lbincz pre[class*='language-'] ::-moz-selection,.lbincz code[class*='language-']::-moz-selection,.lbincz code[class*='language-'] ::-moz-selection{text-shadow:none;background:#b3d4fc;}/*!sc*/
.lbincz pre[class*='language-']::selection,.lbincz pre[class*='language-'] ::selection,.lbincz code[class*='language-']::selection,.lbincz code[class*='language-'] ::selection{text-shadow:none;background:#b3d4fc;}/*!sc*/
@media print{.lbincz code[class*='language-'],.lbincz pre[class*='language-']{text-shadow:none;}}/*!sc*/
.lbincz pre[class*='language-']{padding:1em;margin:0.5em 0;overflow:auto;}/*!sc*/
.lbincz:not(pre) > code[class*='language-'],.lbincz pre[class*='language-']{background:#f5f2f0;}/*!sc*/
.lbincz:not(pre) > code[class*='language-']{padding:0.1em;border-radius:0.3em;white-space:normal;}/*!sc*/
.lbincz .token.comment,.lbincz .token.prolog,.lbincz .token.doctype,.lbincz .token.cdata{color:slategray;}/*!sc*/
.lbincz .token.punctuation{color:#999;}/*!sc*/
.lbincz .token.namespace{opacity:0.7;}/*!sc*/
.lbincz .token.property,.lbincz .token.tag,.lbincz .token.boolean,.lbincz .token.number,.lbincz .token.constant,.lbincz .token.symbol,.lbincz .token.deleted{color:#905;}/*!sc*/
.lbincz .token.selector,.lbincz .token.attr-name,.lbincz .token.string,.lbincz .token.char,.lbincz .token.builtin,.lbincz .token.inserted{color:#690;}/*!sc*/
.lbincz .token.operator,.lbincz .token.entity,.lbincz .token.url,.lbincz .language-css .token.string,.lbincz .style .token.string{color:#9a6e3a;background:hsla(0,0%,100%,0.5);}/*!sc*/
.lbincz .token.atrule,.lbincz .token.attr-value,.lbincz .token.keyword{color:#07a;}/*!sc*/
.lbincz .token.function,.lbincz .token.class-name{color:#dd4a68;}/*!sc*/
.lbincz .token.regex,.lbincz .token.important,.lbincz .token.variable{color:#e90;}/*!sc*/
.lbincz .token.important,.lbincz .token.bold{font-weight:bold;}/*!sc*/
.lbincz .token.italic{font-style:italic;}/*!sc*/
.lbincz .token.entity{cursor:help;}/*!sc*/
.lbincz *{box-sizing:border-box;}/*!sc*/
.lbincz code{background-color:#f4f4f4;padding:0.2em 0px;margin:0px;border-radius:3px;line-height:1.2;}/*!sc*/
.lbincz pre{background-color:#f4f4f4;}/*!sc*/
.lbincz pre > code{display:block;background:none;overflow-y:auto;}/*!sc*/
.lbincz code,.lbincz kbd,.lbincz pre{font-family:'Ubuntu Mono','Courier New',monospace;}/*!sc*/
.lbincz kbd{display:inline-block;padding:3px 5px;font-size:11px;line-height:10px;color:#2a506f;vertical-align:middle;background-color:rgba(244,244,244,0.7);border:solid 1px #c6c8c9;border-bottom-color:hsl(200,2.7%,70.4%);border-radius:3px;box-shadow:inset 0 -1px 0 hsl(200,2.7%,70.4%);}/*!sc*/
.lbincz dl{padding:0;}/*!sc*/
.lbincz dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600;}/*!sc*/
.lbincz dl dd{padding:0 16px;margin-bottom:16px;}/*!sc*/
.lbincz td,.lbincz th{padding:0;}/*!sc*/
.lbincz table{border-spacing:0;border-collapse:collapse;display:block;width:100%;overflow:auto;}/*!sc*/
.lbincz table th{font-weight:600;}/*!sc*/
.lbincz table th,.lbincz table td{padding:6px 13px;border:1px solid #c6c8c9;}/*!sc*/
.lbincz table tr{background-color:#fff;border-top:1px solid #f4f4f4;}/*!sc*/
.lbincz table tr:nth-child(2n){background-color:#f4f4f4;}/*!sc*/
.lbincz blockquote{margin:0;}/*!sc*/
.lbincz blockquote,.lbincz dl,.lbincz table{margin-top:0;margin-bottom:16px;}/*!sc*/
.lbincz blockquote{padding:0 1em;color:#2a506f;border-left:0.25em solid #c6c8c9;}/*!sc*/
.lbincz blockquote > :first-child{margin-top:0;}/*!sc*/
.lbincz blockquote > :last-child{margin-bottom:0;}/*!sc*/
data-styled.g197[id="sc-dFRpvv"]{content:"lbincz,"}/*!sc*/
.fAqFnO{font-family:Source Sans Pro;font-size:14px;color:#2a506f;}/*!sc*/
data-styled.g215[id="sc-fXgAFM"]{content:"fAqFnO,"}/*!sc*/
.vFLFe{display:block;max-width:100%;height:auto;}/*!sc*/
.bAJKaz{display:block;max-width:100%;height:auto;margin-left:8px;}/*!sc*/
data-styled.g238[id="sc-jtiWoB"]{content:"vFLFe,bAJKaz,"}/*!sc*/
.lyVVi{margin-left:auto;margin-right:auto;padding-left:16px;padding-right:16px;}/*!sc*/
data-styled.g242[id="sc-iIgiFR"]{content:"lyVVi,"}/*!sc*/
.eXpjm{background-color:#7dfcdb;color:#2a506f;}/*!sc*/
data-styled.g267[id="sc-hYIrON"]{content:"eXpjm,"}/*!sc*/
.bpnlUI{position:absolute;right:0;top:-30px;}/*!sc*/
data-styled.g268[id="sc-hKiGeM"]{content:"bpnlUI,"}/*!sc*/
.fQxOke{display:none;}/*!sc*/
@media all and (min-width:768px){.fQxOke{display:block;border-right:1px solid #dde1f0;-webkit-flex:0 0 250px;-ms-flex:0 0 250px;flex:0 0 250px;margin-right:40px;}}/*!sc*/
@media all and (min-width:992px){.fQxOke{-webkit-flex:0 0 300px;-ms-flex:0 0 300px;flex:0 0 300px;margin-right:80px;}}/*!sc*/
data-styled.g276[id="sc-bFSanr"]{content:"fQxOke,"}/*!sc*/
.jCyXNd{display:block;}/*!sc*/
@media all and (min-width:768px){.jCyXNd{display:none;}}/*!sc*/
data-styled.g277[id="sc-fxFQrc"]{content:"jCyXNd,"}/*!sc*/
.rJYJh{z-index:2;position:-webkit-sticky;position:sticky;top:0;bottom:0;overflow-y:auto;width:300px;padding-bottom:80px;}/*!sc*/
data-styled.g278[id="sc-fyFmx"]{content:"rJYJh,"}/*!sc*/
.imkuCs{position:fixed;bottom:50px;right:50px;z-index:6;}/*!sc*/
data-styled.g279[id="sc-cjzMPC"]{content:"imkuCs,"}/*!sc*/
</style></head><body><div id="root"><div style="outline:none" tabindex="-1"><div class="StyledGrommet-sc-19lkkz7-0 fPUyVb sc-fXgAFM fAqFnO"><div class="sc-gKAblj cDwDsz sc-iCoHVE iLKzkN sc-hYIrON eXpjm"><div class="sc-gKAblj cDwDsz sc-iCoHVE hlEduY sc-cKRKlA hZOMcA sc-iIgiFR lyVVi"><div style="position:relative" class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO sc-hHEjAm kezKMW"><a color="white" href="/" class="sc-eGJXgd ffgKrP sc-csTaMs lJJVc"><img style="height:50px" src="data:image/svg;base64,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" class="sc-jtiWoB vFLFe"/></a><div class="sc-gKAblj cDwDsz sc-iCoHVE gXpDLy sc-hHEjAm hugHGC"><a color="#2a506f" href="/docs" aria-labelledby="Docs" style="font-family:Source Sans Pro" class="sc-eGJXgd kcETfK sc-csTaMs jilOll">Docs</a><a color="#2a506f" href="/contributing" aria-labelledby="Contributing" style="font-family:Source Sans Pro" class="sc-eGJXgd kcETfK sc-csTaMs jilOll">Contributing</a><a color="#2a506f" href="https://github.com/balena-os/balena-os" aria-labelledby="v1.6.3" style="font-family:Source Sans Pro" class="sc-eGJXgd kcETfK sc-csTaMs jilOll">v1.6.3</a></div><a href="https://github.com/balena-os/balena-os.git" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR sc-hKiGeM bpnlUI" color="primary.main" rel="noopener" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30"><path fill="#04c493" fill-rule="nonzero" d="M0 0h30v30l-14.3-6L0 30V0zm24 12.5C24 7.807 20.192 4 15.5 4a8.501 8.501 0 0 0-2.689 16.568c.43.078.587-.189.587-.41 0-.21-.012-.874-.012-1.582 0 0-2.368.509-2.867-1.007 0 0-.387-.985-.94-1.24 0 0-.776-.531.055-.52 0 0 .841.067 1.306.874.742 1.307 1.982.93 2.468.709.078-.543.299-.918.542-1.14-1.893-.21-3.873-.941-3.873-4.194 0-.93.332-1.683.874-2.28-.088-.222-.377-1.086.09-2.259.708-.221 2.334.876 2.334.876a7.995 7.995 0 0 1 2.125-.29c.72 0 1.45.101 2.125.29 0 0 1.626-1.097 2.335-.876.466 1.173.177 2.037.089 2.258.543.598.874 1.35.874 2.281 0 3.264-1.992 3.984-3.884 4.193.31.267.575.775.575 1.573 0 1.139-.012 2.058-.012 2.334 0 .221.156.488.587.41C21.565 19.438 24 16.25 24 12.5z"></path></svg></a></div></div></div><div class="sc-gKAblj cDwDsz sc-iCoHVE fsjiKV"><div class="sc-gKAblj cDwDsz sc-iCoHVE hlEduY sc-cKRKlA hZOMcA sc-iIgiFR lyVVi"><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO sc-hHEjAm hpQvhY"><aside class="sc-bFSanr fQxOke"><div class="sc-fyFmx rJYJh"><div class="sc-gKAblj cDwDsz sc-iCoHVE ihqbWq"><div class="sc-gKAblj cDwDsz sc-iCoHVE hiphwQ"><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO sc-bTDODP cVithW sc-dsXyEt biIJHv"><button class="StyledButton-sc-323bzc-0 eWwTwc sc-bqGHjH sc-ksluoS hqgrxF iUVgDY sc-dIvqjp cqMAGU sc-hOPghE NzEgA" type="button"><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO sc-hHEjAm kezKMW"><div class="sc-gKAblj cDwDsz sc-iCoHVE jeGdNg">Version: 1.6.3</div><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-down" class="svg-inline--fa fa-chevron-down fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"></path></svg></div></button></div></div><div class="sc-gKAblj cDwDsz sc-iCoHVE gFbxTc"><div class="sc-gKAblj cDwDsz sc-iCoHVE hiphwQ"><h4 class="sc-jcwofb gLZSkR sc-cTJmaU hVZZvU"><a theme="[object Object]" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR" href="/docs/architecture-overview">Architecture Overview</a></h4><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/architecture-overview#introduction">Introduction</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/architecture-overview#os-composition">OS composition</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/architecture-overview#userspace-components">Userspace Components</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/architecture-overview#image-partition-layout">Image Partition Layout</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/architecture-overview#stateless-and-read-only-root-fs">Stateless and Read-Only rootFS</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/architecture-overview#dev-vs-prod-images">Dev vs. Prod images</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/architecture-overview#os-tools">OS Tools</a></div></div><div class="sc-gKAblj cDwDsz sc-iCoHVE hiphwQ"><h4 class="sc-jcwofb gLZSkR sc-cTJmaU hVZZvU"><a theme="[object Object]" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR" href="/docs/contribute-to-balena-os">Contribute to balenaOS</a></h4><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/contribute-to-balena-os#testing-and-bug-reports">Testing and Bug Reports</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/contribute-to-balena-os#submitting-fixes">Submitting Fixes</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/contribute-to-balena-os#support-for-additional-boards">Support for Additional Boards</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/contribute-to-balena-os#documentation">Documentation</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/contribute-to-balena-os#tutorials">Tutorials</a></div></div><div class="sc-gKAblj cDwDsz sc-iCoHVE hiphwQ"><h4 class="sc-jcwofb gLZSkR sc-cTJmaU hVZZvU"><a theme="[object Object]" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR" href="/docs/building-your-own">Building your Own</a></h4><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/building-your-own#bake-your-own-image">Bake your own Image</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/building-your-own#supporting-your-own-board">Supporting your Own Board</a></div></div><div class="sc-gKAblj cDwDsz sc-iCoHVE hiphwQ"><h4 class="sc-jcwofb gLZSkR sc-cTJmaU hVZZvU"><a theme="[object Object]" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR" href="/docs/dynamic-page-about-os-name-language-name">Dynamic page about {{ $os.name }} &amp; {{ $language.name }}</a></h4><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/dynamic-page-about-os-name-language-name#smart-import">Smart import</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/dynamic-page-about-os-name-language-name#helpers-example">Helpers Example</a></div></div><div class="sc-gKAblj cDwDsz sc-iCoHVE hiphwQ"><h4 class="sc-jcwofb gLZSkR sc-cTJmaU hVZZvU"><a theme="[object Object]" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR" href="/docs/"></a></h4><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/#why-docker-containers-on-embedded-devices">Why Docker containers on embedded devices?</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/#why-yocto">Why Yocto?</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/#how-is-this-different-from-cloud-operating-systems-for-containers">How is this different from cloud operating systems for containers?</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/#how-is-this-different-from-other-embedded-operating-systems">How is this different from other embedded operating systems?</a></div></div><div class="sc-gKAblj cDwDsz sc-iCoHVE hiphwQ"><h4 class="sc-jcwofb gLZSkR sc-cTJmaU hVZZvU"><a theme="[object Object]" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR" href="/docs/getting-started-on-the-device-name">Getting Started on the {{ $device.name }}</a></h4><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/getting-started-on-the-device-name#download-an-image">Download an Image</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/getting-started-on-the-device-name#install-the-balena-cli">Install the Balena CLI</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/getting-started-on-the-device-name#configure-the-image">Configure the Image</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/getting-started-on-the-device-name#get-the-device-up-and-running">Get the Device Up and Running</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/getting-started-on-the-device-name#running-your-first-container">Running your first Container</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/getting-started-on-the-device-name#poking-around-balena-os">Poking Around balenaOS</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/getting-started-on-the-device-name#going-further">Going Further</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/getting-started-on-the-device-name#creating-a-project-from-scratch">Creating a Project from Scratch</a></div></div><div class="sc-gKAblj cDwDsz sc-iCoHVE hiphwQ"><h4 class="sc-jcwofb gLZSkR sc-cTJmaU hVZZvU"><a theme="[object Object]" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR" href="/docs/"></a></h4><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/#what-is-balena-os">What is balenaOS?</a></div></div><div class="sc-gKAblj cDwDsz sc-iCoHVE hiphwQ"><h4 class="sc-jcwofb gLZSkR sc-cTJmaU hVZZvU"><a theme="[object Object]" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR" href="/docs/supported-boards">Supported Boards</a></h4><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/supported-boards#ar-mv-7">ARMv7</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/supported-boards#ar-mv-6">ARMv6</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/supported-boards#ar-mv-5">ARMv5</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/supported-boards#intel-x-86-32">Intel x86_32</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/supported-boards#intel-x-86-64">Intel x86_64</a></div></div></div></div></div></aside><aside class="sc-fxFQrc jCyXNd"><button class="StyledButton-sc-323bzc-0 igSSEf sc-bqGHjH sc-ksluoS hqgrxF fVbMuM sc-dIvqjp sQywe sc-cjzMPC imkuCs" type="button"><div color="#f8f8f8">⋯</div></button></aside><div style="max-width:900px;width:100%" class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a href="https://github.com/balena-os/balena-os/edit/master/docs/custombuild.md" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">Edit on GitHub</a><div class="sc-fKgIGh djMLxE sc-bCwgka fgCzVj sc-dFRpvv lbincz"><div><hr class="sc-gXfWUo fTgIzE sc-ciSmjq bOVUIP"/>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">title: Architecture</p>
<h2 class="sc-jcwofb eUsrOk sc-iBzFoy euxnRz">layout: docs.html</h2>
<h1 class="sc-jcwofb eUsrOk sc-iTVIwl RSKax">Building your Own</h1>
<h2 class="sc-jcwofb eUsrOk sc-iBzFoy euxnRz">Bake your own Image</h2>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">In order to build your very own version of balenaOS for one of our supported boards, you will first need to make sure you have a working <a href="http://www.yoctoproject.org/docs/current/yocto-project-qs/yocto-project-qs.html" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">Yocto environment setup</a>.
Then pick the device type you want to build, in this example we will use the Raspberry Pi 3. So first we need to grab the <a href="https://github.com/balena-os/balena-raspberrypi" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR"><code>balena-raspberrypi</code></a> and initialise all its submodules.</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">git</span> clone https://github.com/balena-os/balena-raspberrypi
<span class="token function">git</span> submodule update --init --recursive
</code></pre>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">We can then use the helpful <code>BARYS</code> tool to setup up and start our build. To see all the functionality <code>BARYS</code> provides run <code>./balena-yocto-scripts/build/barys -h</code>
from with in the repo.</p>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">Now to actually build a development version of balenaOS for the Raspberry Pi 3, we can run the following:</p>
<pre class="language-bash"><code class="language-bash">./balena-yocto-scripts/build/barys -m raspberrypi3
</code></pre>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK"><strong>NOTE:</strong> To create a managed build (one that communicates with and can be managed through balena services),
you&#x27;ll need to specify the <code>--balenaio</code> flag, as balenaOS builds are unmanaged by default.</p>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">Now sit tight and maybe go and make several cups of tea, this is going to take a little while.</p>
<h2 class="sc-jcwofb eUsrOk sc-iBzFoy euxnRz">Supporting your Own Board</h2>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">Pre-requisites: a <a href="https://www.yoctoproject.org" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">Yocto</a> Board Support Package (BSP) layer for your particular board. It should be compatible to the Yocto releases balenaOS supports.</p>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">Repositories used to build balenaOS host Operating System (OS) are typically named <code>balena-&lt;board-family&gt;</code>. For example, consider <a href="https://github.com/balena-os/balena-raspberrypi" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">balena-raspberrypi</a> which is used for building the OS for <a href="https://raspberrypi.org" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">Raspberryi Pi</a>, or <a href="https://github.com/balena-os/balena-intel" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">balena-intel</a> repository which can be used to build a balena image for the Intel NUC boards.</p>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">Contributing support for a new board consist of creating a a Yocto package that includes:</p>
<ul>
<li>general hardware support for the specific board,</li>
<li>the balenaOS-specific software features,</li>
<li>deployment-specific features (i.e. settings to create SD card images or self-flashing images)</li>
</ul>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">The following documentation walks you through the steps of creating such a Yocto package. Because of the substantial difference between the hardware of many boards, this document provides general directions, and often it might be helpful to see the examples of already supported boards. The list of the relevant repositories is found the end of this document.</p>
<h3 class="sc-jcwofb eUsrOk sc-efHXLn eUYbYC">Board Support Repository Breakout</h3>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">The <code>balena-&lt;board-family&gt;</code> repositories use <a href="https://git-scm.com/docs/git-submodule" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">git submodules</a> for including required Yocto layers from the relevant sub-projects.</p>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">The root directory shall contain 2 directory entries:</p>
<ul>
<li>a <code>layers</code> directory</li>
<li><a href="https://github.com/balena-os/balena-yocto-scripts" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">balena-yocto-scripts</a> git submodule.</li>
</ul>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK"><em>Note: you add submodules by <code>git submodule add &lt;url&gt; &lt;directory&gt;</code>, see the git documentation for more details.</em></p>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">The root directory generally also includes the following files:</p>
<ul>
<li><code>CHANGELOG.md</code></li>
<li><code>LICENSE</code></li>
<li><code>README.md</code></li>
<li><code>VERSION</code></li>
</ul>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">and one or more files named <code>&lt;yocto-machine-name&gt;.coffee</code>, one for each of the boards that the repository will add support for (eg. <a href="https://github.com/balena-os/balena-raspberrypi/blob/master/raspberrypi3.coffee" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR"><code>raspberry-pi3.coffee</code></a> for Raspberry Pi 3 in <code>balena-raspberrypi</code>). This file contains information on the Yocto build for the specific board, in <a href="http://coffeescript.org/" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">CoffeeScript</a> format. A minimal version of this file, using Raspberry Pi 3 as the example, would be:</p>
<pre class="language-coffeescript"><code class="language-coffeescript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span>
  <span class="token property">yocto</span><span class="token operator">:</span>
    <span class="token property">machine</span><span class="token operator">:</span> <span class="token string">&#x27;raspberrypi3&#x27;</span>
    <span class="token property">image</span><span class="token operator">:</span> <span class="token string">&#x27;balena-image&#x27;</span>
    <span class="token property">fstype</span><span class="token operator">:</span> <span class="token string">&#x27;balenaos-img&#x27;</span>
    <span class="token property">version</span><span class="token operator">:</span> <span class="token string">&#x27;yocto-jethro&#x27;</span>
    <span class="token property">deployArtifact</span><span class="token operator">:</span> <span class="token string">&#x27;balena-image-raspberrypi3.balenaos-img&#x27;</span>
    <span class="token property">compressed</span><span class="token operator">:</span> <span class="token keyword">true</span>
</code></pre>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">The <code>layers</code> directory contains the git submodules of the yocto layers used in the build process. This normally means the following components are present:</p>
<ul>
<li><a href="https://www.yoctoproject.org/tools-resources/projects/poky" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">poky</a>  at the version/revision required by the board BSP</li>
<li><a href="https://github.com/openembedded/meta-openembedded" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">meta-openembedded</a> at the revision poky uses</li>
<li><a href="https://github.com/balena-os/meta-balena" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">meta-balena</a> using the master branch</li>
<li><a href="https://github.com/balena-os/oe-meta-go" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">oe-meta-go</a> using the master branch (there were no branches corresponding to the yocto releases at the time this howto was written)</li>
<li>Yocto BSP layer for the board (for example, the BSP layer for Raspberry Pi is <a href="https://github.com/agherzan/meta-raspberrypi" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">meta-raspberrypi</a>)</li>
<li>any additional Yocto layers required by the board BSP (check the Yocto BSP layer of the respective board for instructions on how to build the BSP and what are the Yocto dependencies of that particular BSP layer)</li>
</ul>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">In addition to the above git submodules, the &quot;layers&quot; directory also contains a <code>meta-balena-&lt;board-family&gt;</code> directory (please note this directory is <em>not</em> a git submodule, but an actual directory in the ). This directory contains the required customization for making a board balena enabled. For example, the <a href="https://github.com/balena-os/balena-raspberrypi" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">balena-raspberrypi</a> repository contains the directory <code>layers/meta-balena-raspberrypi</code> to supplement the BSP from <code>layers/meta-raspberrypi</code> git submodule, with any changes that might be required by balenaOS.</p>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">The layout so far looks as follows:</p>
<pre><code>├── CHANGELOG.md
├── LICENSE
├── README.md
├── VERSION
├── layers
│   ├── meta-openembedded
│   ├── meta-&lt;board-family&gt;
│   ├── meta-balena
│   ├── meta-balena-&lt;board-family&gt;
│   ├── oe-meta-go
│   └── poky
├── &lt;board&gt;.coffee
└── balena-yocto-scripts
</code></pre>
<h3 class="sc-jcwofb eUsrOk sc-efHXLn eUYbYC">meta-balena-<code>&lt;board-family&gt;</code> breakout</h3>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">This directory contains:</p>
<ul>
<li><code>COPYING.Apache-2.0</code> file with the <a href="http://www.apache.org/licenses/LICENSE-2.0" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">Apache Version 2.0 license</a>,</li>
<li><code>README.md</code> file specifying the supported boards</li>
</ul>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">and a number of directories out of which the mandatory ones are:</p>
<ul>
<li>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK"><code>conf</code> directory - contains the following files:</p>
<ul>
<li><code>layer.conf</code>, see the <a href="https://github.com/balena-os/balena-raspberrypi/blob/master/layers/meta-balena-raspberrypi/conf/layer.conf" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">layer.conf</a> from <code>meta-balena-raspberrypi</code> for an example, and see <a href="http://www.yoctoproject.org/docs/2.0/mega-manual/mega-manual.html#bsp-filelayout-layer" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">Yocto documentation</a></li>
<li><code>samples/bblayers.conf.sample</code> file in which all the required Yocto layers are listed, see this <a href="https://github.com/balena-os/balena-raspberrypi/blob/master/layers/meta-balena-raspberrypi/conf/samples/bblayers.conf.sample" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">bblayers.conf.sample</a> from <code>meta-balena-raspberrypi</code> for an example, and see the <a href="http://www.yoctoproject.org/docs/2.0/mega-manual/mega-manual.html#var-BBLAYERS" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">Yocto documentation</a></li>
<li><code>samples/local.conf.sample</code> file which defines part of the build configuration (see the meta-balena <a href="https://github.com/balena-os/meta-balena/blob/master/README.md" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">README.md</a> for an overview of some of the variables use in the <code>local.conf.sample</code> file). An existing file can be used (e.g. <a href="https://github.com/balena-os/balena-raspberrypi/blob/master/layers/meta-balena-raspberrypi/conf/samples/local.conf.sample" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">local.conf.sample</a>) but making sure the &quot;Supported machines&quot; area lists the appropriate machines this repository is used for. See also the <a href="http://www.yoctoproject.org/docs/2.0/mega-manual/mega-manual.html#structure-build-conf-local.conf" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">Yocto documentation</a>.</li>
</ul>
</li>
<li>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK"><code>recipes-containers/docker-disk</code> directory, which contains <code>docker-balena-supervisor-disk.bbappend</code> that shall define the following variable(s):</p>
<ul>
<li>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK"><code>SUPERVISOR_REPOSITORY_&lt;yocto-machine-name&gt;</code>: this variable is used to specify the build of the supervisor. It can be one of (must match the architecture of the board):</p>
<ul>
<li><strong>balena/armv7hf-supervisor</strong> (for armv7 boards),</li>
<li><strong>balena/i386-supervisor</strong>
(for x86 boards),</li>
<li><strong>balena/amd64-supervisor</strong> (for x86-64 boards),</li>
<li><strong>balena/rpi-supervisor</strong> (for raspberry pi 1),</li>
<li><strong>balena/armel-supervisor</strong> (for armv5 boards).</li>
</ul>
</li>
<li>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK"><code>LED_FILE_&lt;yocto-machine-name&gt;</code>: this variable should point to the <a href="https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-class-led" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">Linux sysfs path of an unused LED</a> if available for that particular board. This allows the unused LED to be flashed for quick visual device identification purposes. If no such unused LED exists, this variable shall not be used.</p>
</li>
</ul>
</li>
<li>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK"><code>recipes-core/images</code> directory, which contains at least a <code>balena-image.bbappend</code> file. Depending on the type of board you are adding support for, you should have your device support either just <code>balena-image</code> or both <code>balena-image-flasher</code> and <code>balena-image</code>. Generally, <code>balena-image</code> is for boards that boot directly
from external storage (these boards do not have internal storage to install balena on). <code>balena-image-flasher</code> is used when the targeted board has internal storage so this flasher image is burned onto an SD card or USB stick that is used for the initial boot. When booted, this flasher image will automatically install balena on internal storage.</p>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">  The <code>balena-image.bbappend</code> file shall define the following variables:</p>
<pre><code>- `IMAGE_FSTYPES_&lt;yocto-machine-name&gt;`: this variable is used to declare the type of the produced image (it can be ext3, ext4, balenaos-img etc. The usual type for a board that can boot from SD card, USB, is &quot;balenaos-img&quot;).

- `BALENA_BOOT_PARTITION_FILES_&lt;yocto-machine-name&gt;`: this allows adding files from the build&#x27;s deploy directory into the vfat formatted resin-boot partition (can be used to add bootloader config files, first stage bootloader, initramfs or anything else needed for the booting process to take place for your particular board). If the board uses different bootloader configuration files when booting from either external media (USB thumb drive, SD card etc.) or from internal media (mSATA, eMMC etc) then you would want make use of this variable to make sure the different bootloader configuration files get copied over and further manipulated as needed (see `INTERNAL_DEVICE_BOOTLOADER_CONFIG_&lt;yocto-machine-name&gt;` and `INTERNAL_DEVICE_BOOTLOADER_CONFIG_PATH_&lt;yocto-machine-name&gt;` below). Please note that you only reference these files here, it is the responsibility of a `.bb` or `.bbappend` to provide and deploy them (for bootloader config files this is done with an append typically in `recipes-bsp/&lt;your board&#x27;s bootloader&gt;/&lt;your board&#x27;s bootloader&gt;.bbappend`, see [balena-intel grub bbappend](https://github.com/balena-os/balena-intel/blob/master/layers/meta-balena-genericx86/recipes-bsp/grub/grub_%25.bbappend) for an example)

It is a space separated list of items with the following format: *FilenameRelativeToDeployDir:FilenameOnTheTarget*. If *FilenameOnTheTarget* is omitted then the *FilenameRelativeToDeployDir* will be used.

For example to have the Intel NUC `bzImage-intel-corei7-64.bin` copied from deploy directory over to the boot partition, renamed to `vmlinuz`:

```sh
BALENA_BOOT_PARTITION_FILES_nuc = &quot;bzImage-intel-corei7-64.bin:vmlinuz&quot;
```
</code></pre>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">  The <code>balena-image-flasher.bbappend</code> file shall define the following variables:</p>
<pre><code>- `IMAGE_FSTYPES_&lt;yocto-machine-name&gt;` (see above)
- `BALENA_BOOT_PARTITION_FILES_&lt;yocto-machine-name&gt;` (see above). For example, if the board uses different bootloader configuration files for booting from SD/USB and internal storage (see below the use of `INTERNAL_DEVICE_BOOTLOADER_CONFIG` variable), then make sure these files end up in the boot partition (i.e. they should be listed in this `BALENA_BOOT_PARTITION_FILES_&lt;yocto-machine-name&gt;` variable)
</code></pre>
</li>
<li>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK"><code>recipes-kernel/linux directory</code>: shall contain a <code>.bbappend</code> to the kernel recipe used by the respective board. This kernel <code>.bbappend</code> must &quot;inherit kernel-balena&quot; in order to add the necessary kernel configs for using with balena.</p>
</li>
<li>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK"><code>recipes-support/balena-init</code> directory - shall contain a <code>balena-init-flasher.bbappend</code> file if you intend to install balena to internal storage and hence use the flasher image. This shall define the following variables:</p>
<ul>
<li>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK"><code>INTERNAL_DEVICE_KERNEL_&lt;yocto-machine-name&gt;</code>: this variable is used to identify the internal storage where balena will be written to.</p>
</li>
<li>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK"><code>INTERNAL_DEVICE_BOOTLOADER_CONFIG_&lt;yocto-machine-name&gt;</code>: this variable is used to specify the filename of the bootloader configuration file used by your board when booting from internal media (must be the same with the <em>FilenameOnTheTarget</em> parameter of the bootloader internal config file used in the <code>BALENA_BOOT_PARTITION_FILES_&lt;yocto-machine-name&gt;</code> variable from <code>recipes-core/images/balena-image-flasher.bbappend</code>)</p>
</li>
<li>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK"><code>INTERNAL_DEVICE_BOOTLOADER_CONFIG_PATH_&lt;yocto-machine-name&gt;</code>: this variable is used to specify the relative path (including filename) to the resin-boot partition where <code>INTERNAL_DEVICE_BOOTLOADER_CONFIG_&lt;yocto-machine-name&gt;</code> will be copied to.</p>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">For example, setting</p>
<pre class="language-sh"><code class="language-sh">INTERNAL_DEVICE_BOOTLOADER_CONFIG_intel-corei7-64 = &quot;grub.cfg_internal&quot;
</code></pre>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">and</p>
<pre class="language-sh"><code class="language-sh">INTERNAL_DEVICE_BOOTLOADER_CONFIG_PATH_intel-corei7-64 = &quot;/EFI/BOOT/grub.cfg&quot;
</code></pre>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">will result that after flashing the file <code>grub.cfg</code>_internal is copied with the name <code>grub.cfg</code> to the /EFI/BOOT/ directory on the resin-boot partition.</p>
</li>
</ul>
</li>
</ul>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">The directory structure then looks similar to this:</p>
<pre><code>├── COPYING.Apache-2.0
├── README.md
├── conf
│   ├── layer.conf
│   └── samples
│       ├── bblayers.conf.sample
│       └── local.conf.sample
├── recipes-bsp
│   └── bootfiles
├── recipes-containers
│   └── docker-disk
│       └── docker-balena-supervisor-disk.bbappend
├── recipes-core
│   ├── images
│   │   └── balena-image.bbappend
├── recipes-kernel
│   └── linux
│       ├── linux-&lt;board-family&gt;-&lt;version&gt;
│       │   └── &lt;patch files&gt;
│       ├── linux-&lt;board-family&gt;_%.bbappend
│       └── linux-&lt;board&gt;_&lt;version&gt;.bbappend
└── recipes-support
    └── balena-init
        ├── files
        │   └── balena-init-board
        └── balena-init-board.bbappend
</code></pre>
<h3 class="sc-jcwofb eUsrOk sc-efHXLn eUYbYC">Building</h3>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">See the <a href="https://github.com/balena-os/meta-balena/blob/master/README.md" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">meta-balena Readme</a> on how to build the new balenaOS image after setting up the new board package as defined above.</p>
<h3 class="sc-jcwofb eUsrOk sc-efHXLn eUYbYC">Troubleshooting</h3>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">For specific examples on how board support is provided for existing devices, see the repositories in the <a href="/docs/supportedboards" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">Supported Boards</a> section.</p></div></div></div></div></div></div><div style="position:relative;z-index:3" class="sc-gKAblj cDwDsz sc-iCoHVE gZtEXP"><div class="sc-gKAblj cDwDsz sc-iCoHVE hlEduY sc-cKRKlA hZOMcA sc-iIgiFR lyVVi"><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO sc-hHEjAm jAoJEK"><div class="sc-gKAblj cDwDsz sc-iCoHVE fbWAy sc-hHEjAm bzJToQ"><div class="sc-gKAblj cDwDsz sc-iCoHVE iICyJN"><img style="height:50px" src="data:image/svg;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAAAqCAYAAADh9oTeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAN7UlEQVR42u1dC3QU1Rm+1IKK4Nv6QBGtSLJBOAXFWhVa8XmAzCZtPJ5WK2ql8tiZDdklPNQgoKVWrDzMzgRa7SbxsdoKSqs9wuEVIGQ3BJUKqBDk6QsNIE/z6P/f2ezOztw7O7PZhQDzn3PPZGfu/HPnzv/d/3H/e0NIW2jVjDNJRBkFZQ2UvSQsfwfHKhIOPELWhzoRhxw66alWHkYi8hYQ/BZmCcufwrHA6SiHTk6qKf0ZCSvLuAAwAmIxqZ3bx+k4h04OWjP7AhDsmaAFGi2DIAYGpQnuC5J1pT9xOtKhE5PQ1o8oPigNXEGvkevJqtkryapZq0ADbOeDQt4D1z1kScmPnY516MShSNlQEN5NXMFeE9hMFkytIcFxzaTc30JLha+JLJy6mtQEtpqYSx8D77ucDnaonZtBZdeCwC7kj+yBBvL+s0tB8I/EAKAvFeOOQh3wJeS9JhrifXhWjtPhDrUv+rD0PBDQ6TBiH+Ha+itnV5FXx3/NBYC+vFK8hyx/YZmJb3EU+CpwvND5AA61g2iQch8I4zfc0bv6xbXkzSc2WgaAvuC9a0o/MDGXvnLCrQ4dZ19AEU2iPp+Tf09dmjIA9GXh1FoQ+h0mgHjM+SAOHR+qLruchjfDcrNGIL8ni59bSir8h9IGgng5Qv2HsLxf8zx8dojUvHiF80FOUaqdew3IgETlIKKsgIKD5ntwnEciZfeS6pln2zf15dFw/xtwrKH8IvICOBaRNXMu0WuDG0lLSwe1IfJA+L0WTJgN5LUJOzMAgMTy+oTtpCawCRq3Ep59PW0DhlYjyi2p9qXLLbXEiiAebE/fGdoUTGhfrvc3jvQDrQ30pQKqHYjZ1sL3UG+aJUCElTFQ9ifh5dUCYRfNFaqVb6K/W0p+RCrHPwSC+mXGgRD0bSdvTLhXA8TB0JaPqDnmAOEU0QLyCG5whh9t3E4zHLggkP9ig9fEVuQ0xUyTsFJO6gLd6PlQSRcQ1slQDqcfAP6DpNw3nczzd6XPWlZ2FbThrYRIkgOEU8A3lUtsZynEBXhfzIpItHDutMnrBzpdYLjwavEaKqQIBKRKf08Q3lAatcA75KXiHpR3sOgsCrYFU6p1L9noAOEUiFLyTKGwcphaKWFlERw3mgjxNrJ67sU6k+hdZkZDRH5e9YOjA3/i8542AqHcvzU6am+FEg9nlvsHQ/moDSBYSyqKBlJeJWB+BX3Dgf8uei00qT7TQOiV6+/qyvPc7crzjqYFhNA1VOxul//lBYVnZuWJd7gEaXiWII7KdnuEa4eOvTAjQCgoOC0rz/PzbLd4P7Y5W/A84HKLtwwalFqKiqtgVJesPO+QLEHyZgviIzl54g1wuoMdHtcNGXlejlscCu1/FNoyItst3dPnDhjQ7ND6OV2iJnmL4bujD1D30rmJoCntDdeXcMAwT6dl9hlTgJTbNRpjBgMI7/KBEC/VMHLfGHNkg/4RUKxPqJX7voGjREIFp6mAKroBfq9KqJNBIOCHA6EN4N8J12JFrEbBTsYXBOhS+OgKlAMGHoLUCOffRGDlCJ5faK/B+ZF2geAqKDwfrj8NwrqH1Wbg+S28z7S+gnQupw8e1dbPEbzDgNcMaOchBr8tCLSk/ZrrccH986HuD8b3Fw9mC9LsqwuKz8H3TXh2vvdmhknkZwp1rXy/SYi/I2iQd5imzdpAT00dhpYpuzXGB82gsFycUCJlw60AAYW5CUqQvDJBVUOhwvPh/EwY1X8wAcFRWidUfA695+XCbpRH0N9sqJshIMDHOQofro4NAL1widOppmJQtuC9lSeUBgF1i2PaAgSXu3AAtGWblTajEOfkjembDAjQD9stvL/M0w5ZudLv4f2PJG2PIG6C951iAQg1DIGuTB5d+ttF0cVfHIeXgmE3Y8T/Fso4UjWvq9lkmgUgxOz7/dSmn+k5XRVuXx84t5pRbxH1LVTQnAnCXwwg2MflmymNYLfAKGsQArd0E2ck5fCQGlMFQu9c7/UgtPvttBkB2jt/TJYZEGy8/28N/QkmIFxrTvX9DUDAVBrWqM1yfNkRoRcYIFqh4R8w8Skwc+JJg+llGwhxQf8k5j8oIzrSkV/1K5rhWklsZA0WDYPzW5LyyzAQULhAYJ5BQctyj76glyD1QHsbzn2sq9uc5fYM0trUcG6nbuRE0+BFtNV75Y6+LDt/1JWuXCkXeC3maAlLQKA+jFvcoXvWd2giIRjRNMtyi/2B3+PwrC91z/hf/xHwHUyAgICBev7sfLFn9jBvDvyeaACdIH2k7cteuVIvOH9Yx2sv3DcZ2tOv9zDxYspP9V3Ws97fAITauf0ZAtoQC6EnjTQpQxhzAjs11y+Npuu0mANC9iYuJ04FCPEwaHlMOwT9MhR1RMWwKEaHrPLJKBDEevxYrLr9h47orBdgEJaV8dFQLNLxO5zj9tzJeXQHuPf5VIGAwqVr93qeM99zSGE3FFqdEP/RDAjou+j55LilfH29awo8F/HaC23crdc+rXTlgw+eAf31n6RAYAkypvpbDrkq1zH9BC2Q6ASd8pmF0OkGcMR7tR0IKhj+SzUAagY8IjDKfWFbPDIKhMIBFpxgrQPcnCOMvUIVTrFKJ9STkkV59AJqAwifadvgyvPeho4+r9DIldZkEaSlXB/BLYaZ7YXvhcKdUBe0BV7CyBQIdoPe6TZ7fYyeocZIAgRGnF/+wgYQbmGGR431OsP5PzOjSHptQkOwbQWC6kx74mFW31Tb92fKWQaTwdI9gjRfN/K5o8KZaDoUjLokGS80OewCAUfhNvk2UZPFxFl+2aS/FrEE97p879V6bWAl1Ap9+bopENRQKEsou1sEQhHj3g+59dEfoJEhVrg25kzPSRcQ1sUeHPTtbD9AEJdYuQeEdZb2vizB+wc6Iiby+t4KL4yw2AUCjsJpAAIAtaQTBwizrQ4COYJ0V1RT9tM50qss9uVzpkAIhU6Db/w1QxgnJ2WO6T8ReT1DI8xOeu8nM08nNcrDVPswTbO0AMF/lJpFali1pb0AAf0Dixrh9UTh9dxr0AiC2GRl4gieOd4uENAUaysIMHTLN42kWSbtfSuBV57nbtV/8PxUHxq1BARBfCVp+DSs/J0xMh8A296VJGI0ljP/MFi9HhCiodJ4wSTSxNymwQwgHEoXEFqIUtKZ/KO4e/sCAghBrjTQrH50Euhb7T3XDhtzVVRIqhMFV3woyeM7gMDU2gUCah/9PAX4APeheWK55HkuTycQMAoF1/Yltsnbz+zlcYJP35fseQQli7NicXfC5FdME4AjjFEeZnqEvDrmKLP9j0ZSO+8yc2ddaWABof7YA2HilowBQRA3o0Ns4ty+yosaoXOsD0GyJrA0UaYnUo0agdDN1Y3AtTjDzIvQZOd6b48Vt3QPhoTTCYSopgzp3v9jDJly+9ItvpY0ahQXyFkc57WZ7oUVlh+H3yPh+Iy62QNnmW9r1jQSOr2sOQoES0T5FRQ3gKmeAZaVRiBUjl93zIEw/6m6DM8j7MZcndZoEJo4+MHh/Aqj4KpmkTqZNvoC/aiIESaM5aPpoM41lHTCfCC90NgGwlCxO/ohunZ/hhNarcKHgMZJL0NkCkw4rYCmDQjuwgGGyTRB3IWh2tbAAfYl+hX6CJsFIHS0tVEc28kdwzC7FqXAq4jQGKz25IIpS445EJY+v8Rosx2PmWUplMz5TcF2tzyz7MqTCvQzsxZmg5vQjDJNsUgRCFGbf0Zb3p8LBCRMeTDdLYWbgt1II0HM9Q1z+9tc37BZTb3APxIW6Zd+Ryp8248ZEF6b+Dljy5eNaYoaLYBjxKJALcSZZGYkSJC8KHAWhP6A3jyynWuEWbG6WLxJmxvY+UrpAwL1X9ySYk3wxR36SUVTILQmcoaVSUnj/XEz5wNwin9p7lSj04wr0JLy2hp30NWtVBIrVM2qJxX+TzMOBNzZgrURGI3rpkUjBFuzT5lZkypYttFZ2YJodiwvLIo5R25xOW9UBj5v4wx2OrJP0VnH2D8mDfIAh8KpdZAzBQQtQKE9Gzia9BBojjKcULOUfcoi3A5U3VGxKroeQb/DSSWpUX5NQ6hWCBeY4RqEsPKJwQeJyHU0UQ/TwTWqJJuaIoYc7sAR8s60xSTo25t2IFSObyDLXlhOnR1WGI2uGEqNtLOv2nAnTW3G0ZamTYglILiPYe6R3Xx8astjbo0gFcPHfwpNJ0x50I6g2jZcc3c0BSVqT2uvtcb9eQT3nk1TqN2ihM+C5/qoY5zr75rkvtO1z8FUErM1Cgl1NTlL7Jl4sTe04eGo5nsS0zTwPt6zU107QZPz6gI96L8eaCutC55FJ+xwkwqcT+A/tGw4dwOu6tKvyD+fXESC/sY0AKGJvPunakDlN9xlc5Gy3xGHHDpuhKt4cNE8z55a9tcNphGlZED41+Q6dccKbgSgnoa4HHLouBOqIZqXYeK4LHq2hpSP22YZCLgtDG4TyXdaDtDp9XSoQIccSiupjkaQv7haPkgW4O53dKEOGwiVxeoGYSz/Q7uhl9VkK4ccOm4UDtwMAhvhjuar5+wioUlVAIhDMSBUjjtA3pu+HO77wiRstZpuLOaQQycMYbiKZu0x1oLGNwhuIG8rnel2jdptHI1+wA66QNvqaiSHHGp3hCEotOV5pg5dCAFmDvvaQbrdvOniaYccOpFI3ag1ZBkIuAVHddlVTsc5dHJSpOw2Ot3NB0It3VTYIYdOesI8kRrlAZo4teSlM+gOAhFlPv2HH1anwh1yqB3Q/wEfuP1vE0k0HwAAAABJRU5ErkJggg==" class="sc-jtiWoB vFLFe"/><div class="sc-gKAblj cDwDsz sc-iCoHVE gFbxTc sc-hHEjAm gAYhOq"><div class="sc-fKgIGh djMLxE sc-bCwgka eYntrq">Brought to you by</div> <a color="#2a506f" href="https://github.com/balena-os" class="sc-eGJXgd kcETfK sc-csTaMs bwZqFq"><img src="https://avatars2.githubusercontent.com/u/16914061?v=4" alt="balena-os" style="height:26px" class="sc-jtiWoB bAJKaz"/></a></div></div><div class="sc-gKAblj cDwDsz sc-iCoHVE decHvm"><h4 class="sc-jcwofb gLZSkR sc-cTJmaU gQhHqF">Navigation</h4><div class="sc-gKAblj cDwDsz sc-iCoHVE lePrqr"><a color="#527699" href="/docs" aria-labelledby="Docs" class="sc-eGJXgd eiUiyj sc-csTaMs brDNrO">Docs</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE lePrqr"><a color="#527699" href="/contributing" aria-labelledby="Contributing" class="sc-eGJXgd eiUiyj sc-csTaMs brDNrO">Contributing</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE lePrqr"><a color="#527699" href="https://github.com/balena-os/balena-os" aria-labelledby="GitHub" class="sc-eGJXgd eiUiyj sc-csTaMs brDNrO">GitHub</a></div></div><div class="sc-gKAblj cDwDsz sc-iCoHVE decHvm"><h4 class="sc-jcwofb gLZSkR sc-cTJmaU gQhHqF">Docs</h4><div class="sc-gKAblj cDwDsz sc-iCoHVE lePrqr"><a color="#527699" href="/docs/architecture-overview" class="sc-eGJXgd eiUiyj sc-csTaMs brDNrO">Architecture Overview</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE lePrqr"><a color="#527699" href="/docs/contribute-to-balena-os" class="sc-eGJXgd eiUiyj sc-csTaMs brDNrO">Contribute to balenaOS</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE lePrqr"><a color="#527699" href="/docs/building-your-own" class="sc-eGJXgd eiUiyj sc-csTaMs brDNrO">Building your Own</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE lePrqr"><a color="#527699" href="/docs/dynamic-page-about-os-name-language-name" class="sc-eGJXgd eiUiyj sc-csTaMs brDNrO">Dynamic page about {{ $os.name }} &amp; {{ $language.name }}</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE lePrqr"><a color="#527699" href="/docs/" class="sc-eGJXgd eiUiyj sc-csTaMs brDNrO">/docs/</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE lePrqr"><a color="#527699" href="/docs/getting-started-on-the-device-name" class="sc-eGJXgd eiUiyj sc-csTaMs brDNrO">Getting Started on the {{ $device.name }}</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE lePrqr"><a color="#527699" href="/docs/" class="sc-eGJXgd eiUiyj sc-csTaMs brDNrO">/docs/</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE lePrqr"><a color="#527699" href="/docs/supported-boards" class="sc-eGJXgd eiUiyj sc-csTaMs brDNrO">Supported Boards</a></div></div></div></div></div></div></div></div></div><script type="text/javascript">window.__routeInfo = JSON.parse("{\"template\":\"__react_static_root__/lib/renderer\",\"sharedHashesByProp\":{},\"data\":{\"analytics\":null,\"combination\":[{\"component\":\"Head\",\"rank\":1,\"options\":{\"pageUrl\":\"undefined/docs/building-your-own/1.6.3\",\"description\":\"The central place for all things BalenaOS related.\",\"title\":\"Building your Own\"}},{\"component\":\"Navigation\",\"rank\":1,\"options\":{\"name\":\"balena-os\",\"logo\":\"data:image/svg;base64,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\",\"routes\":[{\"name\":\"Docs\",\"url\":\"/docs\"},{\"name\":\"Contributing\",\"url\":\"/contributing\"},{\"name\":\"v1.6.3\",\"url\":\"https://github.com/balena-os/balena-os\"}],\"githubUrl\":\"https://github.com/balena-os/balena-os.git\"}},{\"component\":\"DocViewer\",\"rank\":1,\"options\":{\"title\":\"Building your Own\",\"current\":[\"docs\",\"building-your-own\",\"1.6.3\"],\"toc\":[{\"path\":[\"docs\",\"architecture-overview\"],\"title\":\"Architecture Overview\",\"sections\":[[\"header\",{\"level\":1},\"Architecture Overview\"],[\"header\",{\"level\":2},\"Introduction\"],[\"header\",{\"level\":2},\"OS composition\"],[\"header\",{\"level\":2},\"Userspace Components\"],[\"header\",{\"level\":3},\"Systemd\"],[\"header\",{\"level\":3},\"Docker\"],[\"header\",{\"level\":3},\"NetworkManager and ModemManager\"],[\"header\",{\"level\":3},\"DNSmasq\"],[\"header\",{\"level\":3},\"Avahi\"],[\"header\",{\"level\":3},\"OpenVPN\"],[\"header\",{\"level\":2},\"Image Partition Layout\"],[\"header\",{\"level\":2},\"Stateless and Read-Only rootFS\"],[\"header\",{\"level\":2},\"Dev vs. Prod images\"],[\"header\",{\"level\":2},\"OS Tools\"],[\"header\",{\"level\":3},\"Base Images\"],[\"header\",{\"level\":3},\"Balena Command Line Tool\"],[\"header\",{\"level\":4},\"Installation\"],[\"header\",{\"level\":4},\"Usage\"],[\"header\",{\"level\":5},\"Configure\"],[\"header\",{\"level\":5},\"Flash\"],[\"header\",{\"level\":5},\"Push\"],[\"header\",{\"level\":5},\"SSH\"],[\"header\",{\"level\":5},\"Logs\"]]},{\"path\":[\"docs\",\"contribute-to-balena-os\"],\"title\":\"Contribute to balenaOS\",\"sections\":[[\"header\",{\"level\":1},\"Contribute to balenaOS\"],[\"header\",{\"level\":2},\"Testing and Bug Reports\"],[\"header\",{\"level\":2},\"Submitting Fixes\"],[\"header\",{\"level\":2},\"Support for Additional Boards\"],[\"header\",{\"level\":2},\"Documentation\"],[\"header\",{\"level\":2},\"Tutorials\"]]},{\"path\":[\"docs\",\"building-your-own\"],\"title\":\"Building your Own\",\"sections\":[[\"header\",{\"level\":1},\"Building your Own\"],[\"header\",{\"level\":2},\"Bake your own Image\"],[\"header\",{\"level\":2},\"Supporting your Own Board\"],[\"header\",{\"level\":3},\"Board Support Repository Breakout\"],[\"header\",{\"level\":3},\"meta-balena-\",[\"inlinecode\",\"<board-family>\"],\" breakout\"],[\"header\",{\"level\":3},\"Building\"],[\"header\",{\"level\":3},\"Troubleshooting\"]]},{\"path\":[\"docs\",\"dynamic-page-about-os-name-language-name\"],\"title\":\"Dynamic page about {{ $os.name }} & {{ $language.name }}\",\"sections\":[[\"header\",{\"level\":1},\"Dynamic page about {{ $os.name }} & {{ $language.name }}\"],[\"header\",{\"level\":2},\"Smart import\"],[\"header\",{\"level\":2},\"Helpers Example\"]]},{\"path\":[\"docs\",\"\"],\"sections\":[[\"header\",{\"level\":2},\"Why Docker containers on embedded devices?\"],[\"header\",{\"level\":2},\"Why Yocto?\"],[\"header\",{\"level\":2},\"How is this different from cloud operating systems for containers?\"],[\"header\",{\"level\":2},\"How is this different from other embedded operating systems?\"]]},{\"path\":[\"docs\",\"getting-started-on-the-device-name\"],\"title\":\"Getting Started on the {{ $device.name }}\",\"sections\":[[\"header\",{\"level\":1},\"Getting Started on the {{ $device.name }}\"],[\"header\",{\"level\":2},\"Download an Image\"],[\"header\",{\"level\":2},\"Install the Balena CLI\"],[\"header\",{\"level\":2},\"Configure the Image\"],[\"header\",{\"level\":2},\"Get the Device Up and Running\"],[\"header\",{\"level\":3},\"Flash {{ $device.bootMedia }}\"],[\"header\",{\"level\":3},\"Boot the device\"],[\"header\",{\"level\":2},\"Running your first Container\"],[\"header\",{\"level\":3},\"Clone a demo Project\"],[\"header\",{\"level\":3},\"Get a Container Running\"],[\"header\",{\"level\":2},\"Poking Around balenaOS\"],[\"header\",{\"level\":4},\"To ssh into the host:\"],[\"header\",{\"level\":4},\"To ssh into a particular container:\"],[\"header\",{\"level\":2},\"Going Further\"],[\"header\",{\"level\":3},\"Advanced Settings\"],[\"header\",{\"level\":2},\"Creating a Project from Scratch\"]]},{\"path\":[\"docs\",\"\"],\"sections\":[[\"header\",{\"level\":2},\"What is balenaOS?\"]]},{\"path\":[\"docs\",\"supported-boards\"],\"title\":\"Supported Boards\",\"sections\":[[\"header\",{\"level\":1},\"Supported Boards\"],[\"header\",{\"level\":2},\"ARMv7\"],[\"header\",{\"level\":2},\"ARMv6\"],[\"header\",{\"level\":2},\"ARMv5\"],[\"header\",{\"level\":2},\"Intel x86_32\"],[\"header\",{\"level\":2},\"Intel x86_64\"]]}],\"versions\":[\"1.6.3\"],\"link\":\"https://github.com/balena-os/balena-os/edit/master/docs/custombuild.md\",\"content\":{\"markdown\":\"---\\ntitle: Architecture\\nlayout: docs.html\\n---\\n\\n# Building your Own\\n\\n## Bake your own Image\\nIn order to build your very own version of balenaOS for one of our supported boards, you will first need to make sure you have a working [Yocto environment setup](http://www.yoctoproject.org/docs/current/yocto-project-qs/yocto-project-qs.html).\\nThen pick the device type you want to build, in this example we will use the Raspberry Pi 3. So first we need to grab the [`balena-raspberrypi`](https://github.com/balena-os/balena-raspberrypi) and initialise all its submodules.\\n``` bash\\ngit clone https://github.com/balena-os/balena-raspberrypi\\ngit submodule update --init --recursive\\n```\\nWe can then use the helpful `BARYS` tool to setup up and start our build. To see all the functionality `BARYS` provides run `./balena-yocto-scripts/build/barys -h`\\nfrom with in the repo.\\n\\nNow to actually build a development version of balenaOS for the Raspberry Pi 3, we can run the following:\\n``` bash\\n./balena-yocto-scripts/build/barys -m raspberrypi3\\n```\\n\\n**NOTE:** To create a managed build (one that communicates with and can be managed through balena services),\\nyou'll need to specify the `--balenaio` flag, as balenaOS builds are unmanaged by default.\\n\\nNow sit tight and maybe go and make several cups of tea, this is going to take a little while.\\n\\n## Supporting your Own Board\\n\\nPre-requisites: a [Yocto](https://www.yoctoproject.org) Board Support Package (BSP) layer for your particular board. It should be compatible to the Yocto releases balenaOS supports.\\n\\nRepositories used to build balenaOS host Operating System (OS) are typically named `balena-<board-family>`. For example, consider [balena-raspberrypi](https://github.com/balena-os/balena-raspberrypi) which is used for building the OS for [Raspberryi Pi](https://raspberrypi.org), or [balena-intel](https://github.com/balena-os/balena-intel) repository which can be used to build a balena image for the Intel NUC boards.\\n\\nContributing support for a new board consist of creating a a Yocto package that includes:\\n\\n* general hardware support for the specific board,\\n* the balenaOS-specific software features,\\n* deployment-specific features (i.e. settings to create SD card images or self-flashing images)\\n\\nThe following documentation walks you through the steps of creating such a Yocto package. Because of the substantial difference between the hardware of many boards, this document provides general directions, and often it might be helpful to see the examples of already supported boards. The list of the relevant repositories is found the end of this document.\\n\\n### Board Support Repository Breakout\\n\\nThe `balena-<board-family>` repositories use [git submodules](https://git-scm.com/docs/git-submodule) for including required Yocto layers from the relevant sub-projects.\\n\\nThe root directory shall contain 2 directory entries:\\n\\n* a `layers` directory\\n* [balena-yocto-scripts](https://github.com/balena-os/balena-yocto-scripts) git submodule.\\n\\n_Note: you add submodules by `git submodule add <url> <directory>`, see the git documentation for more details._\\n\\nThe root directory generally also includes the following files:\\n\\n* `CHANGELOG.md`\\n* `LICENSE`\\n* `README.md`\\n* `VERSION`\\n\\nand one or more files named `<yocto-machine-name>.coffee`, one for each of the boards that the repository will add support for (eg. [`raspberry-pi3.coffee`](https://github.com/balena-os/balena-raspberrypi/blob/master/raspberrypi3.coffee) for Raspberry Pi 3 in `balena-raspberrypi`). This file contains information on the Yocto build for the specific board, in [CoffeeScript](http://coffeescript.org/) format. A minimal version of this file, using Raspberry Pi 3 as the example, would be:\\n\\n``` coffeescript\\nmodule.exports =\\n  yocto:\\n    machine: 'raspberrypi3'\\n    image: 'balena-image'\\n    fstype: 'balenaos-img'\\n    version: 'yocto-jethro'\\n    deployArtifact: 'balena-image-raspberrypi3.balenaos-img'\\n    compressed: true\\n```\\n\\nThe `layers` directory contains the git submodules of the yocto layers used in the build process. This normally means the following components are present:\\n\\n- [poky](https://www.yoctoproject.org/tools-resources/projects/poky)  at the version/revision required by the board BSP\\n- [meta-openembedded](https://github.com/openembedded/meta-openembedded) at the revision poky uses\\n- [meta-balena](https://github.com/balena-os/meta-balena) using the master branch\\n- [oe-meta-go](https://github.com/balena-os/oe-meta-go) using the master branch (there were no branches corresponding to the yocto releases at the time this howto was written)\\n- Yocto BSP layer for the board (for example, the BSP layer for Raspberry Pi is [meta-raspberrypi](https://github.com/agherzan/meta-raspberrypi))\\n- any additional Yocto layers required by the board BSP (check the Yocto BSP layer of the respective board for instructions on how to build the BSP and what are the Yocto dependencies of that particular BSP layer)\\n\\nIn addition to the above git submodules, the \\\"layers\\\" directory also contains a `meta-balena-<board-family>` directory (please note this directory is _not_ a git submodule, but an actual directory in the ). This directory contains the required customization for making a board balena enabled. For example, the [balena-raspberrypi](https://github.com/balena-os/balena-raspberrypi) repository contains the directory `layers/meta-balena-raspberrypi` to supplement the BSP from `layers/meta-raspberrypi` git submodule, with any changes that might be required by balenaOS.\\n\\nThe layout so far looks as follows:\\n\\n```\\n\u251C\u2500\u2500 CHANGELOG.md\\n\u251C\u2500\u2500 LICENSE\\n\u251C\u2500\u2500 README.md\\n\u251C\u2500\u2500 VERSION\\n\u251C\u2500\u2500 layers\\n\u2502   \u251C\u2500\u2500 meta-openembedded\\n\u2502   \u251C\u2500\u2500 meta-<board-family>\\n\u2502   \u251C\u2500\u2500 meta-balena\\n\u2502   \u251C\u2500\u2500 meta-balena-<board-family>\\n\u2502   \u251C\u2500\u2500 oe-meta-go\\n\u2502   \u2514\u2500\u2500 poky\\n\u251C\u2500\u2500 <board>.coffee\\n\u2514\u2500\u2500 balena-yocto-scripts\\n```\\n\\n### meta-balena-`<board-family>` breakout\\n\\nThis directory contains:\\n\\n* `COPYING.Apache-2.0` file with the [Apache Version 2.0 license](http://www.apache.org/licenses/LICENSE-2.0),\\n* `README.md` file specifying the supported boards\\n\\nand a number of directories out of which the mandatory ones are:\\n\\n- `conf` directory - contains the following files:\\n    - `layer.conf`, see the [layer.conf](https://github.com/balena-os/balena-raspberrypi/blob/master/layers/meta-balena-raspberrypi/conf/layer.conf) from `meta-balena-raspberrypi` for an example, and see [Yocto documentation](http://www.yoctoproject.org/docs/2.0/mega-manual/mega-manual.html#bsp-filelayout-layer)\\n    - `samples/bblayers.conf.sample` file in which all the required Yocto layers are listed, see this [bblayers.conf.sample](https://github.com/balena-os/balena-raspberrypi/blob/master/layers/meta-balena-raspberrypi/conf/samples/bblayers.conf.sample) from `meta-balena-raspberrypi` for an example, and see the [Yocto documentation](http://www.yoctoproject.org/docs/2.0/mega-manual/mega-manual.html#var-BBLAYERS)\\n    - `samples/local.conf.sample` file which defines part of the build configuration (see the meta-balena [README.md](https://github.com/balena-os/meta-balena/blob/master/README.md) for an overview of some of the variables use in the `local.conf.sample` file). An existing file can be used (e.g. [local.conf.sample](https://github.com/balena-os/balena-raspberrypi/blob/master/layers/meta-balena-raspberrypi/conf/samples/local.conf.sample)) but making sure the \\\"Supported machines\\\" area lists the appropriate machines this repository is used for. See also the [Yocto documentation](http://www.yoctoproject.org/docs/2.0/mega-manual/mega-manual.html#structure-build-conf-local.conf).\\n\\n- `recipes-containers/docker-disk` directory, which contains `docker-balena-supervisor-disk.bbappend` that shall define the following variable(s):\\n\\n    - `SUPERVISOR_REPOSITORY_<yocto-machine-name>`: this variable is used to specify the build of the supervisor. It can be one of (must match the architecture of the board):\\n        *  **balena/armv7hf-supervisor** (for armv7 boards),\\n        * **balena/i386-supervisor**\\n        (for x86 boards),\\n        * **balena/amd64-supervisor** (for x86-64 boards),\\n        * **balena/rpi-supervisor** (for raspberry pi 1),\\n        * **balena/armel-supervisor** (for armv5 boards).\\n\\n    - `LED_FILE_<yocto-machine-name>`: this variable should point to the [Linux sysfs path of an unused LED](https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-class-led) if available for that particular board. This allows the unused LED to be flashed for quick visual device identification purposes. If no such unused LED exists, this variable shall not be used.\\n\\n- `recipes-core/images` directory, which contains at least a `balena-image.bbappend` file. Depending on the type of board you are adding support for, you should have your device support either just `balena-image` or both `balena-image-flasher` and `balena-image`. Generally, `balena-image` is for boards that boot directly\\nfrom external storage (these boards do not have internal storage to install balena on). `balena-image-flasher` is used when the targeted board has internal storage so this flasher image is burned onto an SD card or USB stick that is used for the initial boot. When booted, this flasher image will automatically install balena on internal storage.\\n\\n  The `balena-image.bbappend` file shall define the following variables:\\n\\n    - `IMAGE_FSTYPES_<yocto-machine-name>`: this variable is used to declare the type of the produced image (it can be ext3, ext4, balenaos-img etc. The usual type for a board that can boot from SD card, USB, is \\\"balenaos-img\\\").\\n\\n    - `BALENA_BOOT_PARTITION_FILES_<yocto-machine-name>`: this allows adding files from the build's deploy directory into the vfat formatted resin-boot partition (can be used to add bootloader config files, first stage bootloader, initramfs or anything else needed for the booting process to take place for your particular board). If the board uses different bootloader configuration files when booting from either external media (USB thumb drive, SD card etc.) or from internal media (mSATA, eMMC etc) then you would want make use of this variable to make sure the different bootloader configuration files get copied over and further manipulated as needed (see `INTERNAL_DEVICE_BOOTLOADER_CONFIG_<yocto-machine-name>` and `INTERNAL_DEVICE_BOOTLOADER_CONFIG_PATH_<yocto-machine-name>` below). Please note that you only reference these files here, it is the responsibility of a `.bb` or `.bbappend` to provide and deploy them (for bootloader config files this is done with an append typically in `recipes-bsp/<your board's bootloader>/<your board's bootloader>.bbappend`, see [balena-intel grub bbappend](https://github.com/balena-os/balena-intel/blob/master/layers/meta-balena-genericx86/recipes-bsp/grub/grub_%25.bbappend) for an example)\\n\\n    It is a space separated list of items with the following format: *FilenameRelativeToDeployDir:FilenameOnTheTarget*. If *FilenameOnTheTarget* is omitted then the *FilenameRelativeToDeployDir* will be used.\\n\\n    For example to have the Intel NUC `bzImage-intel-corei7-64.bin` copied from deploy directory over to the boot partition, renamed to `vmlinuz`:\\n\\n    ```sh\\n    BALENA_BOOT_PARTITION_FILES_nuc = \\\"bzImage-intel-corei7-64.bin:vmlinuz\\\"\\n    ```\\n\\n  The `balena-image-flasher.bbappend` file shall define the following variables:\\n\\n    - `IMAGE_FSTYPES_<yocto-machine-name>` (see above)\\n    - `BALENA_BOOT_PARTITION_FILES_<yocto-machine-name>` (see above). For example, if the board uses different bootloader configuration files for booting from SD/USB and internal storage (see below the use of `INTERNAL_DEVICE_BOOTLOADER_CONFIG` variable), then make sure these files end up in the boot partition (i.e. they should be listed in this `BALENA_BOOT_PARTITION_FILES_<yocto-machine-name>` variable)\\n\\n- `recipes-kernel/linux directory`: shall contain a `.bbappend` to the kernel recipe used by the respective board. This kernel `.bbappend` must \\\"inherit kernel-balena\\\" in order to add the necessary kernel configs for using with balena.\\n\\n- `recipes-support/balena-init` directory - shall contain a `balena-init-flasher.bbappend` file if you intend to install balena to internal storage and hence use the flasher image. This shall define the following variables:\\n\\n  - `INTERNAL_DEVICE_KERNEL_<yocto-machine-name>`: this variable is used to identify the internal storage where balena will be written to.\\n  - `INTERNAL_DEVICE_BOOTLOADER_CONFIG_<yocto-machine-name>`: this variable is used to specify the filename of the bootloader configuration file used by your board when booting from internal media (must be the same with the *FilenameOnTheTarget* parameter of the bootloader internal config file used in the `BALENA_BOOT_PARTITION_FILES_<yocto-machine-name>` variable from `recipes-core/images/balena-image-flasher.bbappend`)\\n\\n  - `INTERNAL_DEVICE_BOOTLOADER_CONFIG_PATH_<yocto-machine-name>`: this variable is used to specify the relative path (including filename) to the resin-boot partition where `INTERNAL_DEVICE_BOOTLOADER_CONFIG_<yocto-machine-name>` will be copied to.\\n\\n    For example, setting\\n\\n    ```sh\\n    INTERNAL_DEVICE_BOOTLOADER_CONFIG_intel-corei7-64 = \\\"grub.cfg_internal\\\"\\n    ```\\n    and\\n    ```sh\\n    INTERNAL_DEVICE_BOOTLOADER_CONFIG_PATH_intel-corei7-64 = \\\"/EFI/BOOT/grub.cfg\\\"\\n    ```\\n    will result that after flashing the file `grub.cfg`_internal is copied with the name `grub.cfg` to the /EFI/BOOT/ directory on the resin-boot partition.\\n\\n\\nThe directory structure then looks similar to this:\\n```\\n\u251C\u2500\u2500 COPYING.Apache-2.0\\n\u251C\u2500\u2500 README.md\\n\u251C\u2500\u2500 conf\\n\u2502   \u251C\u2500\u2500 layer.conf\\n\u2502   \u2514\u2500\u2500 samples\\n\u2502       \u251C\u2500\u2500 bblayers.conf.sample\\n\u2502       \u2514\u2500\u2500 local.conf.sample\\n\u251C\u2500\u2500 recipes-bsp\\n\u2502   \u2514\u2500\u2500 bootfiles\\n\u251C\u2500\u2500 recipes-containers\\n\u2502   \u2514\u2500\u2500 docker-disk\\n\u2502       \u2514\u2500\u2500 docker-balena-supervisor-disk.bbappend\\n\u251C\u2500\u2500 recipes-core\\n\u2502   \u251C\u2500\u2500 images\\n\u2502   \u2502   \u2514\u2500\u2500 balena-image.bbappend\\n\u251C\u2500\u2500 recipes-kernel\\n\u2502   \u2514\u2500\u2500 linux\\n\u2502       \u251C\u2500\u2500 linux-<board-family>-<version>\\n\u2502       \u2502   \u2514\u2500\u2500 <patch files>\\n\u2502       \u251C\u2500\u2500 linux-<board-family>_%.bbappend\\n\u2502       \u2514\u2500\u2500 linux-<board>_<version>.bbappend\\n\u2514\u2500\u2500 recipes-support\\n    \u2514\u2500\u2500 balena-init\\n        \u251C\u2500\u2500 files\\n        \u2502   \u2514\u2500\u2500 balena-init-board\\n        \u2514\u2500\u2500 balena-init-board.bbappend\\n```\\n\\n### Building\\n\\nSee the [meta-balena Readme](https://github.com/balena-os/meta-balena/blob/master/README.md) on how to build the new balenaOS image after setting up the new board package as defined above.\\n\\n### Troubleshooting\\n\\nFor specific examples on how board support is provided for existing devices, see the repositories in the [Supported Boards](/docs/supportedboards) section.\\n\",\"jsonml\":[[\"hr\"],[\"hr\"],[\"header\",{\"level\":1},\"Building your Own\"],[\"header\",{\"level\":2},\"Bake your own Image\"],[\"para\",\"In order to build your very own version of balenaOS for one of our supported boards, you will first need to make sure you have a working \",[\"link\",{\"href\":\"http://www.yoctoproject.org/docs/current/yocto-project-qs/yocto-project-qs.html\"},\"Yocto environment setup\"],\".\\nThen pick the device type you want to build, in this example we will use the Raspberry Pi 3. So first we need to grab the \",[\"link\",{\"href\":\"https://github.com/balena-os/balena-raspberrypi\"},[\"inlinecode\",\"balena-raspberrypi\"]],\" and initialise all its submodules.\\n\",[\"inlinecode\",\" bash\\ngit clone https://github.com/balena-os/balena-raspberrypi\\ngit submodule update --init --recursive\\n\"],\"\\nWe can then use the helpful \",[\"inlinecode\",\"BARYS\"],\" tool to setup up and start our build. To see all the functionality \",[\"inlinecode\",\"BARYS\"],\" provides run \",[\"inlinecode\",\"./balena-yocto-scripts/build/barys -h\"],\"\\nfrom with in the repo.\"],[\"para\",\"Now to actually build a development version of balenaOS for the Raspberry Pi 3, we can run the following:\\n\",[\"inlinecode\",\" bash\\n./balena-yocto-scripts/build/barys -m raspberrypi3\\n\"]],[\"para\",[\"strong\",\"NOTE:\"],\" To create a managed build (one that communicates with and can be managed through balena services),\\nyou'll need to specify the \",[\"inlinecode\",\"--balenaio\"],\" flag, as balenaOS builds are unmanaged by default.\"],[\"para\",\"Now sit tight and maybe go and make several cups of tea, this is going to take a little while.\"],[\"header\",{\"level\":2},\"Supporting your Own Board\"],[\"para\",\"Pre-requisites: a \",[\"link\",{\"href\":\"https://www.yoctoproject.org\"},\"Yocto\"],\" Board Support Package (BSP) layer for your particular board. It should be compatible to the Yocto releases balenaOS supports.\"],[\"para\",\"Repositories used to build balenaOS host Operating System (OS) are typically named \",[\"inlinecode\",\"balena-<board-family>\"],\". For example, consider \",[\"link\",{\"href\":\"https://github.com/balena-os/balena-raspberrypi\"},\"balena-raspberrypi\"],\" which is used for building the OS for \",[\"link\",{\"href\":\"https://raspberrypi.org\"},\"Raspberryi Pi\"],\", or \",[\"link\",{\"href\":\"https://github.com/balena-os/balena-intel\"},\"balena-intel\"],\" repository which can be used to build a balena image for the Intel NUC boards.\"],[\"para\",\"Contributing support for a new board consist of creating a a Yocto package that includes:\"],[\"bulletlist\",[\"listitem\",\"general hardware support for the specific board,\"],[\"listitem\",\"the balenaOS-specific software features,\"],[\"listitem\",\"deployment-specific features (i.e. settings to create SD card images or self-flashing images)\"]],[\"para\",\"The following documentation walks you through the steps of creating such a Yocto package. Because of the substantial difference between the hardware of many boards, this document provides general directions, and often it might be helpful to see the examples of already supported boards. The list of the relevant repositories is found the end of this document.\"],[\"header\",{\"level\":3},\"Board Support Repository Breakout\"],[\"para\",\"The \",[\"inlinecode\",\"balena-<board-family>\"],\" repositories use \",[\"link\",{\"href\":\"https://git-scm.com/docs/git-submodule\"},\"git submodules\"],\" for including required Yocto layers from the relevant sub-projects.\"],[\"para\",\"The root directory shall contain 2 directory entries:\"],[\"bulletlist\",[\"listitem\",\"a \",[\"inlinecode\",\"layers\"],\" directory\"],[\"listitem\",[\"link\",{\"href\":\"https://github.com/balena-os/balena-yocto-scripts\"},\"balena-yocto-scripts\"],\" git submodule.\"]],[\"para\",[\"em\",\"Note: you add submodules by \",[\"inlinecode\",\"git submodule add <url> <directory>\"],\", see the git documentation for more details.\"]],[\"para\",\"The root directory generally also includes the following files:\"],[\"bulletlist\",[\"listitem\",[\"inlinecode\",\"CHANGELOG.md\"]],[\"listitem\",[\"inlinecode\",\"LICENSE\"]],[\"listitem\",[\"inlinecode\",\"README.md\"]],[\"listitem\",[\"inlinecode\",\"VERSION\"]]],[\"para\",\"and one or more files named \",[\"inlinecode\",\"<yocto-machine-name>.coffee\"],\", one for each of the boards that the repository will add support for (eg. \",[\"link\",{\"href\":\"https://github.com/balena-os/balena-raspberrypi/blob/master/raspberrypi3.coffee\"},[\"inlinecode\",\"raspberry-pi3.coffee\"]],\" for Raspberry Pi 3 in \",[\"inlinecode\",\"balena-raspberrypi\"],\"). This file contains information on the Yocto build for the specific board, in \",[\"link\",{\"href\":\"http://coffeescript.org/\"},\"CoffeeScript\"],\" format. A minimal version of this file, using Raspberry Pi 3 as the example, would be:\"],[\"para\",[\"inlinecode\",\" coffeescript\\nmodule.exports =\\n  yocto:\\n    machine: 'raspberrypi3'\\n    image: 'balena-image'\\n    fstype: 'balenaos-img'\\n    version: 'yocto-jethro'\\n    deployArtifact: 'balena-image-raspberrypi3.balenaos-img'\\n    compressed: true\\n\"]],[\"para\",\"The \",[\"inlinecode\",\"layers\"],\" directory contains the git submodules of the yocto layers used in the build process. This normally means the following components are present:\"],[\"bulletlist\",[\"listitem\",[\"link\",{\"href\":\"https://www.yoctoproject.org/tools-resources/projects/poky\"},\"poky\"],\"  at the version/revision required by the board BSP\"],[\"listitem\",[\"link\",{\"href\":\"https://github.com/openembedded/meta-openembedded\"},\"meta-openembedded\"],\" at the revision poky uses\"],[\"listitem\",[\"link\",{\"href\":\"https://github.com/balena-os/meta-balena\"},\"meta-balena\"],\" using the master branch\"],[\"listitem\",[\"link\",{\"href\":\"https://github.com/balena-os/oe-meta-go\"},\"oe-meta-go\"],\" using the master branch (there were no branches corresponding to the yocto releases at the time this howto was written)\"],[\"listitem\",\"Yocto BSP layer for the board (for example, the BSP layer for Raspberry Pi is \",[\"link\",{\"href\":\"https://github.com/agherzan/meta-raspberrypi\"},\"meta-raspberrypi\"],\")\"],[\"listitem\",\"any additional Yocto layers required by the board BSP (check the Yocto BSP layer of the respective board for instructions on how to build the BSP and what are the Yocto dependencies of that particular BSP layer)\"]],[\"para\",\"In addition to the above git submodules, the \\\"layers\\\" directory also contains a \",[\"inlinecode\",\"meta-balena-<board-family>\"],\" directory (please note this directory is \",[\"em\",\"not\"],\" a git submodule, but an actual directory in the ). This directory contains the required customization for making a board balena enabled. For example, the \",[\"link\",{\"href\":\"https://github.com/balena-os/balena-raspberrypi\"},\"balena-raspberrypi\"],\" repository contains the directory \",[\"inlinecode\",\"layers/meta-balena-raspberrypi\"],\" to supplement the BSP from \",[\"inlinecode\",\"layers/meta-raspberrypi\"],\" git submodule, with any changes that might be required by balenaOS.\"],[\"para\",\"The layout so far looks as follows:\"],[\"para\",[\"inlinecode\",\"\\n\u251C\u2500\u2500 CHANGELOG.md\\n\u251C\u2500\u2500 LICENSE\\n\u251C\u2500\u2500 README.md\\n\u251C\u2500\u2500 VERSION\\n\u251C\u2500\u2500 layers\\n\u2502   \u251C\u2500\u2500 meta-openembedded\\n\u2502   \u251C\u2500\u2500 meta-<board-family>\\n\u2502   \u251C\u2500\u2500 meta-balena\\n\u2502   \u251C\u2500\u2500 meta-balena-<board-family>\\n\u2502   \u251C\u2500\u2500 oe-meta-go\\n\u2502   \u2514\u2500\u2500 poky\\n\u251C\u2500\u2500 <board>.coffee\\n\u2514\u2500\u2500 balena-yocto-scripts\\n\"]],[\"header\",{\"level\":3},\"meta-balena-\",[\"inlinecode\",\"<board-family>\"],\" breakout\"],[\"para\",\"This directory contains:\"],[\"bulletlist\",[\"listitem\",[\"inlinecode\",\"COPYING.Apache-2.0\"],\" file with the \",[\"link\",{\"href\":\"http://www.apache.org/licenses/LICENSE-2.0\"},\"Apache Version 2.0 license\"],\",\"],[\"listitem\",[\"inlinecode\",\"README.md\"],\" file specifying the supported boards\"]],[\"para\",\"and a number of directories out of which the mandatory ones are:\"],[\"bulletlist\",[\"listitem\",[\"para\",[\"inlinecode\",\"conf\"],\" directory - contains the following files:\"],[\"bulletlist\",[\"listitem\",[\"inlinecode\",\"layer.conf\"],\", see the \",[\"link\",{\"href\":\"https://github.com/balena-os/balena-raspberrypi/blob/master/layers/meta-balena-raspberrypi/conf/layer.conf\"},\"layer.conf\"],\" from \",[\"inlinecode\",\"meta-balena-raspberrypi\"],\" for an example, and see \",[\"link\",{\"href\":\"http://www.yoctoproject.org/docs/2.0/mega-manual/mega-manual.html#bsp-filelayout-layer\"},\"Yocto documentation\"]],[\"listitem\",[\"inlinecode\",\"samples/bblayers.conf.sample\"],\" file in which all the required Yocto layers are listed, see this \",[\"link\",{\"href\":\"https://github.com/balena-os/balena-raspberrypi/blob/master/layers/meta-balena-raspberrypi/conf/samples/bblayers.conf.sample\"},\"bblayers.conf.sample\"],\" from \",[\"inlinecode\",\"meta-balena-raspberrypi\"],\" for an example, and see the \",[\"link\",{\"href\":\"http://www.yoctoproject.org/docs/2.0/mega-manual/mega-manual.html#var-BBLAYERS\"},\"Yocto documentation\"]],[\"listitem\",[\"para\",[\"inlinecode\",\"samples/local.conf.sample\"],\" file which defines part of the build configuration (see the meta-balena \",[\"link\",{\"href\":\"https://github.com/balena-os/meta-balena/blob/master/README.md\"},\"README.md\"],\" for an overview of some of the variables use in the \",[\"inlinecode\",\"local.conf.sample\"],\" file). An existing file can be used (e.g. \",[\"link\",{\"href\":\"https://github.com/balena-os/balena-raspberrypi/blob/master/layers/meta-balena-raspberrypi/conf/samples/local.conf.sample\"},\"local.conf.sample\"],\") but making sure the \\\"Supported machines\\\" area lists the appropriate machines this repository is used for. See also the \",[\"link\",{\"href\":\"http://www.yoctoproject.org/docs/2.0/mega-manual/mega-manual.html#structure-build-conf-local.conf\"},\"Yocto documentation\"],\".\"]]]],[\"listitem\",[\"para\",[\"inlinecode\",\"recipes-containers/docker-disk\"],\" directory, which contains \",[\"inlinecode\",\"docker-balena-supervisor-disk.bbappend\"],\" that shall define the following variable(s):\"],[\"bulletlist\",[\"listitem\",[\"para\",[\"inlinecode\",\"SUPERVISOR_REPOSITORY_<yocto-machine-name>\"],\": this variable is used to specify the build of the supervisor. It can be one of (must match the architecture of the board):\"],[\"bulletlist\",[\"listitem\",[\"strong\",\"balena/armv7hf-supervisor\"],\" (for armv7 boards),\"],[\"listitem\",[\"strong\",\"balena/i386-supervisor\"],\"\\n(for x86 boards),\"],[\"listitem\",[\"strong\",\"balena/amd64-supervisor\"],\" (for x86-64 boards),\"],[\"listitem\",[\"strong\",\"balena/rpi-supervisor\"],\" (for raspberry pi 1),\"],[\"listitem\",[\"para\",[\"strong\",\"balena/armel-supervisor\"],\" (for armv5 boards).\"]]]],[\"listitem\",[\"para\",[\"inlinecode\",\"LED_FILE_<yocto-machine-name>\"],\": this variable should point to the \",[\"link\",{\"href\":\"https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-class-led\"},\"Linux sysfs path of an unused LED\"],\" if available for that particular board. This allows the unused LED to be flashed for quick visual device identification purposes. If no such unused LED exists, this variable shall not be used.\"]]]],[\"listitem\",[\"para\",[\"inlinecode\",\"recipes-core/images\"],\" directory, which contains at least a \",[\"inlinecode\",\"balena-image.bbappend\"],\" file. Depending on the type of board you are adding support for, you should have your device support either just \",[\"inlinecode\",\"balena-image\"],\" or both \",[\"inlinecode\",\"balena-image-flasher\"],\" and \",[\"inlinecode\",\"balena-image\"],\". Generally, \",[\"inlinecode\",\"balena-image\"],\" is for boards that boot directly\\nfrom external storage (these boards do not have internal storage to install balena on). \",[\"inlinecode\",\"balena-image-flasher\"],\" is used when the targeted board has internal storage so this flasher image is burned onto an SD card or USB stick that is used for the initial boot. When booted, this flasher image will automatically install balena on internal storage.\"],[\"para\",\"The \",[\"inlinecode\",\"balena-image.bbappend\"],\" file shall define the following variables:\"],[\"bulletlist\",[\"listitem\",[\"para\",[\"inlinecode\",\"IMAGE_FSTYPES_<yocto-machine-name>\"],\": this variable is used to declare the type of the produced image (it can be ext3, ext4, balenaos-img etc. The usual type for a board that can boot from SD card, USB, is \\\"balenaos-img\\\").\"]],[\"listitem\",[\"para\",[\"inlinecode\",\"BALENA_BOOT_PARTITION_FILES_<yocto-machine-name>\"],\": this allows adding files from the build's deploy directory into the vfat formatted resin-boot partition (can be used to add bootloader config files, first stage bootloader, initramfs or anything else needed for the booting process to take place for your particular board). If the board uses different bootloader configuration files when booting from either external media (USB thumb drive, SD card etc.) or from internal media (mSATA, eMMC etc) then you would want make use of this variable to make sure the different bootloader configuration files get copied over and further manipulated as needed (see \",[\"inlinecode\",\"INTERNAL_DEVICE_BOOTLOADER_CONFIG_<yocto-machine-name>\"],\" and \",[\"inlinecode\",\"INTERNAL_DEVICE_BOOTLOADER_CONFIG_PATH_<yocto-machine-name>\"],\" below). Please note that you only reference these files here, it is the responsibility of a \",[\"inlinecode\",\".bb\"],\" or \",[\"inlinecode\",\".bbappend\"],\" to provide and deploy them (for bootloader config files this is done with an append typically in \",[\"inlinecode\",\"recipes-bsp/<your board's bootloader>/<your board's bootloader>.bbappend\"],\", see \",[\"link\",{\"href\":\"https://github.com/balena-os/balena-intel/blob/master/layers/meta-balena-genericx86/recipes-bsp/grub/grub_%25.bbappend\"},\"balena-intel grub bbappend\"],\" for an example)\"]]],[\"para\",\"It is a space separated list of items with the following format: \",[\"em\",\"FilenameRelativeToDeployDir:FilenameOnTheTarget\"],\". If \",[\"em\",\"FilenameOnTheTarget\"],\" is omitted then the \",[\"em\",\"FilenameRelativeToDeployDir\"],\" will be used.\"],[\"para\",\"For example to have the Intel NUC \",[\"inlinecode\",\"bzImage-intel-corei7-64.bin\"],\" copied from deploy directory over to the boot partition, renamed to \",[\"inlinecode\",\"vmlinuz\"],\":\"],[\"para\",[\"inlinecode\",\"sh\\nBALENA_BOOT_PARTITION_FILES_nuc = \\\"bzImage-intel-corei7-64.bin:vmlinuz\\\"\\n\"]],[\"para\",\"The \",[\"inlinecode\",\"balena-image-flasher.bbappend\"],\" file shall define the following variables:\"],[\"bulletlist\",[\"listitem\",[\"inlinecode\",\"IMAGE_FSTYPES_<yocto-machine-name>\"],\" (see above)\"],[\"listitem\",[\"inlinecode\",\"BALENA_BOOT_PARTITION_FILES_<yocto-machine-name>\"],\" (see above). For example, if the board uses different bootloader configuration files for booting from SD/USB and internal storage (see below the use of \",[\"inlinecode\",\"INTERNAL_DEVICE_BOOTLOADER_CONFIG\"],\" variable), then make sure these files end up in the boot partition (i.e. they should be listed in this \",[\"inlinecode\",\"BALENA_BOOT_PARTITION_FILES_<yocto-machine-name>\"],\" variable)\"]]],[\"listitem\",[\"para\",[\"inlinecode\",\"recipes-kernel/linux directory\"],\": shall contain a \",[\"inlinecode\",\".bbappend\"],\" to the kernel recipe used by the respective board. This kernel \",[\"inlinecode\",\".bbappend\"],\" must \\\"inherit kernel-balena\\\" in order to add the necessary kernel configs for using with balena.\"]],[\"listitem\",[\"para\",[\"inlinecode\",\"recipes-support/balena-init\"],\" directory - shall contain a \",[\"inlinecode\",\"balena-init-flasher.bbappend\"],\" file if you intend to install balena to internal storage and hence use the flasher image. This shall define the following variables:\"],[\"bulletlist\",[\"listitem\",[\"para\",[\"inlinecode\",\"INTERNAL_DEVICE_KERNEL_<yocto-machine-name>\"],\": this variable is used to identify the internal storage where balena will be written to.\"]],[\"listitem\",[\"para\",[\"inlinecode\",\"INTERNAL_DEVICE_BOOTLOADER_CONFIG_<yocto-machine-name>\"],\": this variable is used to specify the filename of the bootloader configuration file used by your board when booting from internal media (must be the same with the \",[\"em\",\"FilenameOnTheTarget\"],\" parameter of the bootloader internal config file used in the \",[\"inlinecode\",\"BALENA_BOOT_PARTITION_FILES_<yocto-machine-name>\"],\" variable from \",[\"inlinecode\",\"recipes-core/images/balena-image-flasher.bbappend\"],\")\"]],[\"listitem\",[\"para\",[\"inlinecode\",\"INTERNAL_DEVICE_BOOTLOADER_CONFIG_PATH_<yocto-machine-name>\"],\": this variable is used to specify the relative path (including filename) to the resin-boot partition where \",[\"inlinecode\",\"INTERNAL_DEVICE_BOOTLOADER_CONFIG_<yocto-machine-name>\"],\" will be copied to.\"],[\"para\",\"For example, setting\"],[\"para\",[\"inlinecode\",\"sh\\nINTERNAL_DEVICE_BOOTLOADER_CONFIG_intel-corei7-64 = \\\"grub.cfg_internal\\\"\\n\"],\"\\nand\\n\",[\"inlinecode\",\"sh\\nINTERNAL_DEVICE_BOOTLOADER_CONFIG_PATH_intel-corei7-64 = \\\"/EFI/BOOT/grub.cfg\\\"\\n\"],\"\\nwill result that after flashing the file \",[\"inlinecode\",\"grub.cfg\"],\"_internal is copied with the name \",[\"inlinecode\",\"grub.cfg\"],\" to the /EFI/BOOT/ directory on the resin-boot partition.\"]]]]],[\"para\",\"The directory structure then looks similar to this:\\n\",[\"inlinecode\",\"\\n\u251C\u2500\u2500 COPYING.Apache-2.0\\n\u251C\u2500\u2500 README.md\\n\u251C\u2500\u2500 conf\\n\u2502   \u251C\u2500\u2500 layer.conf\\n\u2502   \u2514\u2500\u2500 samples\\n\u2502       \u251C\u2500\u2500 bblayers.conf.sample\\n\u2502       \u2514\u2500\u2500 local.conf.sample\\n\u251C\u2500\u2500 recipes-bsp\\n\u2502   \u2514\u2500\u2500 bootfiles\\n\u251C\u2500\u2500 recipes-containers\\n\u2502   \u2514\u2500\u2500 docker-disk\\n\u2502       \u2514\u2500\u2500 docker-balena-supervisor-disk.bbappend\\n\u251C\u2500\u2500 recipes-core\\n\u2502   \u251C\u2500\u2500 images\\n\u2502   \u2502   \u2514\u2500\u2500 balena-image.bbappend\\n\u251C\u2500\u2500 recipes-kernel\\n\u2502   \u2514\u2500\u2500 linux\\n\u2502       \u251C\u2500\u2500 linux-<board-family>-<version>\\n\u2502       \u2502   \u2514\u2500\u2500 <patch files>\\n\u2502       \u251C\u2500\u2500 linux-<board-family>_%.bbappend\\n\u2502       \u2514\u2500\u2500 linux-<board>_<version>.bbappend\\n\u2514\u2500\u2500 recipes-support\\n    \u2514\u2500\u2500 balena-init\\n        \u251C\u2500\u2500 files\\n        \u2502   \u2514\u2500\u2500 balena-init-board\\n        \u2514\u2500\u2500 balena-init-board.bbappend\\n\"]],[\"header\",{\"level\":3},\"Building\"],[\"para\",\"See the \",[\"link\",{\"href\":\"https://github.com/balena-os/meta-balena/blob/master/README.md\"},\"meta-balena Readme\"],\" on how to build the new balenaOS image after setting up the new board package as defined above.\"],[\"header\",{\"level\":3},\"Troubleshooting\"],[\"para\",\"For specific examples on how board support is provided for existing devices, see the repositories in the \",[\"link\",{\"href\":\"/docs/supportedboards\"},\"Supported Boards\"],\" section.\"]]},\"latest\":\"1.6.3\",\"version\":\"1.6.3\"}},{\"component\":\"Footer\",\"rank\":1,\"options\":{\"name\":\"balena-os\",\"owner\":{\"handle\":\"balena-os\",\"type\":\"Organization\",\"name\":\"balena-os\",\"description\":\"Balena brings the benefits of Linux containers to the IoT. Develop iteratively, deploy safely, and manage at scale.\",\"url\":\"https://github.com/balena-os\",\"email\":\"hello@balena.io\",\"avatar\":\"https://avatars2.githubusercontent.com/u/16914061?v=4\"},\"logo\":\"data:image/svg;base64,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\",\"routes\":[{\"name\":\"Docs\",\"url\":\"/docs\"},{\"name\":\"Contributing\",\"url\":\"/contributing\"},{\"name\":\"GitHub\",\"url\":\"https://github.com/balena-os/balena-os\"}],\"toc\":[{\"path\":[\"docs\",\"architecture-overview\"],\"title\":\"Architecture Overview\",\"sections\":[[\"header\",{\"level\":1},\"Architecture Overview\"],[\"header\",{\"level\":2},\"Introduction\"],[\"header\",{\"level\":2},\"OS composition\"],[\"header\",{\"level\":2},\"Userspace Components\"],[\"header\",{\"level\":3},\"Systemd\"],[\"header\",{\"level\":3},\"Docker\"],[\"header\",{\"level\":3},\"NetworkManager and ModemManager\"],[\"header\",{\"level\":3},\"DNSmasq\"],[\"header\",{\"level\":3},\"Avahi\"],[\"header\",{\"level\":3},\"OpenVPN\"],[\"header\",{\"level\":2},\"Image Partition Layout\"],[\"header\",{\"level\":2},\"Stateless and Read-Only rootFS\"],[\"header\",{\"level\":2},\"Dev vs. Prod images\"],[\"header\",{\"level\":2},\"OS Tools\"],[\"header\",{\"level\":3},\"Base Images\"],[\"header\",{\"level\":3},\"Balena Command Line Tool\"],[\"header\",{\"level\":4},\"Installation\"],[\"header\",{\"level\":4},\"Usage\"],[\"header\",{\"level\":5},\"Configure\"],[\"header\",{\"level\":5},\"Flash\"],[\"header\",{\"level\":5},\"Push\"],[\"header\",{\"level\":5},\"SSH\"],[\"header\",{\"level\":5},\"Logs\"]]},{\"path\":[\"docs\",\"contribute-to-balena-os\"],\"title\":\"Contribute to balenaOS\",\"sections\":[[\"header\",{\"level\":1},\"Contribute to balenaOS\"],[\"header\",{\"level\":2},\"Testing and Bug Reports\"],[\"header\",{\"level\":2},\"Submitting Fixes\"],[\"header\",{\"level\":2},\"Support for Additional Boards\"],[\"header\",{\"level\":2},\"Documentation\"],[\"header\",{\"level\":2},\"Tutorials\"]]},{\"path\":[\"docs\",\"building-your-own\"],\"title\":\"Building your Own\",\"sections\":[[\"header\",{\"level\":1},\"Building your Own\"],[\"header\",{\"level\":2},\"Bake your own Image\"],[\"header\",{\"level\":2},\"Supporting your Own Board\"],[\"header\",{\"level\":3},\"Board Support Repository Breakout\"],[\"header\",{\"level\":3},\"meta-balena-\",[\"inlinecode\",\"<board-family>\"],\" breakout\"],[\"header\",{\"level\":3},\"Building\"],[\"header\",{\"level\":3},\"Troubleshooting\"]]},{\"path\":[\"docs\",\"dynamic-page-about-os-name-language-name\"],\"title\":\"Dynamic page about {{ $os.name }} & {{ $language.name }}\",\"sections\":[[\"header\",{\"level\":1},\"Dynamic page about {{ $os.name }} & {{ $language.name }}\"],[\"header\",{\"level\":2},\"Smart import\"],[\"header\",{\"level\":2},\"Helpers Example\"]]},{\"path\":[\"docs\",\"\"],\"sections\":[[\"header\",{\"level\":2},\"Why Docker containers on embedded devices?\"],[\"header\",{\"level\":2},\"Why Yocto?\"],[\"header\",{\"level\":2},\"How is this different from cloud operating systems for containers?\"],[\"header\",{\"level\":2},\"How is this different from other embedded operating systems?\"]]},{\"path\":[\"docs\",\"getting-started-on-the-device-name\"],\"title\":\"Getting Started on the {{ $device.name }}\",\"sections\":[[\"header\",{\"level\":1},\"Getting Started on the {{ $device.name }}\"],[\"header\",{\"level\":2},\"Download an Image\"],[\"header\",{\"level\":2},\"Install the Balena CLI\"],[\"header\",{\"level\":2},\"Configure the Image\"],[\"header\",{\"level\":2},\"Get the Device Up and Running\"],[\"header\",{\"level\":3},\"Flash {{ $device.bootMedia }}\"],[\"header\",{\"level\":3},\"Boot the device\"],[\"header\",{\"level\":2},\"Running your first Container\"],[\"header\",{\"level\":3},\"Clone a demo Project\"],[\"header\",{\"level\":3},\"Get a Container Running\"],[\"header\",{\"level\":2},\"Poking Around balenaOS\"],[\"header\",{\"level\":4},\"To ssh into the host:\"],[\"header\",{\"level\":4},\"To ssh into a particular container:\"],[\"header\",{\"level\":2},\"Going Further\"],[\"header\",{\"level\":3},\"Advanced Settings\"],[\"header\",{\"level\":2},\"Creating a Project from Scratch\"]]},{\"path\":[\"docs\",\"\"],\"sections\":[[\"header\",{\"level\":2},\"What is balenaOS?\"]]},{\"path\":[\"docs\",\"supported-boards\"],\"title\":\"Supported Boards\",\"sections\":[[\"header\",{\"level\":1},\"Supported Boards\"],[\"header\",{\"level\":2},\"ARMv7\"],[\"header\",{\"level\":2},\"ARMv6\"],[\"header\",{\"level\":2},\"ARMv5\"],[\"header\",{\"level\":2},\"Intel x86_32\"],[\"header\",{\"level\":2},\"Intel x86_64\"]]}]}}]},\"path\":\"docs/building-your-own/1.6.3\",\"sharedData\":{},\"siteData\":{}}");</script><script defer="" type="text/javascript" src="/templates/vendors~main.0ca8d44b.js"></script><script defer="" type="text/javascript" src="/main.402ddbf4.js"></script></body></html>
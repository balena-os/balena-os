{"template":"__react_static_root__/lib/renderer","sharedHashesByProp":{},"data":{"analytics":null,"combination":[{"component":"Head","rank":1,"options":{"pageUrl":"undefined/docs/architecture-overview/1.6.3","description":"The central place for all things BalenaOS related.","title":"Architecture Overview"}},{"component":"Navigation","rank":1,"options":{"name":"balena-os","logo":"data:image/svg;base64,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","routes":[{"name":"Docs","url":"/docs"},{"name":"Contributing","url":"/contributing"},{"name":"v1.6.3","url":"https://github.com/balena-os/balena-os"}],"githubUrl":"https://github.com/balena-os/balena-os.git"}},{"component":"DocViewer","rank":1,"options":{"title":"Architecture Overview","current":["docs","architecture-overview","1.6.3"],"toc":[{"path":["docs","architecture-overview"],"title":"Architecture Overview","sections":[["header",{"level":1},"Architecture Overview"],["header",{"level":2},"Introduction"],["header",{"level":2},"OS composition"],["header",{"level":2},"Userspace Components"],["header",{"level":3},"Systemd"],["header",{"level":3},"Docker"],["header",{"level":3},"NetworkManager and ModemManager"],["header",{"level":3},"DNSmasq"],["header",{"level":3},"Avahi"],["header",{"level":3},"OpenVPN"],["header",{"level":2},"Image Partition Layout"],["header",{"level":2},"Stateless and Read-Only rootFS"],["header",{"level":2},"Dev vs. Prod images"],["header",{"level":2},"OS Tools"],["header",{"level":3},"Base Images"],["header",{"level":3},"Balena Command Line Tool"],["header",{"level":4},"Installation"],["header",{"level":4},"Usage"],["header",{"level":5},"Configure"],["header",{"level":5},"Flash"],["header",{"level":5},"Push"],["header",{"level":5},"SSH"],["header",{"level":5},"Logs"]]},{"path":["docs","contribute-to-balena-os"],"title":"Contribute to balenaOS","sections":[["header",{"level":1},"Contribute to balenaOS"],["header",{"level":2},"Testing and Bug Reports"],["header",{"level":2},"Submitting Fixes"],["header",{"level":2},"Support for Additional Boards"],["header",{"level":2},"Documentation"],["header",{"level":2},"Tutorials"]]},{"path":["docs","building-your-own"],"title":"Building your Own","sections":[["header",{"level":1},"Building your Own"],["header",{"level":2},"Bake your own Image"],["header",{"level":2},"Supporting your Own Board"],["header",{"level":3},"Board Support Repository Breakout"],["header",{"level":3},"meta-balena-",["inlinecode","<board-family>"]," breakout"],["header",{"level":3},"Building"],["header",{"level":3},"Troubleshooting"]]},{"path":["docs","dynamic-page-about-os-name-language-name"],"title":"Dynamic page about {{ $os.name }} & {{ $language.name }}","sections":[["header",{"level":1},"Dynamic page about {{ $os.name }} & {{ $language.name }}"],["header",{"level":2},"Smart import"],["header",{"level":2},"Helpers Example"]]},{"path":["docs",""],"sections":[["header",{"level":2},"Why Docker containers on embedded devices?"],["header",{"level":2},"Why Yocto?"],["header",{"level":2},"How is this different from cloud operating systems for containers?"],["header",{"level":2},"How is this different from other embedded operating systems?"]]},{"path":["docs","getting-started-on-the-device-name"],"title":"Getting Started on the {{ $device.name }}","sections":[["header",{"level":1},"Getting Started on the {{ $device.name }}"],["header",{"level":2},"Download an Image"],["header",{"level":2},"Install the Balena CLI"],["header",{"level":2},"Configure the Image"],["header",{"level":2},"Get the Device Up and Running"],["header",{"level":3},"Flash {{ $device.bootMedia }}"],["header",{"level":3},"Boot the device"],["header",{"level":2},"Running your first Container"],["header",{"level":3},"Clone a demo Project"],["header",{"level":3},"Get a Container Running"],["header",{"level":2},"Poking Around balenaOS"],["header",{"level":4},"To ssh into the host:"],["header",{"level":4},"To ssh into a particular container:"],["header",{"level":2},"Going Further"],["header",{"level":3},"Advanced Settings"],["header",{"level":2},"Creating a Project from Scratch"]]},{"path":["docs",""],"sections":[["header",{"level":2},"What is balenaOS?"]]},{"path":["docs","supported-boards"],"title":"Supported Boards","sections":[["header",{"level":1},"Supported Boards"],["header",{"level":2},"ARMv7"],["header",{"level":2},"ARMv6"],["header",{"level":2},"ARMv5"],["header",{"level":2},"Intel x86_32"],["header",{"level":2},"Intel x86_64"]]}],"versions":["1.6.3"],"link":"https://github.com/balena-os/balena-os/edit/master/docs/architecture.md","content":{"markdown":"---\ntitle: Architecture\nlayout: docs.html\n---\n\n# Architecture Overview\n\n## Introduction\n\nBalenaOS is an operating system optimised for running Docker containers on embedded devices, with an emphasis on reliability over long periods of operation, as well as a productive developer workflow inspired by the lessons learned while building balena.\n\nThe core insight behind balenaOS is that Linux Containers offer, for the first time, a practical path to using virtualisation on embedded devices. VMs and hypervisors have lead to huge leaps in productivity and automation for cloud deployments, but their abstraction of hardware as well as their resource overhead and lack of hardware support means that they are out of the question for embedded scenarios. With OS-level virtualisation as implemented for Linux Containers, both those objections are lifted for Linux devices, of which there are many in the Internet of Things.\n\nBalenaOS is an operating system built for easy portability to multiple device types (via the Yocto framework) and optimised for Linux Containers, and Docker in particular. There are many decisions, large and small, we have made to enable that vision, which are present throughout our architecture.\n\nThe first version of balenaOS was developed as part of balena, and has run on thousands of embedded devices, deployed in many different contexts for several years. BalenaOS v2 represents the combination of the learnings we extracted over those years, as well as our determination to make balenaOS a first-class open source project, able to run as an independent operating system, for any context where embedded devices and containers intersect.\n\nWe look forward to working with the community to grow and mature balenaOS into an operating system with even broader device support, a broader operating envelope, and as always, taking advantage of the most modern developments in security and reliability.\n\n## OS composition\n\nThe OS is composed of multiple yocto layers. The [Yocto Project](https://www.yoctoproject.org/) build system uses these layers to compile balenaOS for the various [supported platforms](./supportedboards.md).\nThis document will not go into detailed explanation about how the [Yocto Project](https://www.yoctoproject.org/) works, but will require from the reader a basic understanding of its internals and release versioning/codename.\n\n| Codename | Yocto Project Version | Release Date | Current Version | Support Level | Poky Version | BitBake branch |\n|:--------:|:---------------------:|:------------:|:---------------:|:-------------:|:------------:|:--------------:|\n|   Pyro   |          2.3          |   Apr 2017   |                 |  Development  |              |                |\n|   Morty  |          2.2          |   Oct 2016   |      2.2.1      |     Stable    |     16.0     |      1.32      |\n|  Krogoth |          2.1          |   Apr 2016   |      2.1.2      |     Stable    |     15.0     |      1.30      |\n|  Jethro  |          2.0          |   Nov 2015   |      2.0.3      |   Community   |     14.0     |      1.28      |\n|   Fido   |          1.8          |   Apr 2015   |      1.8.2      |   Community   |     13.0     |      1.26      |\n|   Dizzy  |          1.7          |   Oct 2014   |      1.7.3      |   Community   |     12.0     |      1.24      |\n|   Daisy  |          1.6          |   Apr 2014   |      1.6.3      |   Community   |     11.0     |      1.22      |\n|   Dora   |          1.5          |   Oct 2013   |      1.5.4      |   Community   |     10.0     |      1.20      |\n\nWe will start looking into balenaOS’s composition from the core of the [Yocto Project](https://www.yoctoproject.org/), i.e. poky. Poky has released a whole bunch of versions and supporting all of them is not in the scope of our OS, but we do try to support its latest versions. This might sound ironic as we do not currently support poky’s last version (i.e. 2.1/Krogoth), but this is only because we did not need this version yet. We tend to support versions of poky based on what our supported boards require and also do a yearly update to the latest poky version for all the boards that can run that version. Currently we support three poky versions: 2.0/Jethro, 1.8/Fido and 1.6/Daisy.\n\nOn top of poky we add the collection of packages from meta-openembedded.\nNow that we are done with setting up the build system let’s add Board Support Packages (BSP), these layers are here to provide board-specific configuration and packages (e.g. bootloader, kernel), thus enabling building physical hardware (not emulators). These types of layers are the ones one should be looking for if one wants to add support for a board; if you already have this layer your job should be fairly straightforward, if you do not have it you might be looking into a very cumbersome job.\nAt this point we have all the bits and pieces in place to build an OS.\nThe core code of balenaOS resides in meta-balena. This layer handles a lot of functionality but the main thing that one should remember now is that here one will find the `balena-image.bb` recipe. This layer also needs a poky version-specific layer to combine with (e.g. meta-balena-jethro), these two layers will give you the necessary framework for the abstract balenaOS generation.\nNow for the final piece of the puzzle, the board-specific meta-balena configuration layer. This layer goes hand in hand with a BSP layer, for example for the Raspberry Pi family (i.e. rpi0, rpi1, rpi2, rpi3) that is supported by the meta-raspberrypi BSP, we provide a meta-balena-raspberrypi layer that configures meta-balena to the raspberrypi's needs.\n\nBelow is a representative example from the Raspberry Pi family, which helps explain [meta-balena-raspberrypi/conf/samples/bblayers.conf.sample](https://github.com/balena-os/balena-raspberrypi/blob/master/layers/meta-balena-raspberrypi/conf/samples/bblayers.conf.sample).\n\n| Layer Name                        | Repository                                                                      | Description                                                                           |\n|-----------------------------------|-------------------------------------------------------------------------------|---------------------------------------------------------------------------------------|\n| meta-balena                        | https://github.com/balena-os/meta-balena                                        | This repository enables building balenaOS for various devices                         |\n| meta-balena-jethro                 | https://github.com/balena-os/meta-balena                                        | This layer enables building balenaOS for jethro supported BSPs                        |\n| meta-balena-raspberrypi            | https://github.com/balena-os/balena-raspberrypi                                 | Enables building balenaOS for chosen meta-raspberrypi machines.                        |\n| meta-raspberrypi                  | https://github.com/agherzan/meta-raspberrypi                                  | This is the general hardware specific BSP overlay for the Raspberry Pi device family. |\n| meta-openembedded                 | http://git.openembedded.org/meta-openembedded                                 | Collection of OpenEmbedded layers                                                     |\n| meta-openembedded/meta-oe         | https://github.com/openembedded/meta-openembedded/tree/master/meta-oe         |                                                                                       |\n| meta-openembedded/meta-python     | https://github.com/openembedded/meta-openembedded/tree/master/meta-python     | The home of python modules for OpenEmbedded.                                          |\n| meta-openembedded/meta-networking | https://github.com/openembedded/meta-openembedded/tree/master/meta-networking | Central point for networking-relatedpackages and configuration.                       |\n| oe-meta-go                        | https://github.com/mem/oe-meta-go                                             | OpenEmbedded layer for the Go programming language                                    |\n| poky/meta-yocto                   | https://git.yoctoproject.org/git/meta-yocto                                   |                                                                                       |\n| poky/meta                         | https://git.yoctoproject.org/git/poky                                         | Core functionality and configuration of Yocto Project                                 |\n\n\n\n## Userspace Components\nThe balenaOS userspace tries to package only the bare essentials for running containers while still offering a lot of flexibility. The philosophy is that software and services always default to being in a container, unless they are generically useful to all containers or they absolutely can’t live in a container.  The userspace consists of many open source components, but in this section we will just highlight some of the important ones.\n\n<img src=\"/images/docs/arch/userspace-components.png\" width=\"90%\">\n\n### Systemd\nWe use systemd as the init system for balenaOS and it is responsible for launching and managing all the other services. We leverage many of the great features of systemd, such as adjusting OOM scores for critical services and running services in separate mount namespaces. Systemd also allows us to easily manage service dependencies.\n\n### Docker\nThe Docker engine is a lightweight container runtime that allows us to build and run linux containers on balenaOS. BalenaOS has been optimized to run Docker containers and has been set up to use the journald log driver and DNSmasq for container DNS resolution.\nWe use AUFS as the underlying storage driver since it is arguably the most production tested storage driver in the Docker ecosystem. It also allows us to more easily support devices with older kernel versions and additionally gives us the ability to run on devices with Unmanaged NAND flash.\n\n### NetworkManager and ModemManager\nBalenaOS uses NetworkManager accompanied by ModemManager, to deliver a stable and reliable connection to the internet, be it via ethenet, wifi or cellular modem. Additionally to make headless configuration of the device’s network easy, we have added a `system-connections` folder in the boot partition which is copied into `/etc/NetworkManager/system-connections`. So any valid NetworkManager connection file can just be dropped into the boot partition before device commissioning.\n\n### DNSmasq\n\nDNSmasq is here to manage the nameservers that NetworkManager provides for balenaOS.\nNetworkManager will discover the nameservers that can be used and a binary called `resolvconf` will write them to a tmpfs location, from where DNSmasq will take over and manage these nameservers to give the user the fastest most responsive DNS resolution.\n\n### Avahi\nIn order to improve the development experience of balenaOS, there is an Avahi daemon that starts advertising the device as `balena.local` or `<hostname>.local` on boot if the image is a development image.\n\n### OpenVPN\n\nBalenaOS will provide the user with an OpenVPN server that they might use. It is worth noting that this server will be disabled by default and manual interaction from the user is needed to activate and configure this server to their needs.\n\n## Image Partition Layout\n\n<img src=\"/images/docs/arch/partition-layout.png\" width=\"90%\">\n\nThe first partition, resin-boot, is meant to hold boot important bits according to each board (e.g. kernel image, bootloader image). It also holds a very important file that you will find mentioned elsewhere in this document (i.e. `config.json`). The config.json file is the central point of configuring balenaOS and defining its behaviour, for example you can set your hostname, allow persistent logging, etc.\nResin-rootA is the partition that holds our read-only root filesystem; it holds almost everything that balenaOS is.\nResin-rootB is an empty partition that is only used when the rootfs is to be updated. We follow the Blue-Green deployment strategy. Essentially we have one active partition that is the OS’s current rootfs and one dormant one that is empty, we download the new rootfs to the dormant partition and try to switch them, if the switch is successful the dormant partition becomes the new rootfs, if not, we rollback to the old active partition.\nResin-state is the partition that holds persistent data as explained in the [Stateless and Read-only rootfs](#stateless-and-read-only-rootfs).\nResin-data is the partition that holds downloaded Docker images. Generally any container data will be found here.\n\n## Stateless and Read-Only rootFS\n\nBalenaOS comes with a read-only root filesystem, so we can ensure our hostOS is stateless, but we still need some data to be persistent over system reboots. We achieve this with a very simple mechanism, i.e. bind mounts.\nBalenaOS contains a partition named resin-state that is meant to hold all this persistent data, inside we populate a Linux filesystem hierarchy standard with the rootfs paths that we require to be persistent. After this partition is populated we are ready to bind mount the respective rootfs paths to this read-write location, thus allowing different components (e.g. journald) to be able to write data to disk. A mechanism to purge this partition is provided, thus allowing users to rollback to an unconfigured balenaOS image.\n\nA diagram of our read-only rootfs can be seen below:\n\n<img src=\"/images/docs/arch/read-only-rootfs.png\" width=\"90%\">\n\n## Dev vs. Prod images\nBalenaOS comes in two flavours, namely Development (dev) and Production (prod).\nThe Development images are recommended while getting started with balenaOS and building a system.\nThe dev images enable a number of useful features while developing, namely:\n\n* Passwordless SSH to balenaOS\n* The device broadcasts as balena.local or \\<hostname\\>.local on the network for easy access.\n* Docker socket exposed on via port 2377\n* Getty console attached to tty1 and serial\n\n__Note:__ Raspberry Pi devices don’t have Getty attached to serial.\n\nThe production images have all of the above functionality disabled by default. In both forms of the OS we write logs to an 8 MB journald RAM\nbuffer in order to avoid wear on the flash storage used by most of the supported boards. However, persistent logging can be enabled by setting\nthe `\"persistentLogging\": true` key in the `config.json` file in the boot partition of the device.\n\n## OS Tools\n\n### Base Images\n\nTo help getting started with containers on embedded systems, balenaOS comes with a full complement of over 500 Docker base images. We currently have base images for\nDebian, Fedora and Alpine Linux distributions, as well as Nodejs, Python, Go and Java language base images. For a more in-depth look into all the available base images head over\nto the [balena base images wiki](http://balena.io/docs/runtime/balena-base-images/) or the [Docker Hub repository](https://hub.docker.com/u/resin/).\n\n### Balena Command Line Tool\n\nThe balena CLI is a set of useful tools that help with setting up and developing containers with a balenaOS device. The goal of the CLI is to provide\na simple and intuitive developer experience. Currently, local mode part of the CLI are evolving fast and is considered 'beta', so as always, we love it when you report bugs,\nyou can report them here: [github.com/balena-io/balena-cli](https://github.com/balena-io/balena-cli)\n\n#### Installation\nCurrently the CLI is a node.js based command line tool which requires that our system has the following dependencies installed and in our path:\n\n* [node.js 6.x](https://nodejs.org/en/)\n* [npm package manager](https://www.npmjs.com/)\n* [rsync](https://download.samba.org/pub/rsync/rsync.html)\n* [ssh](http://www.openssh.com/)\n\nOnce we have those setup we can install the CLI using npm:\n``` bash\n$ npm install --global --production --unsafe-perm balena-cli\n```\n#### Usage\n##### Configure\n`balena local configure` allows you configure or reconfigure a balenaOS system image or SD card. Currently, this allows for configuration of wifi settings, hostname and enablement of\npersistent journald logs.\n\n``` bash\n$ balena help local configure\nUsage: local configure <target>\n\nUse this command to configure or reconfigure a balenaOS drive or image.\n\nExamples:\n\n\t$ balena local configure /dev/sdc\n\t$ balena local configure path/to/image.img\n```\n\n##### Flash\n`balena local flash` command helps to easily and safely flash the balenaOS system image on an SD card or USB drive.\n\n__Note:__ Currently, `balena local flash` doesn't work with the Intel Edison board.\n\n``` bash\n$ balena help local flash\nUsage: local flash <image>\n\nUse this command to flash a balenaOS image to a drive.\n\nExamples:\n\n\t$ balena local flash path/to/balenaos.img\n\t$ balena local flash path/to/balenaos.img --drive /dev/disk2\n\t$ balena local flash path/to/balenaos.img --drive /dev/disk2 --yes\n\nOptions:\n\n    --yes, -y                           confirm non-interactively          \n    --drive, -d <drive>                 drive     \n```\n\n##### Push\nThe `balena local push` command enables you to quickly build and deploy a Docker container to a target device. It also allows you to easily sync code between your laptop\ndirectory and your running container on the target. Once you have a balenaOS host device running and advertising on the network,\n`balena local push` will allow you to iterate code on a container service. `push` has a lot of advanced functionality, which all gets encoded into the `.balena-sync.yml` file in your\nproject directory. To better understand the `.yml` file, let's look at an example:\n\n```\n  app-name: myapp\n  build-triggers:\n    - Dockerfile: 9396730559c4107a0d82f95373c45d8e0634556342fb4ee276a7bc1c84c51570\n    - package.json: 1e40740d7cf5018cf887124ee75917eb139d49473c51464580feda247b3a4641\ndestination: /usr/src/app\nignore:\n  - .git\n  - node_modules/\n```\n\nLet's look a bit into some of these settings keys.\n\n* `app-name:` represents the name of the Docker image and corresponding running container on the target device.\n* `build-triggers:` is a list of file names and their content hashes. Any changes in the files contained in this list will result in a `docker build .` on the\ntarget device.\n* `destination:` this sets the destination sync directory in the container running on the device. This allows you to synchronise a `--source` directory on your laptop to a running\ncontainer on the device. This is very useful when developing with interpreted languages like Python or Node.js, as you can sync just your source code across, without rebuilding the\nentire container.\n* `ignore:` is a list of files or directories that you would like to be ignored during the directory sync. This is useful in the case where you have `node_modules` in your source\ndirectory that is compiled to run on your x86 laptop, but you are pushing your code over to an ARM based embedded device.\n\nThe push has quite a bit of functionality and a few useful flags. Check out the `balena help local push`:\n\n``` bash\n$ balena help local push\nUsage: local push [deviceIp]\n\nWarning: 'balena local push' requires an openssh-compatible client and 'rsync' to\nbe correctly installed in your shell environment. For more information (including\nWindows support) please check the README here: https://github.com/balena-io/balena-cli\n\nUse this command to push your local changes to a container on a LAN-accessible balenaOS device on the fly.\n\nIf `Dockerfile` or any file in the 'build-triggers' list is changed,\na new container will be built and run on your device.\nIf not, changes will simply be synced with `rsync` into the application container.\n\nAfter every 'balena local push' the updated settings will be saved in\n'<source>/.balena-sync.yml' and will be used in later invocations. You can\nalso change any option by editing '.balena-sync.yml' directly.\n\nHere is an example '.balena-sync.yml' :\n\n\t$ cat $PWD/.balena-sync.yml\n\tdestination: '/usr/src/app'\n\tbefore: 'echo Hello'\n\tafter: 'echo Done'\n\tignore:\n\t\t- .git\n\t\t- node_modules/\n\nCommand line options have precedence over the ones saved in '.balena-sync.yml'.\n\nIf '.gitignore' is found in the source directory then all explicitly listed files will be\nexcluded when using rsync to update the container. You can choose to change this default behavior with the\n'--skip-gitignore' option.\n\nExamples:\n\n\t$ balena local push\n\t$ balena local push --app-name test-server --build-triggers package.json,requirements.txt\n\t$ balena local push --force-build\n\t$ balena local push --force-build --skip-logs\n\t$ balena local push --ignore lib/\n\t$ balena local push --verbose false\n\t$ balena local push 192.168.2.10 --source . --destination /usr/src/app\n\t$ balena local push 192.168.2.10 -s /home/user/myBalenaProject -d /usr/src/app --before 'echo Hello' --after 'echo Done'\n\nOptions:\n\n    --source, -s <path>                 root of project directory to push                                                                                       \n    --destination, -d <path>            destination path on device container                                                                                    \n    --ignore, -i <paths>                comma delimited paths to ignore when syncing with 'rsync'                                                               \n    --skip-gitignore                    do not parse excluded/included files from .gitignore                                                                    \n    --before, -b <command>              execute a command before pushing                                                                                        \n    --after, -a <command>               execute a command after pushing                                                                                         \n    --progress, -p                      show progress                                                                                                           \n    --skip-logs                         do not stream logs after push                                                                                           \n    --verbose, -v                       increase verbosity                                                                                                      \n    --app-name, -n <name>               application name - may contain lowercase characters, digits and one or more dashes. It may not start or end with a dash.\n    --build-triggers, -r <files>        comma delimited file list that will trigger a container rebuild if changed                                              \n    --force-build, -f                   force a container build and run                                                                                         \n    --env, -e <env>                     environment variable (e.g. --env 'ENV=value'). Multiple --env parameters are supported.              \n```\n\n##### SSH\n`balena local ssh` discovers balenaOS devices on the local network and allows you to drop a SSH session into any of the containers running on the device. It also enables to you to\ndrop in to the underlying host OS by doing `balena local ssh --host`, however you can of course always just do `ssh root@balena.local -p22222`.\n\n```\n$ balena help local ssh\nUsage: local ssh [deviceIp]\n\nWarning: 'balena local ssh' requires an openssh-compatible client to be correctly\ninstalled in your shell environment. For more information (including Windows\nsupport) please check the README here: https://github.com/balena-io/balena-cli\n\nUse this command to get a shell into the running application container of\nyour device.\n\nThe '--host' option will get you a shell into the Host OS of the balenaOS device.\nNo option will return a list of containers to enter or you can explicitly select\none by passing its name to the --container option\n\nExamples:\n\n\t$ balena local ssh\n\t$ balena local ssh --host\n\t$ balena local ssh --container chaotic_water\n\t$ balena local ssh --container chaotic_water --port 22222\n\t$ balena local ssh --verbose\n\nOptions:\n\n    --verbose, -v                       increase verbosity                 \n    --host, -s                          get a shell into the host OS       \n    --container, -c <container>         name of container to access        \n    --port, -p <port>                   ssh port number (default: 22222)  \n```\n\n##### Logs\n`balena local logs` allows the fetching of logs from any of the running containers on the device.\n\n``` bash\n$ balena help local logs\nUsage: local logs [deviceIp]\n\n\nExamples:\n\n\t$ balena local logs\n\t$ balena local logs -f\n\t$ balena local logs 192.168.1.10\n\t$ balena local logs 192.168.1.10 -f\n\t$ balena local logs 192.168.1.10 -f --app-name myapp\n\nOptions:\n\n    --follow, -f                        follow log                         \n    --app-name, -a <name>               name of container to get logs from\n```\n","jsonml":[["hr"],["hr"],["header",{"level":1},"Architecture Overview"],["header",{"level":2},"Introduction"],["para","BalenaOS is an operating system optimised for running Docker containers on embedded devices, with an emphasis on reliability over long periods of operation, as well as a productive developer workflow inspired by the lessons learned while building balena."],["para","The core insight behind balenaOS is that Linux Containers offer, for the first time, a practical path to using virtualisation on embedded devices. VMs and hypervisors have lead to huge leaps in productivity and automation for cloud deployments, but their abstraction of hardware as well as their resource overhead and lack of hardware support means that they are out of the question for embedded scenarios. With OS-level virtualisation as implemented for Linux Containers, both those objections are lifted for Linux devices, of which there are many in the Internet of Things."],["para","BalenaOS is an operating system built for easy portability to multiple device types (via the Yocto framework) and optimised for Linux Containers, and Docker in particular. There are many decisions, large and small, we have made to enable that vision, which are present throughout our architecture."],["para","The first version of balenaOS was developed as part of balena, and has run on thousands of embedded devices, deployed in many different contexts for several years. BalenaOS v2 represents the combination of the learnings we extracted over those years, as well as our determination to make balenaOS a first-class open source project, able to run as an independent operating system, for any context where embedded devices and containers intersect."],["para","We look forward to working with the community to grow and mature balenaOS into an operating system with even broader device support, a broader operating envelope, and as always, taking advantage of the most modern developments in security and reliability."],["header",{"level":2},"OS composition"],["para","The OS is composed of multiple yocto layers. The ",["link",{"href":"https://www.yoctoproject.org/"},"Yocto Project"]," build system uses these layers to compile balenaOS for the various ",["link",{"href":"./supportedboards.md"},"supported platforms"],".\nThis document will not go into detailed explanation about how the ",["link",{"href":"https://www.yoctoproject.org/"},"Yocto Project"]," works, but will require from the reader a basic understanding of its internals and release versioning/codename."],["para","| Codename | Yocto Project Version | Release Date | Current Version | Support Level | Poky Version | BitBake branch |\n|:--------:|:---------------------:|:------------:|:---------------:|:-------------:|:------------:|:--------------:|\n|   Pyro   |          2.3          |   Apr 2017   |                 |  Development  |              |                |\n|   Morty  |          2.2          |   Oct 2016   |      2.2.1      |     Stable    |     16.0     |      1.32      |\n|  Krogoth |          2.1          |   Apr 2016   |      2.1.2      |     Stable    |     15.0     |      1.30      |\n|  Jethro  |          2.0          |   Nov 2015   |      2.0.3      |   Community   |     14.0     |      1.28      |\n|   Fido   |          1.8          |   Apr 2015   |      1.8.2      |   Community   |     13.0     |      1.26      |\n|   Dizzy  |          1.7          |   Oct 2014   |      1.7.3      |   Community   |     12.0     |      1.24      |\n|   Daisy  |          1.6          |   Apr 2014   |      1.6.3      |   Community   |     11.0     |      1.22      |\n|   Dora   |          1.5          |   Oct 2013   |      1.5.4      |   Community   |     10.0     |      1.20      |"],["para","We will start looking into balenaOS’s composition from the core of the ",["link",{"href":"https://www.yoctoproject.org/"},"Yocto Project"],", i.e. poky. Poky has released a whole bunch of versions and supporting all of them is not in the scope of our OS, but we do try to support its latest versions. This might sound ironic as we do not currently support poky’s last version (i.e. 2.1/Krogoth), but this is only because we did not need this version yet. We tend to support versions of poky based on what our supported boards require and also do a yearly update to the latest poky version for all the boards that can run that version. Currently we support three poky versions: 2.0/Jethro, 1.8/Fido and 1.6/Daisy."],["para","On top of poky we add the collection of packages from meta-openembedded.\nNow that we are done with setting up the build system let’s add Board Support Packages (BSP), these layers are here to provide board-specific configuration and packages (e.g. bootloader, kernel), thus enabling building physical hardware (not emulators). These types of layers are the ones one should be looking for if one wants to add support for a board; if you already have this layer your job should be fairly straightforward, if you do not have it you might be looking into a very cumbersome job.\nAt this point we have all the bits and pieces in place to build an OS.\nThe core code of balenaOS resides in meta-balena. This layer handles a lot of functionality but the main thing that one should remember now is that here one will find the ",["inlinecode","balena-image.bb"]," recipe. This layer also needs a poky version-specific layer to combine with (e.g. meta-balena-jethro), these two layers will give you the necessary framework for the abstract balenaOS generation.\nNow for the final piece of the puzzle, the board-specific meta-balena configuration layer. This layer goes hand in hand with a BSP layer, for example for the Raspberry Pi family (i.e. rpi0, rpi1, rpi2, rpi3) that is supported by the meta-raspberrypi BSP, we provide a meta-balena-raspberrypi layer that configures meta-balena to the raspberrypi's needs."],["para","Below is a representative example from the Raspberry Pi family, which helps explain ",["link",{"href":"https://github.com/balena-os/balena-raspberrypi/blob/master/layers/meta-balena-raspberrypi/conf/samples/bblayers.conf.sample"},"meta-balena-raspberrypi/conf/samples/bblayers.conf.sample"],"."],["para","| Layer Name                        | Repository                                                                      | Description                                                                           |\n|-----------------------------------|-------------------------------------------------------------------------------|---------------------------------------------------------------------------------------|\n| meta-balena                        | https://github.com/balena-os/meta-balena                                        | This repository enables building balenaOS for various devices                         |\n| meta-balena-jethro                 | https://github.com/balena-os/meta-balena                                        | This layer enables building balenaOS for jethro supported BSPs                        |\n| meta-balena-raspberrypi            | https://github.com/balena-os/balena-raspberrypi                                 | Enables building balenaOS for chosen meta-raspberrypi machines.                        |\n| meta-raspberrypi                  | https://github.com/agherzan/meta-raspberrypi                                  | This is the general hardware specific BSP overlay for the Raspberry Pi device family. |\n| meta-openembedded                 | http://git.openembedded.org/meta-openembedded                                 | Collection of OpenEmbedded layers                                                     |\n| meta-openembedded/meta-oe         | https://github.com/openembedded/meta-openembedded/tree/master/meta-oe         |                                                                                       |\n| meta-openembedded/meta-python     | https://github.com/openembedded/meta-openembedded/tree/master/meta-python     | The home of python modules for OpenEmbedded.                                          |\n| meta-openembedded/meta-networking | https://github.com/openembedded/meta-openembedded/tree/master/meta-networking | Central point for networking-relatedpackages and configuration.                       |\n| oe-meta-go                        | https://github.com/mem/oe-meta-go                                             | OpenEmbedded layer for the Go programming language                                    |\n| poky/meta-yocto                   | https://git.yoctoproject.org/git/meta-yocto                                   |                                                                                       |\n| poky/meta                         | https://git.yoctoproject.org/git/poky                                         | Core functionality and configuration of Yocto Project                                 |"],["header",{"level":2},"Userspace Components"],["para","The balenaOS userspace tries to package only the bare essentials for running containers while still offering a lot of flexibility. The philosophy is that software and services always default to being in a container, unless they are generically useful to all containers or they absolutely can’t live in a container.  The userspace consists of many open source components, but in this section we will just highlight some of the important ones."],["para","<img src=\"/images/docs/arch/userspace-components.png\" width=\"90%\">"],["header",{"level":3},"Systemd"],["para","We use systemd as the init system for balenaOS and it is responsible for launching and managing all the other services. We leverage many of the great features of systemd, such as adjusting OOM scores for critical services and running services in separate mount namespaces. Systemd also allows us to easily manage service dependencies."],["header",{"level":3},"Docker"],["para","The Docker engine is a lightweight container runtime that allows us to build and run linux containers on balenaOS. BalenaOS has been optimized to run Docker containers and has been set up to use the journald log driver and DNSmasq for container DNS resolution.\nWe use AUFS as the underlying storage driver since it is arguably the most production tested storage driver in the Docker ecosystem. It also allows us to more easily support devices with older kernel versions and additionally gives us the ability to run on devices with Unmanaged NAND flash."],["header",{"level":3},"NetworkManager and ModemManager"],["para","BalenaOS uses NetworkManager accompanied by ModemManager, to deliver a stable and reliable connection to the internet, be it via ethenet, wifi or cellular modem. Additionally to make headless configuration of the device’s network easy, we have added a ",["inlinecode","system-connections"]," folder in the boot partition which is copied into ",["inlinecode","/etc/NetworkManager/system-connections"],". So any valid NetworkManager connection file can just be dropped into the boot partition before device commissioning."],["header",{"level":3},"DNSmasq"],["para","DNSmasq is here to manage the nameservers that NetworkManager provides for balenaOS.\nNetworkManager will discover the nameservers that can be used and a binary called ",["inlinecode","resolvconf"]," will write them to a tmpfs location, from where DNSmasq will take over and manage these nameservers to give the user the fastest most responsive DNS resolution."],["header",{"level":3},"Avahi"],["para","In order to improve the development experience of balenaOS, there is an Avahi daemon that starts advertising the device as ",["inlinecode","balena.local"]," or ",["inlinecode","<hostname>.local"]," on boot if the image is a development image."],["header",{"level":3},"OpenVPN"],["para","BalenaOS will provide the user with an OpenVPN server that they might use. It is worth noting that this server will be disabled by default and manual interaction from the user is needed to activate and configure this server to their needs."],["header",{"level":2},"Image Partition Layout"],["para","<img src=\"/images/docs/arch/partition-layout.png\" width=\"90%\">"],["para","The first partition, resin-boot, is meant to hold boot important bits according to each board (e.g. kernel image, bootloader image). It also holds a very important file that you will find mentioned elsewhere in this document (i.e. ",["inlinecode","config.json"],"). The config.json file is the central point of configuring balenaOS and defining its behaviour, for example you can set your hostname, allow persistent logging, etc.\nResin-rootA is the partition that holds our read-only root filesystem; it holds almost everything that balenaOS is.\nResin-rootB is an empty partition that is only used when the rootfs is to be updated. We follow the Blue-Green deployment strategy. Essentially we have one active partition that is the OS’s current rootfs and one dormant one that is empty, we download the new rootfs to the dormant partition and try to switch them, if the switch is successful the dormant partition becomes the new rootfs, if not, we rollback to the old active partition.\nResin-state is the partition that holds persistent data as explained in the ",["link",{"href":"#stateless-and-read-only-rootfs"},"Stateless and Read-only rootfs"],".\nResin-data is the partition that holds downloaded Docker images. Generally any container data will be found here."],["header",{"level":2},"Stateless and Read-Only rootFS"],["para","BalenaOS comes with a read-only root filesystem, so we can ensure our hostOS is stateless, but we still need some data to be persistent over system reboots. We achieve this with a very simple mechanism, i.e. bind mounts.\nBalenaOS contains a partition named resin-state that is meant to hold all this persistent data, inside we populate a Linux filesystem hierarchy standard with the rootfs paths that we require to be persistent. After this partition is populated we are ready to bind mount the respective rootfs paths to this read-write location, thus allowing different components (e.g. journald) to be able to write data to disk. A mechanism to purge this partition is provided, thus allowing users to rollback to an unconfigured balenaOS image."],["para","A diagram of our read-only rootfs can be seen below:"],["para","<img src=\"/images/docs/arch/read-only-rootfs.png\" width=\"90%\">"],["header",{"level":2},"Dev vs. Prod images"],["para","BalenaOS comes in two flavours, namely Development (dev) and Production (prod).\nThe Development images are recommended while getting started with balenaOS and building a system.\nThe dev images enable a number of useful features while developing, namely:"],["bulletlist",["listitem","Passwordless SSH to balenaOS"],["listitem","The device broadcasts as balena.local or \\<hostname\\>.local on the network for easy access."],["listitem","Docker socket exposed on via port 2377"],["listitem","Getty console attached to tty1 and serial"]],["para",["strong","Note:"]," Raspberry Pi devices don’t have Getty attached to serial."],["para","The production images have all of the above functionality disabled by default. In both forms of the OS we write logs to an 8 MB journald RAM\nbuffer in order to avoid wear on the flash storage used by most of the supported boards. However, persistent logging can be enabled by setting\nthe ",["inlinecode","\"persistentLogging\": true"]," key in the ",["inlinecode","config.json"]," file in the boot partition of the device."],["header",{"level":2},"OS Tools"],["header",{"level":3},"Base Images"],["para","To help getting started with containers on embedded systems, balenaOS comes with a full complement of over 500 Docker base images. We currently have base images for\nDebian, Fedora and Alpine Linux distributions, as well as Nodejs, Python, Go and Java language base images. For a more in-depth look into all the available base images head over\nto the ",["link",{"href":"http://balena.io/docs/runtime/balena-base-images/"},"balena base images wiki"]," or the ",["link",{"href":"https://hub.docker.com/u/resin/"},"Docker Hub repository"],"."],["header",{"level":3},"Balena Command Line Tool"],["para","The balena CLI is a set of useful tools that help with setting up and developing containers with a balenaOS device. The goal of the CLI is to provide\na simple and intuitive developer experience. Currently, local mode part of the CLI are evolving fast and is considered 'beta', so as always, we love it when you report bugs,\nyou can report them here: ",["link",{"href":"https://github.com/balena-io/balena-cli"},"github.com/balena-io/balena-cli"]],["header",{"level":4},"Installation"],["para","Currently the CLI is a node.js based command line tool which requires that our system has the following dependencies installed and in our path:"],["bulletlist",["listitem",["link",{"href":"https://nodejs.org/en/"},"node.js 6.x"]],["listitem",["link",{"href":"https://www.npmjs.com/"},"npm package manager"]],["listitem",["link",{"href":"https://download.samba.org/pub/rsync/rsync.html"},"rsync"]],["listitem",["link",{"href":"http://www.openssh.com/"},"ssh"]]],["para","Once we have those setup we can install the CLI using npm:\n",["inlinecode"," bash\n$ npm install --global --production --unsafe-perm balena-cli\n"]],["header",{"level":4},"Usage"],["header",{"level":5},"Configure"],["para",["inlinecode","balena local configure"]," allows you configure or reconfigure a balenaOS system image or SD card. Currently, this allows for configuration of wifi settings, hostname and enablement of\npersistent journald logs."],["para",["inlinecode",""],"` bash\n$ balena help local configure\nUsage: local configure <target>"],["para","Use this command to configure or reconfigure a balenaOS drive or image."],["para","Examples:"],["code_block","$ balena local configure /dev/sdc\n$ balena local configure path/to/image.img"],["para",["inlinecode",""],"`"],["header",{"level":5},"Flash"],["para",["inlinecode","balena local flash"]," command helps to easily and safely flash the balenaOS system image on an SD card or USB drive."],["para",["strong","Note:"]," Currently, ",["inlinecode","balena local flash"]," doesn't work with the Intel Edison board."],["para",["inlinecode",""],"` bash\n$ balena help local flash\nUsage: local flash <image>"],["para","Use this command to flash a balenaOS image to a drive."],["para","Examples:"],["code_block","$ balena local flash path/to/balenaos.img\n$ balena local flash path/to/balenaos.img --drive /dev/disk2\n$ balena local flash path/to/balenaos.img --drive /dev/disk2 --yes"],["para","Options:"],["code_block","--yes, -y                           confirm non-interactively          \n--drive, -d <drive>                 drive     "],["para",["inlinecode",""],"`"],["header",{"level":5},"Push"],["para","The ",["inlinecode","balena local push"]," command enables you to quickly build and deploy a Docker container to a target device. It also allows you to easily sync code between your laptop\ndirectory and your running container on the target. Once you have a balenaOS host device running and advertising on the network,\n",["inlinecode","balena local push"]," will allow you to iterate code on a container service. ",["inlinecode","push"]," has a lot of advanced functionality, which all gets encoded into the ",["inlinecode",".balena-sync.yml"]," file in your\nproject directory. To better understand the ",["inlinecode",".yml"]," file, let's look at an example:"],["para",["inlinecode","\n  app-name: myapp\n  build-triggers:\n    - Dockerfile: 9396730559c4107a0d82f95373c45d8e0634556342fb4ee276a7bc1c84c51570\n    - package.json: 1e40740d7cf5018cf887124ee75917eb139d49473c51464580feda247b3a4641\ndestination: /usr/src/app\nignore:\n  - .git\n  - node_modules/\n"]],["para","Let's look a bit into some of these settings keys."],["bulletlist",["listitem",["inlinecode","app-name:"]," represents the name of the Docker image and corresponding running container on the target device."],["listitem",["inlinecode","build-triggers:"]," is a list of file names and their content hashes. Any changes in the files contained in this list will result in a ",["inlinecode","docker build ."]," on the\ntarget device."],["listitem",["inlinecode","destination:"]," this sets the destination sync directory in the container running on the device. This allows you to synchronise a ",["inlinecode","--source"]," directory on your laptop to a running\ncontainer on the device. This is very useful when developing with interpreted languages like Python or Node.js, as you can sync just your source code across, without rebuilding the\nentire container."],["listitem",["inlinecode","ignore:"]," is a list of files or directories that you would like to be ignored during the directory sync. This is useful in the case where you have ",["inlinecode","node_modules"]," in your source\ndirectory that is compiled to run on your x86 laptop, but you are pushing your code over to an ARM based embedded device."]],["para","The push has quite a bit of functionality and a few useful flags. Check out the ",["inlinecode","balena help local push"],":"],["para",["inlinecode",""],"` bash\n$ balena help local push\nUsage: local push ",["link_ref",{"ref":"deviceip","original":"[deviceIp]"},"deviceIp"]],["para","Warning: 'balena local push' requires an openssh-compatible client and 'rsync' to\nbe correctly installed in your shell environment. For more information (including\nWindows support) please check the README here: https://github.com/balena-io/balena-cli"],["para","Use this command to push your local changes to a container on a LAN-accessible balenaOS device on the fly."],["para","If ",["inlinecode","Dockerfile"]," or any file in the 'build-triggers' list is changed,\na new container will be built and run on your device.\nIf not, changes will simply be synced with ",["inlinecode","rsync"]," into the application container."],["para","After every 'balena local push' the updated settings will be saved in\n'<source>/.balena-sync.yml' and will be used in later invocations. You can\nalso change any option by editing '.balena-sync.yml' directly."],["para","Here is an example '.balena-sync.yml' :"],["code_block","$ cat $PWD/.balena-sync.yml\ndestination: '/usr/src/app'\nbefore: 'echo Hello'\nafter: 'echo Done'\nignore:\n\t- .git\n\t- node_modules/"],["para","Command line options have precedence over the ones saved in '.balena-sync.yml'."],["para","If '.gitignore' is found in the source directory then all explicitly listed files will be\nexcluded when using rsync to update the container. You can choose to change this default behavior with the\n'--skip-gitignore' option."],["para","Examples:"],["code_block","$ balena local push\n$ balena local push --app-name test-server --build-triggers package.json,requirements.txt\n$ balena local push --force-build\n$ balena local push --force-build --skip-logs\n$ balena local push --ignore lib/\n$ balena local push --verbose false\n$ balena local push 192.168.2.10 --source . --destination /usr/src/app\n$ balena local push 192.168.2.10 -s /home/user/myBalenaProject -d /usr/src/app --before 'echo Hello' --after 'echo Done'"],["para","Options:"],["code_block","--source, -s <path>                 root of project directory to push                                                                                       \n--destination, -d <path>            destination path on device container                                                                                    \n--ignore, -i <paths>                comma delimited paths to ignore when syncing with 'rsync'                                                               \n--skip-gitignore                    do not parse excluded/included files from .gitignore                                                                    \n--before, -b <command>              execute a command before pushing                                                                                        \n--after, -a <command>               execute a command after pushing                                                                                         \n--progress, -p                      show progress                                                                                                           \n--skip-logs                         do not stream logs after push                                                                                           \n--verbose, -v                       increase verbosity                                                                                                      \n--app-name, -n <name>               application name - may contain lowercase characters, digits and one or more dashes. It may not start or end with a dash.\n--build-triggers, -r <files>        comma delimited file list that will trigger a container rebuild if changed                                              \n--force-build, -f                   force a container build and run                                                                                         \n--env, -e <env>                     environment variable (e.g. --env 'ENV=value'). Multiple --env parameters are supported.              "],["para",["inlinecode",""],"`"],["header",{"level":5},"SSH"],["para",["inlinecode","balena local ssh"]," discovers balenaOS devices on the local network and allows you to drop a SSH session into any of the containers running on the device. It also enables to you to\ndrop in to the underlying host OS by doing ",["inlinecode","balena local ssh --host"],", however you can of course always just do ",["inlinecode","ssh root@balena.local -p22222"],"."],["para",["inlinecode",""],"`\n$ balena help local ssh\nUsage: local ssh ",["link_ref",{"ref":"deviceip","original":"[deviceIp]"},"deviceIp"]],["para","Warning: 'balena local ssh' requires an openssh-compatible client to be correctly\ninstalled in your shell environment. For more information (including Windows\nsupport) please check the README here: https://github.com/balena-io/balena-cli"],["para","Use this command to get a shell into the running application container of\nyour device."],["para","The '--host' option will get you a shell into the Host OS of the balenaOS device.\nNo option will return a list of containers to enter or you can explicitly select\none by passing its name to the --container option"],["para","Examples:"],["code_block","$ balena local ssh\n$ balena local ssh --host\n$ balena local ssh --container chaotic_water\n$ balena local ssh --container chaotic_water --port 22222\n$ balena local ssh --verbose"],["para","Options:"],["code_block","--verbose, -v                       increase verbosity                 \n--host, -s                          get a shell into the host OS       \n--container, -c <container>         name of container to access        \n--port, -p <port>                   ssh port number (default: 22222)  "],["para",["inlinecode",""],"`"],["header",{"level":5},"Logs"],["para",["inlinecode","balena local logs"]," allows the fetching of logs from any of the running containers on the device."],["para",["inlinecode",""],"` bash\n$ balena help local logs\nUsage: local logs ",["link_ref",{"ref":"deviceip","original":"[deviceIp]"},"deviceIp"]],["para","Examples:"],["code_block","$ balena local logs\n$ balena local logs -f\n$ balena local logs 192.168.1.10\n$ balena local logs 192.168.1.10 -f\n$ balena local logs 192.168.1.10 -f --app-name myapp"],["para","Options:"],["code_block","--follow, -f                        follow log                         \n--app-name, -a <name>               name of container to get logs from"],["para",["inlinecode",""],"`"]]},"latest":"1.6.3","version":"1.6.3"}},{"component":"Footer","rank":1,"options":{"name":"balena-os","owner":{"handle":"balena-os","type":"Organization","name":"balena-os","description":"Balena brings the benefits of Linux containers to the IoT. Develop iteratively, deploy safely, and manage at scale.","url":"https://github.com/balena-os","email":"hello@balena.io","avatar":"https://avatars2.githubusercontent.com/u/16914061?v=4"},"logo":"data:image/svg;base64,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","routes":[{"name":"Docs","url":"/docs"},{"name":"Contributing","url":"/contributing"},{"name":"GitHub","url":"https://github.com/balena-os/balena-os"}],"toc":[{"path":["docs","architecture-overview"],"title":"Architecture Overview","sections":[["header",{"level":1},"Architecture Overview"],["header",{"level":2},"Introduction"],["header",{"level":2},"OS composition"],["header",{"level":2},"Userspace Components"],["header",{"level":3},"Systemd"],["header",{"level":3},"Docker"],["header",{"level":3},"NetworkManager and ModemManager"],["header",{"level":3},"DNSmasq"],["header",{"level":3},"Avahi"],["header",{"level":3},"OpenVPN"],["header",{"level":2},"Image Partition Layout"],["header",{"level":2},"Stateless and Read-Only rootFS"],["header",{"level":2},"Dev vs. Prod images"],["header",{"level":2},"OS Tools"],["header",{"level":3},"Base Images"],["header",{"level":3},"Balena Command Line Tool"],["header",{"level":4},"Installation"],["header",{"level":4},"Usage"],["header",{"level":5},"Configure"],["header",{"level":5},"Flash"],["header",{"level":5},"Push"],["header",{"level":5},"SSH"],["header",{"level":5},"Logs"]]},{"path":["docs","contribute-to-balena-os"],"title":"Contribute to balenaOS","sections":[["header",{"level":1},"Contribute to balenaOS"],["header",{"level":2},"Testing and Bug Reports"],["header",{"level":2},"Submitting Fixes"],["header",{"level":2},"Support for Additional Boards"],["header",{"level":2},"Documentation"],["header",{"level":2},"Tutorials"]]},{"path":["docs","building-your-own"],"title":"Building your Own","sections":[["header",{"level":1},"Building your Own"],["header",{"level":2},"Bake your own Image"],["header",{"level":2},"Supporting your Own Board"],["header",{"level":3},"Board Support Repository Breakout"],["header",{"level":3},"meta-balena-",["inlinecode","<board-family>"]," breakout"],["header",{"level":3},"Building"],["header",{"level":3},"Troubleshooting"]]},{"path":["docs","dynamic-page-about-os-name-language-name"],"title":"Dynamic page about {{ $os.name }} & {{ $language.name }}","sections":[["header",{"level":1},"Dynamic page about {{ $os.name }} & {{ $language.name }}"],["header",{"level":2},"Smart import"],["header",{"level":2},"Helpers Example"]]},{"path":["docs",""],"sections":[["header",{"level":2},"Why Docker containers on embedded devices?"],["header",{"level":2},"Why Yocto?"],["header",{"level":2},"How is this different from cloud operating systems for containers?"],["header",{"level":2},"How is this different from other embedded operating systems?"]]},{"path":["docs","getting-started-on-the-device-name"],"title":"Getting Started on the {{ $device.name }}","sections":[["header",{"level":1},"Getting Started on the {{ $device.name }}"],["header",{"level":2},"Download an Image"],["header",{"level":2},"Install the Balena CLI"],["header",{"level":2},"Configure the Image"],["header",{"level":2},"Get the Device Up and Running"],["header",{"level":3},"Flash {{ $device.bootMedia }}"],["header",{"level":3},"Boot the device"],["header",{"level":2},"Running your first Container"],["header",{"level":3},"Clone a demo Project"],["header",{"level":3},"Get a Container Running"],["header",{"level":2},"Poking Around balenaOS"],["header",{"level":4},"To ssh into the host:"],["header",{"level":4},"To ssh into a particular container:"],["header",{"level":2},"Going Further"],["header",{"level":3},"Advanced Settings"],["header",{"level":2},"Creating a Project from Scratch"]]},{"path":["docs",""],"sections":[["header",{"level":2},"What is balenaOS?"]]},{"path":["docs","supported-boards"],"title":"Supported Boards","sections":[["header",{"level":1},"Supported Boards"],["header",{"level":2},"ARMv7"],["header",{"level":2},"ARMv6"],["header",{"level":2},"ARMv5"],["header",{"level":2},"Intel x86_32"],["header",{"level":2},"Intel x86_64"]]}]}}]},"path":"docs/architecture-overview/1.6.3"}

<!DOCTYPE html><html lang="en"><head><meta name="generator" content="React Static"/><title data-react-helmet="true">Architecture Overview - Home</title><meta charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, shrink-to-fit=no"/><meta data-react-helmet="true" charSet="UTF-8"/><meta data-react-helmet="true" name="referrer" content="no-referrer"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1"/><meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"/><meta data-react-helmet="true" name="description" content="The central place for all things BalenaOS related."/><meta data-react-helmet="true" name="msapplication-TileColor" content="#ffffff"/><meta data-react-helmet="true" name="msapplication-TileImage" content="/ms-icon-144x144.png"/><meta data-react-helmet="true" name="theme-color" content="#000000"/><meta data-react-helmet="true" property="og:site_name" content="Architecture Overview"/><meta data-react-helmet="true" property="og:url" content="undefined/docs/architecture-overview/1.6.3"/><meta data-react-helmet="true" property="og:locale" content="en_US"/><meta data-react-helmet="true" property="og:description" content="The central place for all things BalenaOS related."/><link rel="preload" as="script" href="/templates/vendors~main.0ca8d44b.js"/><link rel="preload" as="script" href="/main.402ddbf4.js"/><link data-react-helmet="true" rel="canonical" href="undefined/docs/architecture-overview/1.6.3"/><link data-react-helmet="true" rel="shortcut icon" sizes="16x16 24x24 32x32 48x48 64x64" href="/favicon.ico"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link data-react-helmet="true" rel="manifest" href="/manifest.json"/><link data-react-helmet="true" type="text/plain" rel="author" href="/humans.txt"/><link data-react-helmet="true" href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,400;0,600;1,400&amp;family=Ubuntu+Mono:wght@400;700&amp;display=fallback" rel="stylesheet"/><style data-styled="" data-styled-version="5.2.0">.eWwTwc{display:inline-block;box-sizing:border-box;cursor:pointer;font:inherit;-webkit-text-decoration:none;text-decoration:none;margin:0;background:transparent;overflow:visible;text-transform:none;border:1px solid #04c493;border-radius:20px;color:#444444;padding:4px 30px;font-size:14px;line-height:1.5;background-color:#04c493;color:#444444;border-radius:20px;-webkit-transition-property:color,background-color,border-color,box-shadow;transition-property:color,background-color,border-color,box-shadow;-webkit-transition-duration:0.1s;transition-duration:0.1s;-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;}/*!sc*/
.eWwTwc:hover{box-shadow:0px 0px 0px 2px #04c493;}/*!sc*/
.eWwTwc:focus{outline:none;box-shadow:0 0 2px 2px #00AEEF;}/*!sc*/
.eWwTwc:focus > circle,.eWwTwc:focus > ellipse,.eWwTwc:focus > line,.eWwTwc:focus > path,.eWwTwc:focus > polygon,.eWwTwc:focus > polyline,.eWwTwc:focus > rect{outline:none;box-shadow:0 0 2px 2px #00AEEF;}/*!sc*/
.eWwTwc:focus::-moz-focus-inner{border:0;}/*!sc*/
.igSSEf{display:inline-block;box-sizing:border-box;cursor:pointer;font:inherit;-webkit-text-decoration:none;text-decoration:none;margin:0;background:transparent;overflow:visible;text-transform:none;border:1px solid #2A506F;border-radius:20px;color:#444444;padding:4px 30px;font-size:14px;line-height:1.5;background-color:#2A506F;color:#f8f8f8;border-radius:20px;-webkit-transition-property:color,background-color,border-color,box-shadow;transition-property:color,background-color,border-color,box-shadow;-webkit-transition-duration:0.1s;transition-duration:0.1s;-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;line-height:0;padding:12px;}/*!sc*/
.igSSEf:hover{box-shadow:0px 0px 0px 2px #2A506F;}/*!sc*/
.igSSEf:focus{outline:none;box-shadow:0 0 2px 2px #00AEEF;}/*!sc*/
.igSSEf:focus > circle,.igSSEf:focus > ellipse,.igSSEf:focus > line,.igSSEf:focus > path,.igSSEf:focus > polygon,.igSSEf:focus > polyline,.igSSEf:focus > rect{outline:none;box-shadow:0 0 2px 2px #00AEEF;}/*!sc*/
.igSSEf:focus::-moz-focus-inner{border:0;}/*!sc*/
data-styled.g10[id="StyledButton-sc-323bzc-0"]{content:"eWwTwc,igSSEf,"}/*!sc*/
.fPUyVb{font-family:Source Sans Pro;font-size:14px;line-height:1.5;box-sizing:border-box;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;}/*!sc*/
data-styled.g79[id="StyledGrommet-sc-19lkkz7-0"]{content:"fPUyVb,"}/*!sc*/
.cDwDsz{box-sizing:border-box;}/*!sc*/
data-styled.g111[id="sc-gKAblj"]{content:"cDwDsz,"}/*!sc*/
.iLKzkN{padding-top:30px;padding-bottom:30px;padding-left:16px;padding-right:16px;}/*!sc*/
.hlEduY{max-width:1252px;}/*!sc*/
.gXpDLy{margin-left:-8px;margin-right:-8px;font-size:14px;}/*!sc*/
.fsjiKV{padding-top:38px;padding-bottom:38px;padding-left:16px;padding-right:16px;}/*!sc*/
.ihqbWq{padding-top:4px;padding-bottom:4px;padding-left:4px;padding-right:4px;}/*!sc*/
@media screen and (min-width:576px){.ihqbWq{padding-top:4px;padding-bottom:4px;padding-left:4px;padding-right:4px;}}/*!sc*/
@media screen and (min-width:768px){.ihqbWq{padding-top:16px;padding-bottom:38px;padding-left:16px;padding-right:16px;}}/*!sc*/
@media screen and (min-width:992px){.ihqbWq{padding-left:38px;padding-right:38px;}}/*!sc*/
.hiphwQ{margin-bottom:16px;}/*!sc*/
.jeGdNg{margin-right:8px;}/*!sc*/
.gFbxTc{margin-top:16px;}/*!sc*/
.gZtEXP{margin-top:48px;padding-top:48px;padding-bottom:48px;padding-left:16px;padding-right:16px;background-color:#f8f9fd;}/*!sc*/
.fbWAy{margin-left:-16px;margin-right:-16px;width:100%;}/*!sc*/
@media screen and (min-width:576px){.fbWAy{width:100%;}}/*!sc*/
@media screen and (min-width:768px){.fbWAy{width:100%;}}/*!sc*/
@media screen and (min-width:992px){.fbWAy{width:83.33333333333334%;}}/*!sc*/
.iICyJN{margin-bottom:16px;padding-left:16px;padding-right:16px;width:100%;}/*!sc*/
@media screen and (min-width:576px){.iICyJN{width:100%;}}/*!sc*/
@media screen and (min-width:768px){.iICyJN{width:50%;}}/*!sc*/
.decHvm{padding-top:14px;padding-left:16px;padding-right:16px;}/*!sc*/
.lePrqr{margin-bottom:4px;}/*!sc*/
data-styled.g112[id="sc-iCoHVE"]{content:"iLKzkN,hlEduY,kXijcO,gXpDLy,fsjiKV,ihqbWq,hiphwQ,jeGdNg,gFbxTc,gZtEXP,fbWAy,iICyJN,decHvm,lePrqr,"}/*!sc*/
.hqgrxF{font-weight:normal;font-size:14px;height:38px;white-space:nowrap;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}/*!sc*/
.hqgrxF svg{color:inherit !important;font-size:0.925em;}/*!sc*/
.hqgrxF:disabled{cursor:not-allowed;}/*!sc*/
data-styled.g120[id="sc-bqGHjH"]{content:"hqgrxF,"}/*!sc*/
.iUVgDY{color:white;}/*!sc*/
.iUVgDY:hover:enabled,.iUVgDY:focus:enabled,.iUVgDY:active:enabled{box-shadow:none;background:hsl(164.70000000000005,96%,31.4%);border-color:hsl(164.70000000000005,96%,31.4%);color:white;opacity:initial;}/*!sc*/
.iUVgDY:hover:enabled svg,.iUVgDY:focus:enabled svg,.iUVgDY:active:enabled svg{color:white !important;}/*!sc*/
.fVbMuM{color:white;}/*!sc*/
.fVbMuM:hover:enabled,.fVbMuM:focus:enabled,.fVbMuM:active:enabled{box-shadow:none;background:hsl(207,45.1%,24%);border-color:hsl(207,45.1%,24%);color:white;opacity:initial;}/*!sc*/
.fVbMuM:hover:enabled svg,.fVbMuM:focus:enabled svg,.fVbMuM:active:enabled svg{color:white !important;}/*!sc*/
data-styled.g121[id="sc-ksluoS"]{content:"iUVgDY,fVbMuM,"}/*!sc*/
.sQywe{font-size:22px;}/*!sc*/
data-styled.g127[id="sc-dIvqjp"]{content:"cqMAGU,sQywe,"}/*!sc*/
.kezKMW{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}/*!sc*/
.hugHGC{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/
.hpQvhY{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}/*!sc*/
@media screen and (min-width:576px){.hpQvhY{-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;}}/*!sc*/
.jAoJEK{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}/*!sc*/
.bzJToQ{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}/*!sc*/
@media screen and (min-width:576px){.bzJToQ{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}}/*!sc*/
@media screen and (min-width:768px){.bzJToQ{-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}}/*!sc*/
.gAYhOq{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
data-styled.g128[id="sc-hHEjAm"]{content:"kezKMW,hugHGC,hpQvhY,jAoJEK,bzJToQ,gAYhOq,"}/*!sc*/
.eYntrq{font-size:12px;}/*!sc*/
data-styled.g132[id="sc-bCwgka"]{content:"fgCzVj,eYntrq,"}/*!sc*/
.fTgIzE{border:0 none;border-top:1px solid #DDE1f0;width:100%;height:0;}/*!sc*/
data-styled.g144[id="sc-gXfWUo"]{content:"fTgIzE,"}/*!sc*/
.gLZSkR{font-weight:normal;font-weight:600;}/*!sc*/
.eUsrOk{font-weight:normal;}/*!sc*/
data-styled.g147[id="sc-jcwofb"]{content:"gLZSkR,eUsrOk,"}/*!sc*/
.RSKax{margin:0;font-size:58px;}/*!sc*/
data-styled.g149[id="sc-iTVIwl"]{content:"RSKax,"}/*!sc*/
.euxnRz{margin:0;font-size:34px;}/*!sc*/
data-styled.g150[id="sc-iBzFoy"]{content:"euxnRz,"}/*!sc*/
.eUYbYC{margin:0;font-size:24px;}/*!sc*/
data-styled.g151[id="sc-efHXLn"]{content:"eUYbYC,"}/*!sc*/
.hVZZvU{margin:0;font-size:14px;}/*!sc*/
.gNhzSU{margin:0;font-size:18px;}/*!sc*/
.gQhHqF{margin:0;margin-bottom:8px;font-size:14px;}/*!sc*/
data-styled.g152[id="sc-cTJmaU"]{content:"hVZZvU,gNhzSU,gQhHqF,"}/*!sc*/
.gRwHMP{margin:0;font-size:16px;}/*!sc*/
data-styled.g153[id="sc-jNnnWF"]{content:"gRwHMP,"}/*!sc*/
.cVithW{display:inline-block;border-radius:3px;vertical-align:top;position:relative;}/*!sc*/
.cVithW svg{width:12px;-webkit-transform:translateY(1px);-ms-transform:translateY(1px);transform:translateY(1px);}/*!sc*/
data-styled.g183[id="sc-bTDODP"]{content:"cVithW,"}/*!sc*/
.NzEgA{margin:0;width:100%;}/*!sc*/
data-styled.g185[id="sc-hOPghE"]{content:"NzEgA,"}/*!sc*/
.ffgKrP{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;opacity:1;display:inline-block;}/*!sc*/
.ffgKrP:active,.ffgKrP:hover{color:hsl(0,0%,80%);}/*!sc*/
.kcETfK{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;opacity:1;display:inline-block;}/*!sc*/
.kcETfK:active,.kcETfK:hover{color:hsl(207,45.1%,24%);}/*!sc*/
.eMKaST{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;opacity:1;display:inline-block;}/*!sc*/
.eMKaST:active,.eMKaST:hover{color:hsl(164.70000000000005,96%,31.4%);}/*!sc*/
.hmkGyO{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;opacity:1;display:inline-block;}/*!sc*/
.hmkGyO:active,.hmkGyO:hover{color:hsl(0,0%,26.7%);}/*!sc*/
.eiUiyj{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;opacity:1;display:inline-block;}/*!sc*/
.eiUiyj:active,.eiUiyj:hover{color:hsl(209.60000000000002,30.2%,36.9%);}/*!sc*/
data-styled.g195[id="sc-eGJXgd"]{content:"ffgKrP,kcETfK,eMKaST,hmkGyO,eiUiyj,"}/*!sc*/
.lJJVc{color:white;}/*!sc*/
.jilOll{padding-left:8px;padding-right:8px;color:#2a506f;}/*!sc*/
.jzoPQR{color:#04c493;}/*!sc*/
.eNMmMW{padding-left:8px;font-size:12px;color:#555;}/*!sc*/
.bwZqFq{color:#2a506f;}/*!sc*/
.brDNrO{font-size:13px;color:#527699;}/*!sc*/
data-styled.g196[id="sc-csTaMs"]{content:"lJJVc,jilOll,jzoPQR,eNMmMW,bwZqFq,brDNrO,"}/*!sc*/
.lbincz code[class*='language-'],.lbincz pre[class*='language-']{color:black;background:none;text-shadow:0 1px white;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}/*!sc*/
.lbincz pre[class*='language-']::-moz-selection,.lbincz pre[class*='language-'] ::-moz-selection,.lbincz code[class*='language-']::-moz-selection,.lbincz code[class*='language-'] ::-moz-selection{text-shadow:none;background:#b3d4fc;}/*!sc*/
.lbincz pre[class*='language-']::selection,.lbincz pre[class*='language-'] ::selection,.lbincz code[class*='language-']::selection,.lbincz code[class*='language-'] ::selection{text-shadow:none;background:#b3d4fc;}/*!sc*/
@media print{.lbincz code[class*='language-'],.lbincz pre[class*='language-']{text-shadow:none;}}/*!sc*/
.lbincz pre[class*='language-']{padding:1em;margin:0.5em 0;overflow:auto;}/*!sc*/
.lbincz:not(pre) > code[class*='language-'],.lbincz pre[class*='language-']{background:#f5f2f0;}/*!sc*/
.lbincz:not(pre) > code[class*='language-']{padding:0.1em;border-radius:0.3em;white-space:normal;}/*!sc*/
.lbincz .token.comment,.lbincz .token.prolog,.lbincz .token.doctype,.lbincz .token.cdata{color:slategray;}/*!sc*/
.lbincz .token.punctuation{color:#999;}/*!sc*/
.lbincz .token.namespace{opacity:0.7;}/*!sc*/
.lbincz .token.property,.lbincz .token.tag,.lbincz .token.boolean,.lbincz .token.number,.lbincz .token.constant,.lbincz .token.symbol,.lbincz .token.deleted{color:#905;}/*!sc*/
.lbincz .token.selector,.lbincz .token.attr-name,.lbincz .token.string,.lbincz .token.char,.lbincz .token.builtin,.lbincz .token.inserted{color:#690;}/*!sc*/
.lbincz .token.operator,.lbincz .token.entity,.lbincz .token.url,.lbincz .language-css .token.string,.lbincz .style .token.string{color:#9a6e3a;background:hsla(0,0%,100%,0.5);}/*!sc*/
.lbincz .token.atrule,.lbincz .token.attr-value,.lbincz .token.keyword{color:#07a;}/*!sc*/
.lbincz .token.function,.lbincz .token.class-name{color:#dd4a68;}/*!sc*/
.lbincz .token.regex,.lbincz .token.important,.lbincz .token.variable{color:#e90;}/*!sc*/
.lbincz .token.important,.lbincz .token.bold{font-weight:bold;}/*!sc*/
.lbincz .token.italic{font-style:italic;}/*!sc*/
.lbincz .token.entity{cursor:help;}/*!sc*/
.lbincz *{box-sizing:border-box;}/*!sc*/
.lbincz code{background-color:#f4f4f4;padding:0.2em 0px;margin:0px;border-radius:3px;line-height:1.2;}/*!sc*/
.lbincz pre{background-color:#f4f4f4;}/*!sc*/
.lbincz pre > code{display:block;background:none;overflow-y:auto;}/*!sc*/
.lbincz code,.lbincz kbd,.lbincz pre{font-family:'Ubuntu Mono','Courier New',monospace;}/*!sc*/
.lbincz kbd{display:inline-block;padding:3px 5px;font-size:11px;line-height:10px;color:#2a506f;vertical-align:middle;background-color:rgba(244,244,244,0.7);border:solid 1px #c6c8c9;border-bottom-color:hsl(200,2.7%,70.4%);border-radius:3px;box-shadow:inset 0 -1px 0 hsl(200,2.7%,70.4%);}/*!sc*/
.lbincz dl{padding:0;}/*!sc*/
.lbincz dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600;}/*!sc*/
.lbincz dl dd{padding:0 16px;margin-bottom:16px;}/*!sc*/
.lbincz td,.lbincz th{padding:0;}/*!sc*/
.lbincz table{border-spacing:0;border-collapse:collapse;display:block;width:100%;overflow:auto;}/*!sc*/
.lbincz table th{font-weight:600;}/*!sc*/
.lbincz table th,.lbincz table td{padding:6px 13px;border:1px solid #c6c8c9;}/*!sc*/
.lbincz table tr{background-color:#fff;border-top:1px solid #f4f4f4;}/*!sc*/
.lbincz table tr:nth-child(2n){background-color:#f4f4f4;}/*!sc*/
.lbincz blockquote{margin:0;}/*!sc*/
.lbincz blockquote,.lbincz dl,.lbincz table{margin-top:0;margin-bottom:16px;}/*!sc*/
.lbincz blockquote{padding:0 1em;color:#2a506f;border-left:0.25em solid #c6c8c9;}/*!sc*/
.lbincz blockquote > :first-child{margin-top:0;}/*!sc*/
.lbincz blockquote > :last-child{margin-bottom:0;}/*!sc*/
data-styled.g197[id="sc-dFRpvv"]{content:"lbincz,"}/*!sc*/
.fAqFnO{font-family:Source Sans Pro;font-size:14px;color:#2a506f;}/*!sc*/
data-styled.g215[id="sc-fXgAFM"]{content:"fAqFnO,"}/*!sc*/
.vFLFe{display:block;max-width:100%;height:auto;}/*!sc*/
.bAJKaz{display:block;max-width:100%;height:auto;margin-left:8px;}/*!sc*/
data-styled.g238[id="sc-jtiWoB"]{content:"vFLFe,bAJKaz,"}/*!sc*/
.lyVVi{margin-left:auto;margin-right:auto;padding-left:16px;padding-right:16px;}/*!sc*/
data-styled.g242[id="sc-iIgiFR"]{content:"lyVVi,"}/*!sc*/
.eXpjm{background-color:#7dfcdb;color:#2a506f;}/*!sc*/
data-styled.g267[id="sc-hYIrON"]{content:"eXpjm,"}/*!sc*/
.bpnlUI{position:absolute;right:0;top:-30px;}/*!sc*/
data-styled.g268[id="sc-hKiGeM"]{content:"bpnlUI,"}/*!sc*/
.fQxOke{display:none;}/*!sc*/
@media all and (min-width:768px){.fQxOke{display:block;border-right:1px solid #dde1f0;-webkit-flex:0 0 250px;-ms-flex:0 0 250px;flex:0 0 250px;margin-right:40px;}}/*!sc*/
@media all and (min-width:992px){.fQxOke{-webkit-flex:0 0 300px;-ms-flex:0 0 300px;flex:0 0 300px;margin-right:80px;}}/*!sc*/
data-styled.g276[id="sc-bFSanr"]{content:"fQxOke,"}/*!sc*/
.jCyXNd{display:block;}/*!sc*/
@media all and (min-width:768px){.jCyXNd{display:none;}}/*!sc*/
data-styled.g277[id="sc-fxFQrc"]{content:"jCyXNd,"}/*!sc*/
.rJYJh{z-index:2;position:-webkit-sticky;position:sticky;top:0;bottom:0;overflow-y:auto;width:300px;padding-bottom:80px;}/*!sc*/
data-styled.g278[id="sc-fyFmx"]{content:"rJYJh,"}/*!sc*/
.imkuCs{position:fixed;bottom:50px;right:50px;z-index:6;}/*!sc*/
data-styled.g279[id="sc-cjzMPC"]{content:"imkuCs,"}/*!sc*/
</style></head><body><div id="root"><div style="outline:none" tabindex="-1"><div class="StyledGrommet-sc-19lkkz7-0 fPUyVb sc-fXgAFM fAqFnO"><div class="sc-gKAblj cDwDsz sc-iCoHVE iLKzkN sc-hYIrON eXpjm"><div class="sc-gKAblj cDwDsz sc-iCoHVE hlEduY sc-cKRKlA hZOMcA sc-iIgiFR lyVVi"><div style="position:relative" class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO sc-hHEjAm kezKMW"><a color="white" href="/" class="sc-eGJXgd ffgKrP sc-csTaMs lJJVc"><img style="height:50px" src="data:image/svg;base64,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" class="sc-jtiWoB vFLFe"/></a><div class="sc-gKAblj cDwDsz sc-iCoHVE gXpDLy sc-hHEjAm hugHGC"><a color="#2a506f" href="/docs" aria-labelledby="Docs" style="font-family:Source Sans Pro" class="sc-eGJXgd kcETfK sc-csTaMs jilOll">Docs</a><a color="#2a506f" href="/contributing" aria-labelledby="Contributing" style="font-family:Source Sans Pro" class="sc-eGJXgd kcETfK sc-csTaMs jilOll">Contributing</a><a color="#2a506f" href="https://github.com/balena-os/balena-os" aria-labelledby="v1.6.3" style="font-family:Source Sans Pro" class="sc-eGJXgd kcETfK sc-csTaMs jilOll">v1.6.3</a></div><a href="https://github.com/balena-os/balena-os.git" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR sc-hKiGeM bpnlUI" color="primary.main" rel="noopener" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30"><path fill="#04c493" fill-rule="nonzero" d="M0 0h30v30l-14.3-6L0 30V0zm24 12.5C24 7.807 20.192 4 15.5 4a8.501 8.501 0 0 0-2.689 16.568c.43.078.587-.189.587-.41 0-.21-.012-.874-.012-1.582 0 0-2.368.509-2.867-1.007 0 0-.387-.985-.94-1.24 0 0-.776-.531.055-.52 0 0 .841.067 1.306.874.742 1.307 1.982.93 2.468.709.078-.543.299-.918.542-1.14-1.893-.21-3.873-.941-3.873-4.194 0-.93.332-1.683.874-2.28-.088-.222-.377-1.086.09-2.259.708-.221 2.334.876 2.334.876a7.995 7.995 0 0 1 2.125-.29c.72 0 1.45.101 2.125.29 0 0 1.626-1.097 2.335-.876.466 1.173.177 2.037.089 2.258.543.598.874 1.35.874 2.281 0 3.264-1.992 3.984-3.884 4.193.31.267.575.775.575 1.573 0 1.139-.012 2.058-.012 2.334 0 .221.156.488.587.41C21.565 19.438 24 16.25 24 12.5z"></path></svg></a></div></div></div><div class="sc-gKAblj cDwDsz sc-iCoHVE fsjiKV"><div class="sc-gKAblj cDwDsz sc-iCoHVE hlEduY sc-cKRKlA hZOMcA sc-iIgiFR lyVVi"><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO sc-hHEjAm hpQvhY"><aside class="sc-bFSanr fQxOke"><div class="sc-fyFmx rJYJh"><div class="sc-gKAblj cDwDsz sc-iCoHVE ihqbWq"><div class="sc-gKAblj cDwDsz sc-iCoHVE hiphwQ"><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO sc-bTDODP cVithW sc-dsXyEt biIJHv"><button class="StyledButton-sc-323bzc-0 eWwTwc sc-bqGHjH sc-ksluoS hqgrxF iUVgDY sc-dIvqjp cqMAGU sc-hOPghE NzEgA" type="button"><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO sc-hHEjAm kezKMW"><div class="sc-gKAblj cDwDsz sc-iCoHVE jeGdNg">Version: 1.6.3</div><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-down" class="svg-inline--fa fa-chevron-down fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"></path></svg></div></button></div></div><div class="sc-gKAblj cDwDsz sc-iCoHVE gFbxTc"><div class="sc-gKAblj cDwDsz sc-iCoHVE hiphwQ"><h4 class="sc-jcwofb gLZSkR sc-cTJmaU hVZZvU"><a theme="[object Object]" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR" href="/docs/architecture-overview">Architecture Overview</a></h4><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/architecture-overview#introduction">Introduction</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/architecture-overview#os-composition">OS composition</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/architecture-overview#userspace-components">Userspace Components</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/architecture-overview#image-partition-layout">Image Partition Layout</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/architecture-overview#stateless-and-read-only-root-fs">Stateless and Read-Only rootFS</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/architecture-overview#dev-vs-prod-images">Dev vs. Prod images</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/architecture-overview#os-tools">OS Tools</a></div></div><div class="sc-gKAblj cDwDsz sc-iCoHVE hiphwQ"><h4 class="sc-jcwofb gLZSkR sc-cTJmaU hVZZvU"><a theme="[object Object]" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR" href="/docs/contribute-to-balena-os">Contribute to balenaOS</a></h4><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/contribute-to-balena-os#testing-and-bug-reports">Testing and Bug Reports</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/contribute-to-balena-os#submitting-fixes">Submitting Fixes</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/contribute-to-balena-os#support-for-additional-boards">Support for Additional Boards</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/contribute-to-balena-os#documentation">Documentation</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/contribute-to-balena-os#tutorials">Tutorials</a></div></div><div class="sc-gKAblj cDwDsz sc-iCoHVE hiphwQ"><h4 class="sc-jcwofb gLZSkR sc-cTJmaU hVZZvU"><a theme="[object Object]" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR" href="/docs/building-your-own">Building your Own</a></h4><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/building-your-own#bake-your-own-image">Bake your own Image</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/building-your-own#supporting-your-own-board">Supporting your Own Board</a></div></div><div class="sc-gKAblj cDwDsz sc-iCoHVE hiphwQ"><h4 class="sc-jcwofb gLZSkR sc-cTJmaU hVZZvU"><a theme="[object Object]" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR" href="/docs/dynamic-page-about-os-name-language-name">Dynamic page about {{ $os.name }} &amp; {{ $language.name }}</a></h4><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/dynamic-page-about-os-name-language-name#smart-import">Smart import</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/dynamic-page-about-os-name-language-name#helpers-example">Helpers Example</a></div></div><div class="sc-gKAblj cDwDsz sc-iCoHVE hiphwQ"><h4 class="sc-jcwofb gLZSkR sc-cTJmaU hVZZvU"><a theme="[object Object]" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR" href="/docs/"></a></h4><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/#why-docker-containers-on-embedded-devices">Why Docker containers on embedded devices?</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/#why-yocto">Why Yocto?</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/#how-is-this-different-from-cloud-operating-systems-for-containers">How is this different from cloud operating systems for containers?</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/#how-is-this-different-from-other-embedded-operating-systems">How is this different from other embedded operating systems?</a></div></div><div class="sc-gKAblj cDwDsz sc-iCoHVE hiphwQ"><h4 class="sc-jcwofb gLZSkR sc-cTJmaU hVZZvU"><a theme="[object Object]" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR" href="/docs/getting-started-on-the-device-name">Getting Started on the {{ $device.name }}</a></h4><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/getting-started-on-the-device-name#download-an-image">Download an Image</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/getting-started-on-the-device-name#install-the-balena-cli">Install the Balena CLI</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/getting-started-on-the-device-name#configure-the-image">Configure the Image</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/getting-started-on-the-device-name#get-the-device-up-and-running">Get the Device Up and Running</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/getting-started-on-the-device-name#running-your-first-container">Running your first Container</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/getting-started-on-the-device-name#poking-around-balena-os">Poking Around balenaOS</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/getting-started-on-the-device-name#going-further">Going Further</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/getting-started-on-the-device-name#creating-a-project-from-scratch">Creating a Project from Scratch</a></div></div><div class="sc-gKAblj cDwDsz sc-iCoHVE hiphwQ"><h4 class="sc-jcwofb gLZSkR sc-cTJmaU hVZZvU"><a theme="[object Object]" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR" href="/docs/"></a></h4><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/#what-is-balena-os">What is balenaOS?</a></div></div><div class="sc-gKAblj cDwDsz sc-iCoHVE hiphwQ"><h4 class="sc-jcwofb gLZSkR sc-cTJmaU hVZZvU"><a theme="[object Object]" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR" href="/docs/supported-boards">Supported Boards</a></h4><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/supported-boards#ar-mv-7">ARMv7</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/supported-boards#ar-mv-6">ARMv6</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/supported-boards#ar-mv-5">ARMv5</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/supported-boards#intel-x-86-32">Intel x86_32</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a color="#555" theme="[object Object]" class="sc-eGJXgd hmkGyO sc-csTaMs eNMmMW" href="/docs/supported-boards#intel-x-86-64">Intel x86_64</a></div></div></div></div></div></aside><aside class="sc-fxFQrc jCyXNd"><button class="StyledButton-sc-323bzc-0 igSSEf sc-bqGHjH sc-ksluoS hqgrxF fVbMuM sc-dIvqjp sQywe sc-cjzMPC imkuCs" type="button"><div color="#f8f8f8">⋯</div></button></aside><div style="max-width:900px;width:100%" class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO"><a href="https://github.com/balena-os/balena-os/edit/master/docs/architecture.md" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">Edit on GitHub</a><div class="sc-fKgIGh djMLxE sc-bCwgka fgCzVj sc-dFRpvv lbincz"><div><hr class="sc-gXfWUo fTgIzE sc-ciSmjq bOVUIP"/>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">title: Architecture</p>
<h2 class="sc-jcwofb eUsrOk sc-iBzFoy euxnRz">layout: docs.html</h2>
<h1 class="sc-jcwofb eUsrOk sc-iTVIwl RSKax">Architecture Overview</h1>
<h2 class="sc-jcwofb eUsrOk sc-iBzFoy euxnRz">Introduction</h2>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">BalenaOS is an operating system optimised for running Docker containers on embedded devices, with an emphasis on reliability over long periods of operation, as well as a productive developer workflow inspired by the lessons learned while building balena.</p>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">The core insight behind balenaOS is that Linux Containers offer, for the first time, a practical path to using virtualisation on embedded devices. VMs and hypervisors have lead to huge leaps in productivity and automation for cloud deployments, but their abstraction of hardware as well as their resource overhead and lack of hardware support means that they are out of the question for embedded scenarios. With OS-level virtualisation as implemented for Linux Containers, both those objections are lifted for Linux devices, of which there are many in the Internet of Things.</p>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">BalenaOS is an operating system built for easy portability to multiple device types (via the Yocto framework) and optimised for Linux Containers, and Docker in particular. There are many decisions, large and small, we have made to enable that vision, which are present throughout our architecture.</p>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">The first version of balenaOS was developed as part of balena, and has run on thousands of embedded devices, deployed in many different contexts for several years. BalenaOS v2 represents the combination of the learnings we extracted over those years, as well as our determination to make balenaOS a first-class open source project, able to run as an independent operating system, for any context where embedded devices and containers intersect.</p>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">We look forward to working with the community to grow and mature balenaOS into an operating system with even broader device support, a broader operating envelope, and as always, taking advantage of the most modern developments in security and reliability.</p>
<h2 class="sc-jcwofb eUsrOk sc-iBzFoy euxnRz">OS composition</h2>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">The OS is composed of multiple yocto layers. The <a href="https://www.yoctoproject.org/" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">Yocto Project</a> build system uses these layers to compile balenaOS for the various <a href="./supportedboards.md" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">supported platforms</a>.
This document will not go into detailed explanation about how the <a href="https://www.yoctoproject.org/" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">Yocto Project</a> works, but will require from the reader a basic understanding of its internals and release versioning/codename.</p>






















































































<table><thead><tr><th style="text-align:center">Codename</th><th style="text-align:center">Yocto Project Version</th><th style="text-align:center">Release Date</th><th style="text-align:center">Current Version</th><th style="text-align:center">Support Level</th><th style="text-align:center">Poky Version</th><th style="text-align:center">BitBake branch</th></tr></thead><tbody><tr><td style="text-align:center">Pyro</td><td style="text-align:center">2.3</td><td style="text-align:center">Apr 2017</td><td style="text-align:center"></td><td style="text-align:center">Development</td><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td style="text-align:center">Morty</td><td style="text-align:center">2.2</td><td style="text-align:center">Oct 2016</td><td style="text-align:center">2.2.1</td><td style="text-align:center">Stable</td><td style="text-align:center">16.0</td><td style="text-align:center">1.32</td></tr><tr><td style="text-align:center">Krogoth</td><td style="text-align:center">2.1</td><td style="text-align:center">Apr 2016</td><td style="text-align:center">2.1.2</td><td style="text-align:center">Stable</td><td style="text-align:center">15.0</td><td style="text-align:center">1.30</td></tr><tr><td style="text-align:center">Jethro</td><td style="text-align:center">2.0</td><td style="text-align:center">Nov 2015</td><td style="text-align:center">2.0.3</td><td style="text-align:center">Community</td><td style="text-align:center">14.0</td><td style="text-align:center">1.28</td></tr><tr><td style="text-align:center">Fido</td><td style="text-align:center">1.8</td><td style="text-align:center">Apr 2015</td><td style="text-align:center">1.8.2</td><td style="text-align:center">Community</td><td style="text-align:center">13.0</td><td style="text-align:center">1.26</td></tr><tr><td style="text-align:center">Dizzy</td><td style="text-align:center">1.7</td><td style="text-align:center">Oct 2014</td><td style="text-align:center">1.7.3</td><td style="text-align:center">Community</td><td style="text-align:center">12.0</td><td style="text-align:center">1.24</td></tr><tr><td style="text-align:center">Daisy</td><td style="text-align:center">1.6</td><td style="text-align:center">Apr 2014</td><td style="text-align:center">1.6.3</td><td style="text-align:center">Community</td><td style="text-align:center">11.0</td><td style="text-align:center">1.22</td></tr><tr><td style="text-align:center">Dora</td><td style="text-align:center">1.5</td><td style="text-align:center">Oct 2013</td><td style="text-align:center">1.5.4</td><td style="text-align:center">Community</td><td style="text-align:center">10.0</td><td style="text-align:center">1.20</td></tr></tbody></table>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">We will start looking into balenaOS’s composition from the core of the <a href="https://www.yoctoproject.org/" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">Yocto Project</a>, i.e. poky. Poky has released a whole bunch of versions and supporting all of them is not in the scope of our OS, but we do try to support its latest versions. This might sound ironic as we do not currently support poky’s last version (i.e. 2.1/Krogoth), but this is only because we did not need this version yet. We tend to support versions of poky based on what our supported boards require and also do a yearly update to the latest poky version for all the boards that can run that version. Currently we support three poky versions: 2.0/Jethro, 1.8/Fido and 1.6/Daisy.</p>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">On top of poky we add the collection of packages from meta-openembedded.
Now that we are done with setting up the build system let’s add Board Support Packages (BSP), these layers are here to provide board-specific configuration and packages (e.g. bootloader, kernel), thus enabling building physical hardware (not emulators). These types of layers are the ones one should be looking for if one wants to add support for a board; if you already have this layer your job should be fairly straightforward, if you do not have it you might be looking into a very cumbersome job.
At this point we have all the bits and pieces in place to build an OS.
The core code of balenaOS resides in meta-balena. This layer handles a lot of functionality but the main thing that one should remember now is that here one will find the <code>balena-image.bb</code> recipe. This layer also needs a poky version-specific layer to combine with (e.g. meta-balena-jethro), these two layers will give you the necessary framework for the abstract balenaOS generation.
Now for the final piece of the puzzle, the board-specific meta-balena configuration layer. This layer goes hand in hand with a BSP layer, for example for the Raspberry Pi family (i.e. rpi0, rpi1, rpi2, rpi3) that is supported by the meta-raspberrypi BSP, we provide a meta-balena-raspberrypi layer that configures meta-balena to the raspberrypi&#x27;s needs.</p>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">Below is a representative example from the Raspberry Pi family, which helps explain <a href="https://github.com/balena-os/balena-raspberrypi/blob/master/layers/meta-balena-raspberrypi/conf/samples/bblayers.conf.sample" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">meta-balena-raspberrypi/conf/samples/bblayers.conf.sample</a>.</p>

































































<table><thead><tr><th>Layer Name</th><th>Repository</th><th>Description</th></tr></thead><tbody><tr><td>meta-balena</td><td><a href="https://github.com/balena-os/meta-balena" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">https://github.com/balena-os/meta-balena</a></td><td>This repository enables building balenaOS for various devices</td></tr><tr><td>meta-balena-jethro</td><td><a href="https://github.com/balena-os/meta-balena" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">https://github.com/balena-os/meta-balena</a></td><td>This layer enables building balenaOS for jethro supported BSPs</td></tr><tr><td>meta-balena-raspberrypi</td><td><a href="https://github.com/balena-os/balena-raspberrypi" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">https://github.com/balena-os/balena-raspberrypi</a></td><td>Enables building balenaOS for chosen meta-raspberrypi machines.</td></tr><tr><td>meta-raspberrypi</td><td><a href="https://github.com/agherzan/meta-raspberrypi" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">https://github.com/agherzan/meta-raspberrypi</a></td><td>This is the general hardware specific BSP overlay for the Raspberry Pi device family.</td></tr><tr><td>meta-openembedded</td><td><a href="http://git.openembedded.org/meta-openembedded" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">http://git.openembedded.org/meta-openembedded</a></td><td>Collection of OpenEmbedded layers</td></tr><tr><td>meta-openembedded/meta-oe</td><td><a href="https://github.com/openembedded/meta-openembedded/tree/master/meta-oe" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">https://github.com/openembedded/meta-openembedded/tree/master/meta-oe</a></td><td></td></tr><tr><td>meta-openembedded/meta-python</td><td><a href="https://github.com/openembedded/meta-openembedded/tree/master/meta-python" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">https://github.com/openembedded/meta-openembedded/tree/master/meta-python</a></td><td>The home of python modules for OpenEmbedded.</td></tr><tr><td>meta-openembedded/meta-networking</td><td><a href="https://github.com/openembedded/meta-openembedded/tree/master/meta-networking" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">https://github.com/openembedded/meta-openembedded/tree/master/meta-networking</a></td><td>Central point for networking-relatedpackages and configuration.</td></tr><tr><td>oe-meta-go</td><td><a href="https://github.com/mem/oe-meta-go" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">https://github.com/mem/oe-meta-go</a></td><td>OpenEmbedded layer for the Go programming language</td></tr><tr><td>poky/meta-yocto</td><td><a href="https://git.yoctoproject.org/git/meta-yocto" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">https://git.yoctoproject.org/git/meta-yocto</a></td><td></td></tr><tr><td>poky/meta</td><td><a href="https://git.yoctoproject.org/git/poky" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">https://git.yoctoproject.org/git/poky</a></td><td>Core functionality and configuration of Yocto Project</td></tr></tbody></table>
<h2 class="sc-jcwofb eUsrOk sc-iBzFoy euxnRz">Userspace Components</h2>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">The balenaOS userspace tries to package only the bare essentials for running containers while still offering a lot of flexibility. The philosophy is that software and services always default to being in a container, unless they are generically useful to all containers or they absolutely can’t live in a container.  The userspace consists of many open source components, but in this section we will just highlight some of the important ones.</p>
<img src="/images/docs/arch/userspace-components.png" width="90%"/>
<h3 class="sc-jcwofb eUsrOk sc-efHXLn eUYbYC">Systemd</h3>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">We use systemd as the init system for balenaOS and it is responsible for launching and managing all the other services. We leverage many of the great features of systemd, such as adjusting OOM scores for critical services and running services in separate mount namespaces. Systemd also allows us to easily manage service dependencies.</p>
<h3 class="sc-jcwofb eUsrOk sc-efHXLn eUYbYC">Docker</h3>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">The Docker engine is a lightweight container runtime that allows us to build and run linux containers on balenaOS. BalenaOS has been optimized to run Docker containers and has been set up to use the journald log driver and DNSmasq for container DNS resolution.
We use AUFS as the underlying storage driver since it is arguably the most production tested storage driver in the Docker ecosystem. It also allows us to more easily support devices with older kernel versions and additionally gives us the ability to run on devices with Unmanaged NAND flash.</p>
<h3 class="sc-jcwofb eUsrOk sc-efHXLn eUYbYC">NetworkManager and ModemManager</h3>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">BalenaOS uses NetworkManager accompanied by ModemManager, to deliver a stable and reliable connection to the internet, be it via ethenet, wifi or cellular modem. Additionally to make headless configuration of the device’s network easy, we have added a <code>system-connections</code> folder in the boot partition which is copied into <code>/etc/NetworkManager/system-connections</code>. So any valid NetworkManager connection file can just be dropped into the boot partition before device commissioning.</p>
<h3 class="sc-jcwofb eUsrOk sc-efHXLn eUYbYC">DNSmasq</h3>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">DNSmasq is here to manage the nameservers that NetworkManager provides for balenaOS.
NetworkManager will discover the nameservers that can be used and a binary called <code>resolvconf</code> will write them to a tmpfs location, from where DNSmasq will take over and manage these nameservers to give the user the fastest most responsive DNS resolution.</p>
<h3 class="sc-jcwofb eUsrOk sc-efHXLn eUYbYC">Avahi</h3>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">In order to improve the development experience of balenaOS, there is an Avahi daemon that starts advertising the device as <code>balena.local</code> or <code>&lt;hostname&gt;.local</code> on boot if the image is a development image.</p>
<h3 class="sc-jcwofb eUsrOk sc-efHXLn eUYbYC">OpenVPN</h3>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">BalenaOS will provide the user with an OpenVPN server that they might use. It is worth noting that this server will be disabled by default and manual interaction from the user is needed to activate and configure this server to their needs.</p>
<h2 class="sc-jcwofb eUsrOk sc-iBzFoy euxnRz">Image Partition Layout</h2>
<img src="/images/docs/arch/partition-layout.png" width="90%"/>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">The first partition, resin-boot, is meant to hold boot important bits according to each board (e.g. kernel image, bootloader image). It also holds a very important file that you will find mentioned elsewhere in this document (i.e. <code>config.json</code>). The config.json file is the central point of configuring balenaOS and defining its behaviour, for example you can set your hostname, allow persistent logging, etc.
Resin-rootA is the partition that holds our read-only root filesystem; it holds almost everything that balenaOS is.
Resin-rootB is an empty partition that is only used when the rootfs is to be updated. We follow the Blue-Green deployment strategy. Essentially we have one active partition that is the OS’s current rootfs and one dormant one that is empty, we download the new rootfs to the dormant partition and try to switch them, if the switch is successful the dormant partition becomes the new rootfs, if not, we rollback to the old active partition.
Resin-state is the partition that holds persistent data as explained in the <a href="#stateless-and-read-only-rootfs" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">Stateless and Read-only rootfs</a>.
Resin-data is the partition that holds downloaded Docker images. Generally any container data will be found here.</p>
<h2 class="sc-jcwofb eUsrOk sc-iBzFoy euxnRz">Stateless and Read-Only rootFS</h2>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">BalenaOS comes with a read-only root filesystem, so we can ensure our hostOS is stateless, but we still need some data to be persistent over system reboots. We achieve this with a very simple mechanism, i.e. bind mounts.
BalenaOS contains a partition named resin-state that is meant to hold all this persistent data, inside we populate a Linux filesystem hierarchy standard with the rootfs paths that we require to be persistent. After this partition is populated we are ready to bind mount the respective rootfs paths to this read-write location, thus allowing different components (e.g. journald) to be able to write data to disk. A mechanism to purge this partition is provided, thus allowing users to rollback to an unconfigured balenaOS image.</p>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">A diagram of our read-only rootfs can be seen below:</p>
<img src="/images/docs/arch/read-only-rootfs.png" width="90%"/>
<h2 class="sc-jcwofb eUsrOk sc-iBzFoy euxnRz">Dev vs. Prod images</h2>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">BalenaOS comes in two flavours, namely Development (dev) and Production (prod).
The Development images are recommended while getting started with balenaOS and building a system.
The dev images enable a number of useful features while developing, namely:</p>
<ul>
<li>Passwordless SSH to balenaOS</li>
<li>The device broadcasts as balena.local or \&lt;hostname&gt;.local on the network for easy access.</li>
<li>Docker socket exposed on via port 2377</li>
<li>Getty console attached to tty1 and serial</li>
</ul>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK"><strong>Note:</strong> Raspberry Pi devices don’t have Getty attached to serial.</p>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">The production images have all of the above functionality disabled by default. In both forms of the OS we write logs to an 8 MB journald RAM
buffer in order to avoid wear on the flash storage used by most of the supported boards. However, persistent logging can be enabled by setting
the <code>&quot;persistentLogging&quot;: true</code> key in the <code>config.json</code> file in the boot partition of the device.</p>
<h2 class="sc-jcwofb eUsrOk sc-iBzFoy euxnRz">OS Tools</h2>
<h3 class="sc-jcwofb eUsrOk sc-efHXLn eUYbYC">Base Images</h3>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">To help getting started with containers on embedded systems, balenaOS comes with a full complement of over 500 Docker base images. We currently have base images for
Debian, Fedora and Alpine Linux distributions, as well as Nodejs, Python, Go and Java language base images. For a more in-depth look into all the available base images head over
to the <a href="http://balena.io/docs/runtime/balena-base-images/" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">balena base images wiki</a> or the <a href="https://hub.docker.com/u/resin/" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">Docker Hub repository</a>.</p>
<h3 class="sc-jcwofb eUsrOk sc-efHXLn eUYbYC">Balena Command Line Tool</h3>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">The balena CLI is a set of useful tools that help with setting up and developing containers with a balenaOS device. The goal of the CLI is to provide
a simple and intuitive developer experience. Currently, local mode part of the CLI are evolving fast and is considered &#x27;beta&#x27;, so as always, we love it when you report bugs,
you can report them here: <a href="https://github.com/balena-io/balena-cli" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">github.com/balena-io/balena-cli</a></p>
<h4 class="sc-jcwofb gLZSkR sc-cTJmaU gNhzSU">Installation</h4>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">Currently the CLI is a node.js based command line tool which requires that our system has the following dependencies installed and in our path:</p>
<ul>
<li><a href="https://nodejs.org/en/" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">node.js 6.x</a></li>
<li><a href="https://www.npmjs.com/" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">npm package manager</a></li>
<li><a href="https://download.samba.org/pub/rsync/rsync.html" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">rsync</a></li>
<li><a href="http://www.openssh.com/" color="primary.main" class="sc-eGJXgd eMKaST sc-csTaMs jzoPQR">ssh</a></li>
</ul>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">Once we have those setup we can install the CLI using npm:</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">npm</span> <span class="token function">install</span> --global --production --unsafe-perm balena-cli
</code></pre>
<h4 class="sc-jcwofb gLZSkR sc-cTJmaU gNhzSU">Usage</h4>
<h5 class="sc-jcwofb gLZSkR sc-jNnnWF gRwHMP">Configure</h5>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK"><code>balena local configure</code> allows you configure or reconfigure a balenaOS system image or SD card. Currently, this allows for configuration of wifi settings, hostname and enablement of
persistent journald logs.</p>
<pre class="language-bash"><code class="language-bash">$ balena <span class="token builtin class-name">help</span> <span class="token builtin class-name">local</span> configure
Usage: <span class="token builtin class-name">local</span> configure <span class="token operator">&lt;</span>target<span class="token operator">&gt;</span>

Use this <span class="token builtin class-name">command</span> to configure or reconfigure a balenaOS drive or image.

Examples:

	$ balena <span class="token builtin class-name">local</span> configure /dev/sdc
	$ balena <span class="token builtin class-name">local</span> configure path/to/image.img
</code></pre>
<h5 class="sc-jcwofb gLZSkR sc-jNnnWF gRwHMP">Flash</h5>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK"><code>balena local flash</code> command helps to easily and safely flash the balenaOS system image on an SD card or USB drive.</p>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK"><strong>Note:</strong> Currently, <code>balena local flash</code> doesn&#x27;t work with the Intel Edison board.</p>
<pre class="language-bash"><code class="language-bash">$ balena <span class="token builtin class-name">help</span> <span class="token builtin class-name">local</span> flash
Usage: <span class="token builtin class-name">local</span> flash <span class="token operator">&lt;</span>image<span class="token operator">&gt;</span>

Use this <span class="token builtin class-name">command</span> to flash a balenaOS image to a drive.

Examples:

	$ balena <span class="token builtin class-name">local</span> flash path/to/balenaos.img
	$ balena <span class="token builtin class-name">local</span> flash path/to/balenaos.img --drive /dev/disk2
	$ balena <span class="token builtin class-name">local</span> flash path/to/balenaos.img --drive /dev/disk2 --yes

Options:

    --yes, -y                           confirm non-interactively          
    --drive, -d <span class="token operator">&lt;</span>drive<span class="token operator">&gt;</span>                 drive     
</code></pre>
<h5 class="sc-jcwofb gLZSkR sc-jNnnWF gRwHMP">Push</h5>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">The <code>balena local push</code> command enables you to quickly build and deploy a Docker container to a target device. It also allows you to easily sync code between your laptop
directory and your running container on the target. Once you have a balenaOS host device running and advertising on the network,
<code>balena local push</code> will allow you to iterate code on a container service. <code>push</code> has a lot of advanced functionality, which all gets encoded into the <code>.balena-sync.yml</code> file in your
project directory. To better understand the <code>.yml</code> file, let&#x27;s look at an example:</p>
<pre><code>  app-name: myapp
  build-triggers:
    - Dockerfile: 9396730559c4107a0d82f95373c45d8e0634556342fb4ee276a7bc1c84c51570
    - package.json: 1e40740d7cf5018cf887124ee75917eb139d49473c51464580feda247b3a4641
destination: /usr/src/app
ignore:
  - .git
  - node_modules/
</code></pre>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">Let&#x27;s look a bit into some of these settings keys.</p>
<ul>
<li><code>app-name:</code> represents the name of the Docker image and corresponding running container on the target device.</li>
<li><code>build-triggers:</code> is a list of file names and their content hashes. Any changes in the files contained in this list will result in a <code>docker build .</code> on the
target device.</li>
<li><code>destination:</code> this sets the destination sync directory in the container running on the device. This allows you to synchronise a <code>--source</code> directory on your laptop to a running
container on the device. This is very useful when developing with interpreted languages like Python or Node.js, as you can sync just your source code across, without rebuilding the
entire container.</li>
<li><code>ignore:</code> is a list of files or directories that you would like to be ignored during the directory sync. This is useful in the case where you have <code>node_modules</code> in your source
directory that is compiled to run on your x86 laptop, but you are pushing your code over to an ARM based embedded device.</li>
</ul>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK">The push has quite a bit of functionality and a few useful flags. Check out the <code>balena help local push</code>:</p>
<pre class="language-bash"><code class="language-bash">$ balena <span class="token builtin class-name">help</span> <span class="token builtin class-name">local</span> push
Usage: <span class="token builtin class-name">local</span> push <span class="token punctuation">[</span>deviceIp<span class="token punctuation">]</span>

Warning: <span class="token string">&#x27;balena local push&#x27;</span> requires an openssh-compatible client and <span class="token string">&#x27;rsync&#x27;</span> to
be correctly installed <span class="token keyword">in</span> your shell environment. For <span class="token function">more</span> information <span class="token punctuation">(</span>including
Windows support<span class="token punctuation">)</span> please check the README here: https://github.com/balena-io/balena-cli

Use this <span class="token builtin class-name">command</span> to push your <span class="token builtin class-name">local</span> changes to a container on a LAN-accessible balenaOS device on the fly.

If <span class="token variable"><span class="token variable">`</span>Dockerfile<span class="token variable">`</span></span> or any <span class="token function">file</span> <span class="token keyword">in</span> the <span class="token string">&#x27;build-triggers&#x27;</span> list is changed,
a new container will be built and run on your device.
If not, changes will simply be synced with <span class="token variable"><span class="token variable">`</span><span class="token function">rsync</span><span class="token variable">`</span></span> into the application container.

After every <span class="token string">&#x27;balena local push&#x27;</span> the updated settings will be saved <span class="token keyword">in</span>
<span class="token string">&#x27;&lt;source&gt;/.balena-sync.yml&#x27;</span> and will be used <span class="token keyword">in</span> later invocations. You can
also change any option by editing <span class="token string">&#x27;.balena-sync.yml&#x27;</span> directly.

Here is an example <span class="token string">&#x27;.balena-sync.yml&#x27;</span> <span class="token builtin class-name">:</span>

	$ <span class="token function">cat</span> <span class="token environment constant">$PWD</span>/.balena-sync.yml
	destination: <span class="token string">&#x27;/usr/src/app&#x27;</span>
	before: <span class="token string">&#x27;echo Hello&#x27;</span>
	after: <span class="token string">&#x27;echo Done&#x27;</span>
	ignore:
		- .git
		- node_modules/

Command line options have precedence over the ones saved <span class="token keyword">in</span> <span class="token string">&#x27;.balena-sync.yml&#x27;</span><span class="token builtin class-name">.</span>

If <span class="token string">&#x27;.gitignore&#x27;</span> is found <span class="token keyword">in</span> the <span class="token builtin class-name">source</span> directory <span class="token keyword">then</span> all explicitly listed files will be
excluded when using <span class="token function">rsync</span> to update the container. You can choose to change this default behavior with the
<span class="token string">&#x27;--skip-gitignore&#x27;</span> option.

Examples:

	$ balena <span class="token builtin class-name">local</span> push
	$ balena <span class="token builtin class-name">local</span> push --app-name test-server --build-triggers package.json,requirements.txt
	$ balena <span class="token builtin class-name">local</span> push --force-build
	$ balena <span class="token builtin class-name">local</span> push --force-build --skip-logs
	$ balena <span class="token builtin class-name">local</span> push --ignore lib/
	$ balena <span class="token builtin class-name">local</span> push --verbose <span class="token boolean">false</span>
	$ balena <span class="token builtin class-name">local</span> push <span class="token number">192.168</span>.2.10 --source <span class="token builtin class-name">.</span> --destination /usr/src/app
	$ balena <span class="token builtin class-name">local</span> push <span class="token number">192.168</span>.2.10 -s /home/user/myBalenaProject -d /usr/src/app --before <span class="token string">&#x27;echo Hello&#x27;</span> --after <span class="token string">&#x27;echo Done&#x27;</span>

Options:

    --source, -s <span class="token operator">&lt;</span>path<span class="token operator">&gt;</span>                 root of project directory to push                                                                                       
    --destination, -d <span class="token operator">&lt;</span>path<span class="token operator">&gt;</span>            destination path on device container                                                                                    
    --ignore, -i <span class="token operator">&lt;</span>paths<span class="token operator">&gt;</span>                comma delimited paths to ignore when syncing with <span class="token string">&#x27;rsync&#x27;</span>                                                               
    --skip-gitignore                    <span class="token keyword">do</span> not parse excluded/included files from .gitignore                                                                    
    --before, -b <span class="token operator">&lt;</span>command<span class="token operator">&gt;</span>              execute a <span class="token builtin class-name">command</span> before pushing                                                                                        
    --after, -a <span class="token operator">&lt;</span>command<span class="token operator">&gt;</span>               execute a <span class="token builtin class-name">command</span> after pushing                                                                                         
    --progress, -p                      show progress                                                                                                           
    --skip-logs                         <span class="token keyword">do</span> not stream logs after push                                                                                           
    --verbose, -v                       increase verbosity                                                                                                      
    --app-name, -n <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>               application name - may contain lowercase characters, digits and one or <span class="token function">more</span> dashes. It may not start or end with a dash.
    --build-triggers, -r <span class="token operator">&lt;</span>files<span class="token operator">&gt;</span>        comma delimited <span class="token function">file</span> list that will trigger a container rebuild <span class="token keyword">if</span> changed                                              
    --force-build, -f                   force a container build and run                                                                                         
    --env, -e <span class="token operator">&lt;</span>env<span class="token operator">&gt;</span>                     environment variable <span class="token punctuation">(</span>e.g. --env <span class="token string">&#x27;ENV=value&#x27;</span><span class="token punctuation">)</span>. Multiple --env parameters are supported.              
</code></pre>
<h5 class="sc-jcwofb gLZSkR sc-jNnnWF gRwHMP">SSH</h5>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK"><code>balena local ssh</code> discovers balenaOS devices on the local network and allows you to drop a SSH session into any of the containers running on the device. It also enables to you to
drop in to the underlying host OS by doing <code>balena local ssh --host</code>, however you can of course always just do <code>ssh root@balena.local -p22222</code>.</p>
<pre><code>$ balena help local ssh
Usage: local ssh [deviceIp]

Warning: &#x27;balena local ssh&#x27; requires an openssh-compatible client to be correctly
installed in your shell environment. For more information (including Windows
support) please check the README here: https://github.com/balena-io/balena-cli

Use this command to get a shell into the running application container of
your device.

The &#x27;--host&#x27; option will get you a shell into the Host OS of the balenaOS device.
No option will return a list of containers to enter or you can explicitly select
one by passing its name to the --container option

Examples:

	$ balena local ssh
	$ balena local ssh --host
	$ balena local ssh --container chaotic_water
	$ balena local ssh --container chaotic_water --port 22222
	$ balena local ssh --verbose

Options:

    --verbose, -v                       increase verbosity                 
    --host, -s                          get a shell into the host OS       
    --container, -c &lt;container&gt;         name of container to access        
    --port, -p &lt;port&gt;                   ssh port number (default: 22222)  
</code></pre>
<h5 class="sc-jcwofb gLZSkR sc-jNnnWF gRwHMP">Logs</h5>
<p class="sc-fKgIGh djMLxE sc-cxNIbT doRCKK"><code>balena local logs</code> allows the fetching of logs from any of the running containers on the device.</p>
<pre class="language-bash"><code class="language-bash">$ balena <span class="token builtin class-name">help</span> <span class="token builtin class-name">local</span> logs
Usage: <span class="token builtin class-name">local</span> logs <span class="token punctuation">[</span>deviceIp<span class="token punctuation">]</span>


Examples:

	$ balena <span class="token builtin class-name">local</span> logs
	$ balena <span class="token builtin class-name">local</span> logs -f
	$ balena <span class="token builtin class-name">local</span> logs <span class="token number">192.168</span>.1.10
	$ balena <span class="token builtin class-name">local</span> logs <span class="token number">192.168</span>.1.10 -f
	$ balena <span class="token builtin class-name">local</span> logs <span class="token number">192.168</span>.1.10 -f --app-name myapp

Options:

    --follow, -f                        follow log                         
    --app-name, -a <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>               name of container to get logs from
</code></pre></div></div></div></div></div></div><div style="position:relative;z-index:3" class="sc-gKAblj cDwDsz sc-iCoHVE gZtEXP"><div class="sc-gKAblj cDwDsz sc-iCoHVE hlEduY sc-cKRKlA hZOMcA sc-iIgiFR lyVVi"><div class="sc-gKAblj cDwDsz sc-iCoHVE kXijcO sc-hHEjAm jAoJEK"><div class="sc-gKAblj cDwDsz sc-iCoHVE fbWAy sc-hHEjAm bzJToQ"><div class="sc-gKAblj cDwDsz sc-iCoHVE iICyJN"><img style="height:50px" src="data:image/svg;base64,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" class="sc-jtiWoB vFLFe"/><div class="sc-gKAblj cDwDsz sc-iCoHVE gFbxTc sc-hHEjAm gAYhOq"><div class="sc-fKgIGh djMLxE sc-bCwgka eYntrq">Brought to you by</div> <a color="#2a506f" href="https://github.com/balena-os" class="sc-eGJXgd kcETfK sc-csTaMs bwZqFq"><img src="https://avatars2.githubusercontent.com/u/16914061?v=4" alt="balena-os" style="height:26px" class="sc-jtiWoB bAJKaz"/></a></div></div><div class="sc-gKAblj cDwDsz sc-iCoHVE decHvm"><h4 class="sc-jcwofb gLZSkR sc-cTJmaU gQhHqF">Navigation</h4><div class="sc-gKAblj cDwDsz sc-iCoHVE lePrqr"><a color="#527699" href="/docs" aria-labelledby="Docs" class="sc-eGJXgd eiUiyj sc-csTaMs brDNrO">Docs</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE lePrqr"><a color="#527699" href="/contributing" aria-labelledby="Contributing" class="sc-eGJXgd eiUiyj sc-csTaMs brDNrO">Contributing</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE lePrqr"><a color="#527699" href="https://github.com/balena-os/balena-os" aria-labelledby="GitHub" class="sc-eGJXgd eiUiyj sc-csTaMs brDNrO">GitHub</a></div></div><div class="sc-gKAblj cDwDsz sc-iCoHVE decHvm"><h4 class="sc-jcwofb gLZSkR sc-cTJmaU gQhHqF">Docs</h4><div class="sc-gKAblj cDwDsz sc-iCoHVE lePrqr"><a color="#527699" href="/docs/architecture-overview" class="sc-eGJXgd eiUiyj sc-csTaMs brDNrO">Architecture Overview</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE lePrqr"><a color="#527699" href="/docs/contribute-to-balena-os" class="sc-eGJXgd eiUiyj sc-csTaMs brDNrO">Contribute to balenaOS</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE lePrqr"><a color="#527699" href="/docs/building-your-own" class="sc-eGJXgd eiUiyj sc-csTaMs brDNrO">Building your Own</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE lePrqr"><a color="#527699" href="/docs/dynamic-page-about-os-name-language-name" class="sc-eGJXgd eiUiyj sc-csTaMs brDNrO">Dynamic page about {{ $os.name }} &amp; {{ $language.name }}</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE lePrqr"><a color="#527699" href="/docs/" class="sc-eGJXgd eiUiyj sc-csTaMs brDNrO">/docs/</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE lePrqr"><a color="#527699" href="/docs/getting-started-on-the-device-name" class="sc-eGJXgd eiUiyj sc-csTaMs brDNrO">Getting Started on the {{ $device.name }}</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE lePrqr"><a color="#527699" href="/docs/" class="sc-eGJXgd eiUiyj sc-csTaMs brDNrO">/docs/</a></div><div class="sc-gKAblj cDwDsz sc-iCoHVE lePrqr"><a color="#527699" href="/docs/supported-boards" class="sc-eGJXgd eiUiyj sc-csTaMs brDNrO">Supported Boards</a></div></div></div></div></div></div></div></div></div><script type="text/javascript">window.__routeInfo = JSON.parse("{\"template\":\"__react_static_root__/lib/renderer\",\"sharedHashesByProp\":{},\"data\":{\"analytics\":null,\"combination\":[{\"component\":\"Head\",\"rank\":1,\"options\":{\"pageUrl\":\"undefined/docs/architecture-overview/1.6.3\",\"description\":\"The central place for all things BalenaOS related.\",\"title\":\"Architecture Overview\"}},{\"component\":\"Navigation\",\"rank\":1,\"options\":{\"name\":\"balena-os\",\"logo\":\"data:image/svg;base64,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\",\"routes\":[{\"name\":\"Docs\",\"url\":\"/docs\"},{\"name\":\"Contributing\",\"url\":\"/contributing\"},{\"name\":\"v1.6.3\",\"url\":\"https://github.com/balena-os/balena-os\"}],\"githubUrl\":\"https://github.com/balena-os/balena-os.git\"}},{\"component\":\"DocViewer\",\"rank\":1,\"options\":{\"title\":\"Architecture Overview\",\"current\":[\"docs\",\"architecture-overview\",\"1.6.3\"],\"toc\":[{\"path\":[\"docs\",\"architecture-overview\"],\"title\":\"Architecture Overview\",\"sections\":[[\"header\",{\"level\":1},\"Architecture Overview\"],[\"header\",{\"level\":2},\"Introduction\"],[\"header\",{\"level\":2},\"OS composition\"],[\"header\",{\"level\":2},\"Userspace Components\"],[\"header\",{\"level\":3},\"Systemd\"],[\"header\",{\"level\":3},\"Docker\"],[\"header\",{\"level\":3},\"NetworkManager and ModemManager\"],[\"header\",{\"level\":3},\"DNSmasq\"],[\"header\",{\"level\":3},\"Avahi\"],[\"header\",{\"level\":3},\"OpenVPN\"],[\"header\",{\"level\":2},\"Image Partition Layout\"],[\"header\",{\"level\":2},\"Stateless and Read-Only rootFS\"],[\"header\",{\"level\":2},\"Dev vs. Prod images\"],[\"header\",{\"level\":2},\"OS Tools\"],[\"header\",{\"level\":3},\"Base Images\"],[\"header\",{\"level\":3},\"Balena Command Line Tool\"],[\"header\",{\"level\":4},\"Installation\"],[\"header\",{\"level\":4},\"Usage\"],[\"header\",{\"level\":5},\"Configure\"],[\"header\",{\"level\":5},\"Flash\"],[\"header\",{\"level\":5},\"Push\"],[\"header\",{\"level\":5},\"SSH\"],[\"header\",{\"level\":5},\"Logs\"]]},{\"path\":[\"docs\",\"contribute-to-balena-os\"],\"title\":\"Contribute to balenaOS\",\"sections\":[[\"header\",{\"level\":1},\"Contribute to balenaOS\"],[\"header\",{\"level\":2},\"Testing and Bug Reports\"],[\"header\",{\"level\":2},\"Submitting Fixes\"],[\"header\",{\"level\":2},\"Support for Additional Boards\"],[\"header\",{\"level\":2},\"Documentation\"],[\"header\",{\"level\":2},\"Tutorials\"]]},{\"path\":[\"docs\",\"building-your-own\"],\"title\":\"Building your Own\",\"sections\":[[\"header\",{\"level\":1},\"Building your Own\"],[\"header\",{\"level\":2},\"Bake your own Image\"],[\"header\",{\"level\":2},\"Supporting your Own Board\"],[\"header\",{\"level\":3},\"Board Support Repository Breakout\"],[\"header\",{\"level\":3},\"meta-balena-\",[\"inlinecode\",\"<board-family>\"],\" breakout\"],[\"header\",{\"level\":3},\"Building\"],[\"header\",{\"level\":3},\"Troubleshooting\"]]},{\"path\":[\"docs\",\"dynamic-page-about-os-name-language-name\"],\"title\":\"Dynamic page about {{ $os.name }} & {{ $language.name }}\",\"sections\":[[\"header\",{\"level\":1},\"Dynamic page about {{ $os.name }} & {{ $language.name }}\"],[\"header\",{\"level\":2},\"Smart import\"],[\"header\",{\"level\":2},\"Helpers Example\"]]},{\"path\":[\"docs\",\"\"],\"sections\":[[\"header\",{\"level\":2},\"Why Docker containers on embedded devices?\"],[\"header\",{\"level\":2},\"Why Yocto?\"],[\"header\",{\"level\":2},\"How is this different from cloud operating systems for containers?\"],[\"header\",{\"level\":2},\"How is this different from other embedded operating systems?\"]]},{\"path\":[\"docs\",\"getting-started-on-the-device-name\"],\"title\":\"Getting Started on the {{ $device.name }}\",\"sections\":[[\"header\",{\"level\":1},\"Getting Started on the {{ $device.name }}\"],[\"header\",{\"level\":2},\"Download an Image\"],[\"header\",{\"level\":2},\"Install the Balena CLI\"],[\"header\",{\"level\":2},\"Configure the Image\"],[\"header\",{\"level\":2},\"Get the Device Up and Running\"],[\"header\",{\"level\":3},\"Flash {{ $device.bootMedia }}\"],[\"header\",{\"level\":3},\"Boot the device\"],[\"header\",{\"level\":2},\"Running your first Container\"],[\"header\",{\"level\":3},\"Clone a demo Project\"],[\"header\",{\"level\":3},\"Get a Container Running\"],[\"header\",{\"level\":2},\"Poking Around balenaOS\"],[\"header\",{\"level\":4},\"To ssh into the host:\"],[\"header\",{\"level\":4},\"To ssh into a particular container:\"],[\"header\",{\"level\":2},\"Going Further\"],[\"header\",{\"level\":3},\"Advanced Settings\"],[\"header\",{\"level\":2},\"Creating a Project from Scratch\"]]},{\"path\":[\"docs\",\"\"],\"sections\":[[\"header\",{\"level\":2},\"What is balenaOS?\"]]},{\"path\":[\"docs\",\"supported-boards\"],\"title\":\"Supported Boards\",\"sections\":[[\"header\",{\"level\":1},\"Supported Boards\"],[\"header\",{\"level\":2},\"ARMv7\"],[\"header\",{\"level\":2},\"ARMv6\"],[\"header\",{\"level\":2},\"ARMv5\"],[\"header\",{\"level\":2},\"Intel x86_32\"],[\"header\",{\"level\":2},\"Intel x86_64\"]]}],\"versions\":[\"1.6.3\"],\"link\":\"https://github.com/balena-os/balena-os/edit/master/docs/architecture.md\",\"content\":{\"markdown\":\"---\\ntitle: Architecture\\nlayout: docs.html\\n---\\n\\n# Architecture Overview\\n\\n## Introduction\\n\\nBalenaOS is an operating system optimised for running Docker containers on embedded devices, with an emphasis on reliability over long periods of operation, as well as a productive developer workflow inspired by the lessons learned while building balena.\\n\\nThe core insight behind balenaOS is that Linux Containers offer, for the first time, a practical path to using virtualisation on embedded devices. VMs and hypervisors have lead to huge leaps in productivity and automation for cloud deployments, but their abstraction of hardware as well as their resource overhead and lack of hardware support means that they are out of the question for embedded scenarios. With OS-level virtualisation as implemented for Linux Containers, both those objections are lifted for Linux devices, of which there are many in the Internet of Things.\\n\\nBalenaOS is an operating system built for easy portability to multiple device types (via the Yocto framework) and optimised for Linux Containers, and Docker in particular. There are many decisions, large and small, we have made to enable that vision, which are present throughout our architecture.\\n\\nThe first version of balenaOS was developed as part of balena, and has run on thousands of embedded devices, deployed in many different contexts for several years. BalenaOS v2 represents the combination of the learnings we extracted over those years, as well as our determination to make balenaOS a first-class open source project, able to run as an independent operating system, for any context where embedded devices and containers intersect.\\n\\nWe look forward to working with the community to grow and mature balenaOS into an operating system with even broader device support, a broader operating envelope, and as always, taking advantage of the most modern developments in security and reliability.\\n\\n## OS composition\\n\\nThe OS is composed of multiple yocto layers. The [Yocto Project](https://www.yoctoproject.org/) build system uses these layers to compile balenaOS for the various [supported platforms](./supportedboards.md).\\nThis document will not go into detailed explanation about how the [Yocto Project](https://www.yoctoproject.org/) works, but will require from the reader a basic understanding of its internals and release versioning/codename.\\n\\n| Codename | Yocto Project Version | Release Date | Current Version | Support Level | Poky Version | BitBake branch |\\n|:--------:|:---------------------:|:------------:|:---------------:|:-------------:|:------------:|:--------------:|\\n|   Pyro   |          2.3          |   Apr 2017   |                 |  Development  |              |                |\\n|   Morty  |          2.2          |   Oct 2016   |      2.2.1      |     Stable    |     16.0     |      1.32      |\\n|  Krogoth |          2.1          |   Apr 2016   |      2.1.2      |     Stable    |     15.0     |      1.30      |\\n|  Jethro  |          2.0          |   Nov 2015   |      2.0.3      |   Community   |     14.0     |      1.28      |\\n|   Fido   |          1.8          |   Apr 2015   |      1.8.2      |   Community   |     13.0     |      1.26      |\\n|   Dizzy  |          1.7          |   Oct 2014   |      1.7.3      |   Community   |     12.0     |      1.24      |\\n|   Daisy  |          1.6          |   Apr 2014   |      1.6.3      |   Community   |     11.0     |      1.22      |\\n|   Dora   |          1.5          |   Oct 2013   |      1.5.4      |   Community   |     10.0     |      1.20      |\\n\\nWe will start looking into balenaOS\u2019s composition from the core of the [Yocto Project](https://www.yoctoproject.org/), i.e. poky. Poky has released a whole bunch of versions and supporting all of them is not in the scope of our OS, but we do try to support its latest versions. This might sound ironic as we do not currently support poky\u2019s last version (i.e. 2.1/Krogoth), but this is only because we did not need this version yet. We tend to support versions of poky based on what our supported boards require and also do a yearly update to the latest poky version for all the boards that can run that version. Currently we support three poky versions: 2.0/Jethro, 1.8/Fido and 1.6/Daisy.\\n\\nOn top of poky we add the collection of packages from meta-openembedded.\\nNow that we are done with setting up the build system let\u2019s add Board Support Packages (BSP), these layers are here to provide board-specific configuration and packages (e.g. bootloader, kernel), thus enabling building physical hardware (not emulators). These types of layers are the ones one should be looking for if one wants to add support for a board; if you already have this layer your job should be fairly straightforward, if you do not have it you might be looking into a very cumbersome job.\\nAt this point we have all the bits and pieces in place to build an OS.\\nThe core code of balenaOS resides in meta-balena. This layer handles a lot of functionality but the main thing that one should remember now is that here one will find the `balena-image.bb` recipe. This layer also needs a poky version-specific layer to combine with (e.g. meta-balena-jethro), these two layers will give you the necessary framework for the abstract balenaOS generation.\\nNow for the final piece of the puzzle, the board-specific meta-balena configuration layer. This layer goes hand in hand with a BSP layer, for example for the Raspberry Pi family (i.e. rpi0, rpi1, rpi2, rpi3) that is supported by the meta-raspberrypi BSP, we provide a meta-balena-raspberrypi layer that configures meta-balena to the raspberrypi's needs.\\n\\nBelow is a representative example from the Raspberry Pi family, which helps explain [meta-balena-raspberrypi/conf/samples/bblayers.conf.sample](https://github.com/balena-os/balena-raspberrypi/blob/master/layers/meta-balena-raspberrypi/conf/samples/bblayers.conf.sample).\\n\\n| Layer Name                        | Repository                                                                      | Description                                                                           |\\n|-----------------------------------|-------------------------------------------------------------------------------|---------------------------------------------------------------------------------------|\\n| meta-balena                        | https://github.com/balena-os/meta-balena                                        | This repository enables building balenaOS for various devices                         |\\n| meta-balena-jethro                 | https://github.com/balena-os/meta-balena                                        | This layer enables building balenaOS for jethro supported BSPs                        |\\n| meta-balena-raspberrypi            | https://github.com/balena-os/balena-raspberrypi                                 | Enables building balenaOS for chosen meta-raspberrypi machines.                        |\\n| meta-raspberrypi                  | https://github.com/agherzan/meta-raspberrypi                                  | This is the general hardware specific BSP overlay for the Raspberry Pi device family. |\\n| meta-openembedded                 | http://git.openembedded.org/meta-openembedded                                 | Collection of OpenEmbedded layers                                                     |\\n| meta-openembedded/meta-oe         | https://github.com/openembedded/meta-openembedded/tree/master/meta-oe         |                                                                                       |\\n| meta-openembedded/meta-python     | https://github.com/openembedded/meta-openembedded/tree/master/meta-python     | The home of python modules for OpenEmbedded.                                          |\\n| meta-openembedded/meta-networking | https://github.com/openembedded/meta-openembedded/tree/master/meta-networking | Central point for networking-relatedpackages and configuration.                       |\\n| oe-meta-go                        | https://github.com/mem/oe-meta-go                                             | OpenEmbedded layer for the Go programming language                                    |\\n| poky/meta-yocto                   | https://git.yoctoproject.org/git/meta-yocto                                   |                                                                                       |\\n| poky/meta                         | https://git.yoctoproject.org/git/poky                                         | Core functionality and configuration of Yocto Project                                 |\\n\\n\\n\\n## Userspace Components\\nThe balenaOS userspace tries to package only the bare essentials for running containers while still offering a lot of flexibility. The philosophy is that software and services always default to being in a container, unless they are generically useful to all containers or they absolutely can\u2019t live in a container.  The userspace consists of many open source components, but in this section we will just highlight some of the important ones.\\n\\n<img src=\\\"/images/docs/arch/userspace-components.png\\\" width=\\\"90%\\\">\\n\\n### Systemd\\nWe use systemd as the init system for balenaOS and it is responsible for launching and managing all the other services. We leverage many of the great features of systemd, such as adjusting OOM scores for critical services and running services in separate mount namespaces. Systemd also allows us to easily manage service dependencies.\\n\\n### Docker\\nThe Docker engine is a lightweight container runtime that allows us to build and run linux containers on balenaOS. BalenaOS has been optimized to run Docker containers and has been set up to use the journald log driver and DNSmasq for container DNS resolution.\\nWe use AUFS as the underlying storage driver since it is arguably the most production tested storage driver in the Docker ecosystem. It also allows us to more easily support devices with older kernel versions and additionally gives us the ability to run on devices with Unmanaged NAND flash.\\n\\n### NetworkManager and ModemManager\\nBalenaOS uses NetworkManager accompanied by ModemManager, to deliver a stable and reliable connection to the internet, be it via ethenet, wifi or cellular modem. Additionally to make headless configuration of the device\u2019s network easy, we have added a `system-connections` folder in the boot partition which is copied into `/etc/NetworkManager/system-connections`. So any valid NetworkManager connection file can just be dropped into the boot partition before device commissioning.\\n\\n### DNSmasq\\n\\nDNSmasq is here to manage the nameservers that NetworkManager provides for balenaOS.\\nNetworkManager will discover the nameservers that can be used and a binary called `resolvconf` will write them to a tmpfs location, from where DNSmasq will take over and manage these nameservers to give the user the fastest most responsive DNS resolution.\\n\\n### Avahi\\nIn order to improve the development experience of balenaOS, there is an Avahi daemon that starts advertising the device as `balena.local` or `<hostname>.local` on boot if the image is a development image.\\n\\n### OpenVPN\\n\\nBalenaOS will provide the user with an OpenVPN server that they might use. It is worth noting that this server will be disabled by default and manual interaction from the user is needed to activate and configure this server to their needs.\\n\\n## Image Partition Layout\\n\\n<img src=\\\"/images/docs/arch/partition-layout.png\\\" width=\\\"90%\\\">\\n\\nThe first partition, resin-boot, is meant to hold boot important bits according to each board (e.g. kernel image, bootloader image). It also holds a very important file that you will find mentioned elsewhere in this document (i.e. `config.json`). The config.json file is the central point of configuring balenaOS and defining its behaviour, for example you can set your hostname, allow persistent logging, etc.\\nResin-rootA is the partition that holds our read-only root filesystem; it holds almost everything that balenaOS is.\\nResin-rootB is an empty partition that is only used when the rootfs is to be updated. We follow the Blue-Green deployment strategy. Essentially we have one active partition that is the OS\u2019s current rootfs and one dormant one that is empty, we download the new rootfs to the dormant partition and try to switch them, if the switch is successful the dormant partition becomes the new rootfs, if not, we rollback to the old active partition.\\nResin-state is the partition that holds persistent data as explained in the [Stateless and Read-only rootfs](#stateless-and-read-only-rootfs).\\nResin-data is the partition that holds downloaded Docker images. Generally any container data will be found here.\\n\\n## Stateless and Read-Only rootFS\\n\\nBalenaOS comes with a read-only root filesystem, so we can ensure our hostOS is stateless, but we still need some data to be persistent over system reboots. We achieve this with a very simple mechanism, i.e. bind mounts.\\nBalenaOS contains a partition named resin-state that is meant to hold all this persistent data, inside we populate a Linux filesystem hierarchy standard with the rootfs paths that we require to be persistent. After this partition is populated we are ready to bind mount the respective rootfs paths to this read-write location, thus allowing different components (e.g. journald) to be able to write data to disk. A mechanism to purge this partition is provided, thus allowing users to rollback to an unconfigured balenaOS image.\\n\\nA diagram of our read-only rootfs can be seen below:\\n\\n<img src=\\\"/images/docs/arch/read-only-rootfs.png\\\" width=\\\"90%\\\">\\n\\n## Dev vs. Prod images\\nBalenaOS comes in two flavours, namely Development (dev) and Production (prod).\\nThe Development images are recommended while getting started with balenaOS and building a system.\\nThe dev images enable a number of useful features while developing, namely:\\n\\n* Passwordless SSH to balenaOS\\n* The device broadcasts as balena.local or \\\\<hostname\\\\>.local on the network for easy access.\\n* Docker socket exposed on via port 2377\\n* Getty console attached to tty1 and serial\\n\\n__Note:__ Raspberry Pi devices don\u2019t have Getty attached to serial.\\n\\nThe production images have all of the above functionality disabled by default. In both forms of the OS we write logs to an 8 MB journald RAM\\nbuffer in order to avoid wear on the flash storage used by most of the supported boards. However, persistent logging can be enabled by setting\\nthe `\\\"persistentLogging\\\": true` key in the `config.json` file in the boot partition of the device.\\n\\n## OS Tools\\n\\n### Base Images\\n\\nTo help getting started with containers on embedded systems, balenaOS comes with a full complement of over 500 Docker base images. We currently have base images for\\nDebian, Fedora and Alpine Linux distributions, as well as Nodejs, Python, Go and Java language base images. For a more in-depth look into all the available base images head over\\nto the [balena base images wiki](http://balena.io/docs/runtime/balena-base-images/) or the [Docker Hub repository](https://hub.docker.com/u/resin/).\\n\\n### Balena Command Line Tool\\n\\nThe balena CLI is a set of useful tools that help with setting up and developing containers with a balenaOS device. The goal of the CLI is to provide\\na simple and intuitive developer experience. Currently, local mode part of the CLI are evolving fast and is considered 'beta', so as always, we love it when you report bugs,\\nyou can report them here: [github.com/balena-io/balena-cli](https://github.com/balena-io/balena-cli)\\n\\n#### Installation\\nCurrently the CLI is a node.js based command line tool which requires that our system has the following dependencies installed and in our path:\\n\\n* [node.js 6.x](https://nodejs.org/en/)\\n* [npm package manager](https://www.npmjs.com/)\\n* [rsync](https://download.samba.org/pub/rsync/rsync.html)\\n* [ssh](http://www.openssh.com/)\\n\\nOnce we have those setup we can install the CLI using npm:\\n``` bash\\n$ npm install --global --production --unsafe-perm balena-cli\\n```\\n#### Usage\\n##### Configure\\n`balena local configure` allows you configure or reconfigure a balenaOS system image or SD card. Currently, this allows for configuration of wifi settings, hostname and enablement of\\npersistent journald logs.\\n\\n``` bash\\n$ balena help local configure\\nUsage: local configure <target>\\n\\nUse this command to configure or reconfigure a balenaOS drive or image.\\n\\nExamples:\\n\\n\\t$ balena local configure /dev/sdc\\n\\t$ balena local configure path/to/image.img\\n```\\n\\n##### Flash\\n`balena local flash` command helps to easily and safely flash the balenaOS system image on an SD card or USB drive.\\n\\n__Note:__ Currently, `balena local flash` doesn't work with the Intel Edison board.\\n\\n``` bash\\n$ balena help local flash\\nUsage: local flash <image>\\n\\nUse this command to flash a balenaOS image to a drive.\\n\\nExamples:\\n\\n\\t$ balena local flash path/to/balenaos.img\\n\\t$ balena local flash path/to/balenaos.img --drive /dev/disk2\\n\\t$ balena local flash path/to/balenaos.img --drive /dev/disk2 --yes\\n\\nOptions:\\n\\n    --yes, -y                           confirm non-interactively          \\n    --drive, -d <drive>                 drive     \\n```\\n\\n##### Push\\nThe `balena local push` command enables you to quickly build and deploy a Docker container to a target device. It also allows you to easily sync code between your laptop\\ndirectory and your running container on the target. Once you have a balenaOS host device running and advertising on the network,\\n`balena local push` will allow you to iterate code on a container service. `push` has a lot of advanced functionality, which all gets encoded into the `.balena-sync.yml` file in your\\nproject directory. To better understand the `.yml` file, let's look at an example:\\n\\n```\\n  app-name: myapp\\n  build-triggers:\\n    - Dockerfile: 9396730559c4107a0d82f95373c45d8e0634556342fb4ee276a7bc1c84c51570\\n    - package.json: 1e40740d7cf5018cf887124ee75917eb139d49473c51464580feda247b3a4641\\ndestination: /usr/src/app\\nignore:\\n  - .git\\n  - node_modules/\\n```\\n\\nLet's look a bit into some of these settings keys.\\n\\n* `app-name:` represents the name of the Docker image and corresponding running container on the target device.\\n* `build-triggers:` is a list of file names and their content hashes. Any changes in the files contained in this list will result in a `docker build .` on the\\ntarget device.\\n* `destination:` this sets the destination sync directory in the container running on the device. This allows you to synchronise a `--source` directory on your laptop to a running\\ncontainer on the device. This is very useful when developing with interpreted languages like Python or Node.js, as you can sync just your source code across, without rebuilding the\\nentire container.\\n* `ignore:` is a list of files or directories that you would like to be ignored during the directory sync. This is useful in the case where you have `node_modules` in your source\\ndirectory that is compiled to run on your x86 laptop, but you are pushing your code over to an ARM based embedded device.\\n\\nThe push has quite a bit of functionality and a few useful flags. Check out the `balena help local push`:\\n\\n``` bash\\n$ balena help local push\\nUsage: local push [deviceIp]\\n\\nWarning: 'balena local push' requires an openssh-compatible client and 'rsync' to\\nbe correctly installed in your shell environment. For more information (including\\nWindows support) please check the README here: https://github.com/balena-io/balena-cli\\n\\nUse this command to push your local changes to a container on a LAN-accessible balenaOS device on the fly.\\n\\nIf `Dockerfile` or any file in the 'build-triggers' list is changed,\\na new container will be built and run on your device.\\nIf not, changes will simply be synced with `rsync` into the application container.\\n\\nAfter every 'balena local push' the updated settings will be saved in\\n'<source>/.balena-sync.yml' and will be used in later invocations. You can\\nalso change any option by editing '.balena-sync.yml' directly.\\n\\nHere is an example '.balena-sync.yml' :\\n\\n\\t$ cat $PWD/.balena-sync.yml\\n\\tdestination: '/usr/src/app'\\n\\tbefore: 'echo Hello'\\n\\tafter: 'echo Done'\\n\\tignore:\\n\\t\\t- .git\\n\\t\\t- node_modules/\\n\\nCommand line options have precedence over the ones saved in '.balena-sync.yml'.\\n\\nIf '.gitignore' is found in the source directory then all explicitly listed files will be\\nexcluded when using rsync to update the container. You can choose to change this default behavior with the\\n'--skip-gitignore' option.\\n\\nExamples:\\n\\n\\t$ balena local push\\n\\t$ balena local push --app-name test-server --build-triggers package.json,requirements.txt\\n\\t$ balena local push --force-build\\n\\t$ balena local push --force-build --skip-logs\\n\\t$ balena local push --ignore lib/\\n\\t$ balena local push --verbose false\\n\\t$ balena local push 192.168.2.10 --source . --destination /usr/src/app\\n\\t$ balena local push 192.168.2.10 -s /home/user/myBalenaProject -d /usr/src/app --before 'echo Hello' --after 'echo Done'\\n\\nOptions:\\n\\n    --source, -s <path>                 root of project directory to push                                                                                       \\n    --destination, -d <path>            destination path on device container                                                                                    \\n    --ignore, -i <paths>                comma delimited paths to ignore when syncing with 'rsync'                                                               \\n    --skip-gitignore                    do not parse excluded/included files from .gitignore                                                                    \\n    --before, -b <command>              execute a command before pushing                                                                                        \\n    --after, -a <command>               execute a command after pushing                                                                                         \\n    --progress, -p                      show progress                                                                                                           \\n    --skip-logs                         do not stream logs after push                                                                                           \\n    --verbose, -v                       increase verbosity                                                                                                      \\n    --app-name, -n <name>               application name - may contain lowercase characters, digits and one or more dashes. It may not start or end with a dash.\\n    --build-triggers, -r <files>        comma delimited file list that will trigger a container rebuild if changed                                              \\n    --force-build, -f                   force a container build and run                                                                                         \\n    --env, -e <env>                     environment variable (e.g. --env 'ENV=value'). Multiple --env parameters are supported.              \\n```\\n\\n##### SSH\\n`balena local ssh` discovers balenaOS devices on the local network and allows you to drop a SSH session into any of the containers running on the device. It also enables to you to\\ndrop in to the underlying host OS by doing `balena local ssh --host`, however you can of course always just do `ssh root@balena.local -p22222`.\\n\\n```\\n$ balena help local ssh\\nUsage: local ssh [deviceIp]\\n\\nWarning: 'balena local ssh' requires an openssh-compatible client to be correctly\\ninstalled in your shell environment. For more information (including Windows\\nsupport) please check the README here: https://github.com/balena-io/balena-cli\\n\\nUse this command to get a shell into the running application container of\\nyour device.\\n\\nThe '--host' option will get you a shell into the Host OS of the balenaOS device.\\nNo option will return a list of containers to enter or you can explicitly select\\none by passing its name to the --container option\\n\\nExamples:\\n\\n\\t$ balena local ssh\\n\\t$ balena local ssh --host\\n\\t$ balena local ssh --container chaotic_water\\n\\t$ balena local ssh --container chaotic_water --port 22222\\n\\t$ balena local ssh --verbose\\n\\nOptions:\\n\\n    --verbose, -v                       increase verbosity                 \\n    --host, -s                          get a shell into the host OS       \\n    --container, -c <container>         name of container to access        \\n    --port, -p <port>                   ssh port number (default: 22222)  \\n```\\n\\n##### Logs\\n`balena local logs` allows the fetching of logs from any of the running containers on the device.\\n\\n``` bash\\n$ balena help local logs\\nUsage: local logs [deviceIp]\\n\\n\\nExamples:\\n\\n\\t$ balena local logs\\n\\t$ balena local logs -f\\n\\t$ balena local logs 192.168.1.10\\n\\t$ balena local logs 192.168.1.10 -f\\n\\t$ balena local logs 192.168.1.10 -f --app-name myapp\\n\\nOptions:\\n\\n    --follow, -f                        follow log                         \\n    --app-name, -a <name>               name of container to get logs from\\n```\\n\",\"jsonml\":[[\"hr\"],[\"hr\"],[\"header\",{\"level\":1},\"Architecture Overview\"],[\"header\",{\"level\":2},\"Introduction\"],[\"para\",\"BalenaOS is an operating system optimised for running Docker containers on embedded devices, with an emphasis on reliability over long periods of operation, as well as a productive developer workflow inspired by the lessons learned while building balena.\"],[\"para\",\"The core insight behind balenaOS is that Linux Containers offer, for the first time, a practical path to using virtualisation on embedded devices. VMs and hypervisors have lead to huge leaps in productivity and automation for cloud deployments, but their abstraction of hardware as well as their resource overhead and lack of hardware support means that they are out of the question for embedded scenarios. With OS-level virtualisation as implemented for Linux Containers, both those objections are lifted for Linux devices, of which there are many in the Internet of Things.\"],[\"para\",\"BalenaOS is an operating system built for easy portability to multiple device types (via the Yocto framework) and optimised for Linux Containers, and Docker in particular. There are many decisions, large and small, we have made to enable that vision, which are present throughout our architecture.\"],[\"para\",\"The first version of balenaOS was developed as part of balena, and has run on thousands of embedded devices, deployed in many different contexts for several years. BalenaOS v2 represents the combination of the learnings we extracted over those years, as well as our determination to make balenaOS a first-class open source project, able to run as an independent operating system, for any context where embedded devices and containers intersect.\"],[\"para\",\"We look forward to working with the community to grow and mature balenaOS into an operating system with even broader device support, a broader operating envelope, and as always, taking advantage of the most modern developments in security and reliability.\"],[\"header\",{\"level\":2},\"OS composition\"],[\"para\",\"The OS is composed of multiple yocto layers. The \",[\"link\",{\"href\":\"https://www.yoctoproject.org/\"},\"Yocto Project\"],\" build system uses these layers to compile balenaOS for the various \",[\"link\",{\"href\":\"./supportedboards.md\"},\"supported platforms\"],\".\\nThis document will not go into detailed explanation about how the \",[\"link\",{\"href\":\"https://www.yoctoproject.org/\"},\"Yocto Project\"],\" works, but will require from the reader a basic understanding of its internals and release versioning/codename.\"],[\"para\",\"| Codename | Yocto Project Version | Release Date | Current Version | Support Level | Poky Version | BitBake branch |\\n|:--------:|:---------------------:|:------------:|:---------------:|:-------------:|:------------:|:--------------:|\\n|   Pyro   |          2.3          |   Apr 2017   |                 |  Development  |              |                |\\n|   Morty  |          2.2          |   Oct 2016   |      2.2.1      |     Stable    |     16.0     |      1.32      |\\n|  Krogoth |          2.1          |   Apr 2016   |      2.1.2      |     Stable    |     15.0     |      1.30      |\\n|  Jethro  |          2.0          |   Nov 2015   |      2.0.3      |   Community   |     14.0     |      1.28      |\\n|   Fido   |          1.8          |   Apr 2015   |      1.8.2      |   Community   |     13.0     |      1.26      |\\n|   Dizzy  |          1.7          |   Oct 2014   |      1.7.3      |   Community   |     12.0     |      1.24      |\\n|   Daisy  |          1.6          |   Apr 2014   |      1.6.3      |   Community   |     11.0     |      1.22      |\\n|   Dora   |          1.5          |   Oct 2013   |      1.5.4      |   Community   |     10.0     |      1.20      |\"],[\"para\",\"We will start looking into balenaOS\u2019s composition from the core of the \",[\"link\",{\"href\":\"https://www.yoctoproject.org/\"},\"Yocto Project\"],\", i.e. poky. Poky has released a whole bunch of versions and supporting all of them is not in the scope of our OS, but we do try to support its latest versions. This might sound ironic as we do not currently support poky\u2019s last version (i.e. 2.1/Krogoth), but this is only because we did not need this version yet. We tend to support versions of poky based on what our supported boards require and also do a yearly update to the latest poky version for all the boards that can run that version. Currently we support three poky versions: 2.0/Jethro, 1.8/Fido and 1.6/Daisy.\"],[\"para\",\"On top of poky we add the collection of packages from meta-openembedded.\\nNow that we are done with setting up the build system let\u2019s add Board Support Packages (BSP), these layers are here to provide board-specific configuration and packages (e.g. bootloader, kernel), thus enabling building physical hardware (not emulators). These types of layers are the ones one should be looking for if one wants to add support for a board; if you already have this layer your job should be fairly straightforward, if you do not have it you might be looking into a very cumbersome job.\\nAt this point we have all the bits and pieces in place to build an OS.\\nThe core code of balenaOS resides in meta-balena. This layer handles a lot of functionality but the main thing that one should remember now is that here one will find the \",[\"inlinecode\",\"balena-image.bb\"],\" recipe. This layer also needs a poky version-specific layer to combine with (e.g. meta-balena-jethro), these two layers will give you the necessary framework for the abstract balenaOS generation.\\nNow for the final piece of the puzzle, the board-specific meta-balena configuration layer. This layer goes hand in hand with a BSP layer, for example for the Raspberry Pi family (i.e. rpi0, rpi1, rpi2, rpi3) that is supported by the meta-raspberrypi BSP, we provide a meta-balena-raspberrypi layer that configures meta-balena to the raspberrypi's needs.\"],[\"para\",\"Below is a representative example from the Raspberry Pi family, which helps explain \",[\"link\",{\"href\":\"https://github.com/balena-os/balena-raspberrypi/blob/master/layers/meta-balena-raspberrypi/conf/samples/bblayers.conf.sample\"},\"meta-balena-raspberrypi/conf/samples/bblayers.conf.sample\"],\".\"],[\"para\",\"| Layer Name                        | Repository                                                                      | Description                                                                           |\\n|-----------------------------------|-------------------------------------------------------------------------------|---------------------------------------------------------------------------------------|\\n| meta-balena                        | https://github.com/balena-os/meta-balena                                        | This repository enables building balenaOS for various devices                         |\\n| meta-balena-jethro                 | https://github.com/balena-os/meta-balena                                        | This layer enables building balenaOS for jethro supported BSPs                        |\\n| meta-balena-raspberrypi            | https://github.com/balena-os/balena-raspberrypi                                 | Enables building balenaOS for chosen meta-raspberrypi machines.                        |\\n| meta-raspberrypi                  | https://github.com/agherzan/meta-raspberrypi                                  | This is the general hardware specific BSP overlay for the Raspberry Pi device family. |\\n| meta-openembedded                 | http://git.openembedded.org/meta-openembedded                                 | Collection of OpenEmbedded layers                                                     |\\n| meta-openembedded/meta-oe         | https://github.com/openembedded/meta-openembedded/tree/master/meta-oe         |                                                                                       |\\n| meta-openembedded/meta-python     | https://github.com/openembedded/meta-openembedded/tree/master/meta-python     | The home of python modules for OpenEmbedded.                                          |\\n| meta-openembedded/meta-networking | https://github.com/openembedded/meta-openembedded/tree/master/meta-networking | Central point for networking-relatedpackages and configuration.                       |\\n| oe-meta-go                        | https://github.com/mem/oe-meta-go                                             | OpenEmbedded layer for the Go programming language                                    |\\n| poky/meta-yocto                   | https://git.yoctoproject.org/git/meta-yocto                                   |                                                                                       |\\n| poky/meta                         | https://git.yoctoproject.org/git/poky                                         | Core functionality and configuration of Yocto Project                                 |\"],[\"header\",{\"level\":2},\"Userspace Components\"],[\"para\",\"The balenaOS userspace tries to package only the bare essentials for running containers while still offering a lot of flexibility. The philosophy is that software and services always default to being in a container, unless they are generically useful to all containers or they absolutely can\u2019t live in a container.  The userspace consists of many open source components, but in this section we will just highlight some of the important ones.\"],[\"para\",\"<img src=\\\"/images/docs/arch/userspace-components.png\\\" width=\\\"90%\\\">\"],[\"header\",{\"level\":3},\"Systemd\"],[\"para\",\"We use systemd as the init system for balenaOS and it is responsible for launching and managing all the other services. We leverage many of the great features of systemd, such as adjusting OOM scores for critical services and running services in separate mount namespaces. Systemd also allows us to easily manage service dependencies.\"],[\"header\",{\"level\":3},\"Docker\"],[\"para\",\"The Docker engine is a lightweight container runtime that allows us to build and run linux containers on balenaOS. BalenaOS has been optimized to run Docker containers and has been set up to use the journald log driver and DNSmasq for container DNS resolution.\\nWe use AUFS as the underlying storage driver since it is arguably the most production tested storage driver in the Docker ecosystem. It also allows us to more easily support devices with older kernel versions and additionally gives us the ability to run on devices with Unmanaged NAND flash.\"],[\"header\",{\"level\":3},\"NetworkManager and ModemManager\"],[\"para\",\"BalenaOS uses NetworkManager accompanied by ModemManager, to deliver a stable and reliable connection to the internet, be it via ethenet, wifi or cellular modem. Additionally to make headless configuration of the device\u2019s network easy, we have added a \",[\"inlinecode\",\"system-connections\"],\" folder in the boot partition which is copied into \",[\"inlinecode\",\"/etc/NetworkManager/system-connections\"],\". So any valid NetworkManager connection file can just be dropped into the boot partition before device commissioning.\"],[\"header\",{\"level\":3},\"DNSmasq\"],[\"para\",\"DNSmasq is here to manage the nameservers that NetworkManager provides for balenaOS.\\nNetworkManager will discover the nameservers that can be used and a binary called \",[\"inlinecode\",\"resolvconf\"],\" will write them to a tmpfs location, from where DNSmasq will take over and manage these nameservers to give the user the fastest most responsive DNS resolution.\"],[\"header\",{\"level\":3},\"Avahi\"],[\"para\",\"In order to improve the development experience of balenaOS, there is an Avahi daemon that starts advertising the device as \",[\"inlinecode\",\"balena.local\"],\" or \",[\"inlinecode\",\"<hostname>.local\"],\" on boot if the image is a development image.\"],[\"header\",{\"level\":3},\"OpenVPN\"],[\"para\",\"BalenaOS will provide the user with an OpenVPN server that they might use. It is worth noting that this server will be disabled by default and manual interaction from the user is needed to activate and configure this server to their needs.\"],[\"header\",{\"level\":2},\"Image Partition Layout\"],[\"para\",\"<img src=\\\"/images/docs/arch/partition-layout.png\\\" width=\\\"90%\\\">\"],[\"para\",\"The first partition, resin-boot, is meant to hold boot important bits according to each board (e.g. kernel image, bootloader image). It also holds a very important file that you will find mentioned elsewhere in this document (i.e. \",[\"inlinecode\",\"config.json\"],\"). The config.json file is the central point of configuring balenaOS and defining its behaviour, for example you can set your hostname, allow persistent logging, etc.\\nResin-rootA is the partition that holds our read-only root filesystem; it holds almost everything that balenaOS is.\\nResin-rootB is an empty partition that is only used when the rootfs is to be updated. We follow the Blue-Green deployment strategy. Essentially we have one active partition that is the OS\u2019s current rootfs and one dormant one that is empty, we download the new rootfs to the dormant partition and try to switch them, if the switch is successful the dormant partition becomes the new rootfs, if not, we rollback to the old active partition.\\nResin-state is the partition that holds persistent data as explained in the \",[\"link\",{\"href\":\"#stateless-and-read-only-rootfs\"},\"Stateless and Read-only rootfs\"],\".\\nResin-data is the partition that holds downloaded Docker images. Generally any container data will be found here.\"],[\"header\",{\"level\":2},\"Stateless and Read-Only rootFS\"],[\"para\",\"BalenaOS comes with a read-only root filesystem, so we can ensure our hostOS is stateless, but we still need some data to be persistent over system reboots. We achieve this with a very simple mechanism, i.e. bind mounts.\\nBalenaOS contains a partition named resin-state that is meant to hold all this persistent data, inside we populate a Linux filesystem hierarchy standard with the rootfs paths that we require to be persistent. After this partition is populated we are ready to bind mount the respective rootfs paths to this read-write location, thus allowing different components (e.g. journald) to be able to write data to disk. A mechanism to purge this partition is provided, thus allowing users to rollback to an unconfigured balenaOS image.\"],[\"para\",\"A diagram of our read-only rootfs can be seen below:\"],[\"para\",\"<img src=\\\"/images/docs/arch/read-only-rootfs.png\\\" width=\\\"90%\\\">\"],[\"header\",{\"level\":2},\"Dev vs. Prod images\"],[\"para\",\"BalenaOS comes in two flavours, namely Development (dev) and Production (prod).\\nThe Development images are recommended while getting started with balenaOS and building a system.\\nThe dev images enable a number of useful features while developing, namely:\"],[\"bulletlist\",[\"listitem\",\"Passwordless SSH to balenaOS\"],[\"listitem\",\"The device broadcasts as balena.local or \\\\<hostname\\\\>.local on the network for easy access.\"],[\"listitem\",\"Docker socket exposed on via port 2377\"],[\"listitem\",\"Getty console attached to tty1 and serial\"]],[\"para\",[\"strong\",\"Note:\"],\" Raspberry Pi devices don\u2019t have Getty attached to serial.\"],[\"para\",\"The production images have all of the above functionality disabled by default. In both forms of the OS we write logs to an 8 MB journald RAM\\nbuffer in order to avoid wear on the flash storage used by most of the supported boards. However, persistent logging can be enabled by setting\\nthe \",[\"inlinecode\",\"\\\"persistentLogging\\\": true\"],\" key in the \",[\"inlinecode\",\"config.json\"],\" file in the boot partition of the device.\"],[\"header\",{\"level\":2},\"OS Tools\"],[\"header\",{\"level\":3},\"Base Images\"],[\"para\",\"To help getting started with containers on embedded systems, balenaOS comes with a full complement of over 500 Docker base images. We currently have base images for\\nDebian, Fedora and Alpine Linux distributions, as well as Nodejs, Python, Go and Java language base images. For a more in-depth look into all the available base images head over\\nto the \",[\"link\",{\"href\":\"http://balena.io/docs/runtime/balena-base-images/\"},\"balena base images wiki\"],\" or the \",[\"link\",{\"href\":\"https://hub.docker.com/u/resin/\"},\"Docker Hub repository\"],\".\"],[\"header\",{\"level\":3},\"Balena Command Line Tool\"],[\"para\",\"The balena CLI is a set of useful tools that help with setting up and developing containers with a balenaOS device. The goal of the CLI is to provide\\na simple and intuitive developer experience. Currently, local mode part of the CLI are evolving fast and is considered 'beta', so as always, we love it when you report bugs,\\nyou can report them here: \",[\"link\",{\"href\":\"https://github.com/balena-io/balena-cli\"},\"github.com/balena-io/balena-cli\"]],[\"header\",{\"level\":4},\"Installation\"],[\"para\",\"Currently the CLI is a node.js based command line tool which requires that our system has the following dependencies installed and in our path:\"],[\"bulletlist\",[\"listitem\",[\"link\",{\"href\":\"https://nodejs.org/en/\"},\"node.js 6.x\"]],[\"listitem\",[\"link\",{\"href\":\"https://www.npmjs.com/\"},\"npm package manager\"]],[\"listitem\",[\"link\",{\"href\":\"https://download.samba.org/pub/rsync/rsync.html\"},\"rsync\"]],[\"listitem\",[\"link\",{\"href\":\"http://www.openssh.com/\"},\"ssh\"]]],[\"para\",\"Once we have those setup we can install the CLI using npm:\\n\",[\"inlinecode\",\" bash\\n$ npm install --global --production --unsafe-perm balena-cli\\n\"]],[\"header\",{\"level\":4},\"Usage\"],[\"header\",{\"level\":5},\"Configure\"],[\"para\",[\"inlinecode\",\"balena local configure\"],\" allows you configure or reconfigure a balenaOS system image or SD card. Currently, this allows for configuration of wifi settings, hostname and enablement of\\npersistent journald logs.\"],[\"para\",[\"inlinecode\",\"\"],\"` bash\\n$ balena help local configure\\nUsage: local configure <target>\"],[\"para\",\"Use this command to configure or reconfigure a balenaOS drive or image.\"],[\"para\",\"Examples:\"],[\"code_block\",\"$ balena local configure /dev/sdc\\n$ balena local configure path/to/image.img\"],[\"para\",[\"inlinecode\",\"\"],\"`\"],[\"header\",{\"level\":5},\"Flash\"],[\"para\",[\"inlinecode\",\"balena local flash\"],\" command helps to easily and safely flash the balenaOS system image on an SD card or USB drive.\"],[\"para\",[\"strong\",\"Note:\"],\" Currently, \",[\"inlinecode\",\"balena local flash\"],\" doesn't work with the Intel Edison board.\"],[\"para\",[\"inlinecode\",\"\"],\"` bash\\n$ balena help local flash\\nUsage: local flash <image>\"],[\"para\",\"Use this command to flash a balenaOS image to a drive.\"],[\"para\",\"Examples:\"],[\"code_block\",\"$ balena local flash path/to/balenaos.img\\n$ balena local flash path/to/balenaos.img --drive /dev/disk2\\n$ balena local flash path/to/balenaos.img --drive /dev/disk2 --yes\"],[\"para\",\"Options:\"],[\"code_block\",\"--yes, -y                           confirm non-interactively          \\n--drive, -d <drive>                 drive     \"],[\"para\",[\"inlinecode\",\"\"],\"`\"],[\"header\",{\"level\":5},\"Push\"],[\"para\",\"The \",[\"inlinecode\",\"balena local push\"],\" command enables you to quickly build and deploy a Docker container to a target device. It also allows you to easily sync code between your laptop\\ndirectory and your running container on the target. Once you have a balenaOS host device running and advertising on the network,\\n\",[\"inlinecode\",\"balena local push\"],\" will allow you to iterate code on a container service. \",[\"inlinecode\",\"push\"],\" has a lot of advanced functionality, which all gets encoded into the \",[\"inlinecode\",\".balena-sync.yml\"],\" file in your\\nproject directory. To better understand the \",[\"inlinecode\",\".yml\"],\" file, let's look at an example:\"],[\"para\",[\"inlinecode\",\"\\n  app-name: myapp\\n  build-triggers:\\n    - Dockerfile: 9396730559c4107a0d82f95373c45d8e0634556342fb4ee276a7bc1c84c51570\\n    - package.json: 1e40740d7cf5018cf887124ee75917eb139d49473c51464580feda247b3a4641\\ndestination: /usr/src/app\\nignore:\\n  - .git\\n  - node_modules/\\n\"]],[\"para\",\"Let's look a bit into some of these settings keys.\"],[\"bulletlist\",[\"listitem\",[\"inlinecode\",\"app-name:\"],\" represents the name of the Docker image and corresponding running container on the target device.\"],[\"listitem\",[\"inlinecode\",\"build-triggers:\"],\" is a list of file names and their content hashes. Any changes in the files contained in this list will result in a \",[\"inlinecode\",\"docker build .\"],\" on the\\ntarget device.\"],[\"listitem\",[\"inlinecode\",\"destination:\"],\" this sets the destination sync directory in the container running on the device. This allows you to synchronise a \",[\"inlinecode\",\"--source\"],\" directory on your laptop to a running\\ncontainer on the device. This is very useful when developing with interpreted languages like Python or Node.js, as you can sync just your source code across, without rebuilding the\\nentire container.\"],[\"listitem\",[\"inlinecode\",\"ignore:\"],\" is a list of files or directories that you would like to be ignored during the directory sync. This is useful in the case where you have \",[\"inlinecode\",\"node_modules\"],\" in your source\\ndirectory that is compiled to run on your x86 laptop, but you are pushing your code over to an ARM based embedded device.\"]],[\"para\",\"The push has quite a bit of functionality and a few useful flags. Check out the \",[\"inlinecode\",\"balena help local push\"],\":\"],[\"para\",[\"inlinecode\",\"\"],\"` bash\\n$ balena help local push\\nUsage: local push \",[\"link_ref\",{\"ref\":\"deviceip\",\"original\":\"[deviceIp]\"},\"deviceIp\"]],[\"para\",\"Warning: 'balena local push' requires an openssh-compatible client and 'rsync' to\\nbe correctly installed in your shell environment. For more information (including\\nWindows support) please check the README here: https://github.com/balena-io/balena-cli\"],[\"para\",\"Use this command to push your local changes to a container on a LAN-accessible balenaOS device on the fly.\"],[\"para\",\"If \",[\"inlinecode\",\"Dockerfile\"],\" or any file in the 'build-triggers' list is changed,\\na new container will be built and run on your device.\\nIf not, changes will simply be synced with \",[\"inlinecode\",\"rsync\"],\" into the application container.\"],[\"para\",\"After every 'balena local push' the updated settings will be saved in\\n'<source>/.balena-sync.yml' and will be used in later invocations. You can\\nalso change any option by editing '.balena-sync.yml' directly.\"],[\"para\",\"Here is an example '.balena-sync.yml' :\"],[\"code_block\",\"$ cat $PWD/.balena-sync.yml\\ndestination: '/usr/src/app'\\nbefore: 'echo Hello'\\nafter: 'echo Done'\\nignore:\\n\\t- .git\\n\\t- node_modules/\"],[\"para\",\"Command line options have precedence over the ones saved in '.balena-sync.yml'.\"],[\"para\",\"If '.gitignore' is found in the source directory then all explicitly listed files will be\\nexcluded when using rsync to update the container. You can choose to change this default behavior with the\\n'--skip-gitignore' option.\"],[\"para\",\"Examples:\"],[\"code_block\",\"$ balena local push\\n$ balena local push --app-name test-server --build-triggers package.json,requirements.txt\\n$ balena local push --force-build\\n$ balena local push --force-build --skip-logs\\n$ balena local push --ignore lib/\\n$ balena local push --verbose false\\n$ balena local push 192.168.2.10 --source . --destination /usr/src/app\\n$ balena local push 192.168.2.10 -s /home/user/myBalenaProject -d /usr/src/app --before 'echo Hello' --after 'echo Done'\"],[\"para\",\"Options:\"],[\"code_block\",\"--source, -s <path>                 root of project directory to push                                                                                       \\n--destination, -d <path>            destination path on device container                                                                                    \\n--ignore, -i <paths>                comma delimited paths to ignore when syncing with 'rsync'                                                               \\n--skip-gitignore                    do not parse excluded/included files from .gitignore                                                                    \\n--before, -b <command>              execute a command before pushing                                                                                        \\n--after, -a <command>               execute a command after pushing                                                                                         \\n--progress, -p                      show progress                                                                                                           \\n--skip-logs                         do not stream logs after push                                                                                           \\n--verbose, -v                       increase verbosity                                                                                                      \\n--app-name, -n <name>               application name - may contain lowercase characters, digits and one or more dashes. It may not start or end with a dash.\\n--build-triggers, -r <files>        comma delimited file list that will trigger a container rebuild if changed                                              \\n--force-build, -f                   force a container build and run                                                                                         \\n--env, -e <env>                     environment variable (e.g. --env 'ENV=value'). Multiple --env parameters are supported.              \"],[\"para\",[\"inlinecode\",\"\"],\"`\"],[\"header\",{\"level\":5},\"SSH\"],[\"para\",[\"inlinecode\",\"balena local ssh\"],\" discovers balenaOS devices on the local network and allows you to drop a SSH session into any of the containers running on the device. It also enables to you to\\ndrop in to the underlying host OS by doing \",[\"inlinecode\",\"balena local ssh --host\"],\", however you can of course always just do \",[\"inlinecode\",\"ssh root@balena.local -p22222\"],\".\"],[\"para\",[\"inlinecode\",\"\"],\"`\\n$ balena help local ssh\\nUsage: local ssh \",[\"link_ref\",{\"ref\":\"deviceip\",\"original\":\"[deviceIp]\"},\"deviceIp\"]],[\"para\",\"Warning: 'balena local ssh' requires an openssh-compatible client to be correctly\\ninstalled in your shell environment. For more information (including Windows\\nsupport) please check the README here: https://github.com/balena-io/balena-cli\"],[\"para\",\"Use this command to get a shell into the running application container of\\nyour device.\"],[\"para\",\"The '--host' option will get you a shell into the Host OS of the balenaOS device.\\nNo option will return a list of containers to enter or you can explicitly select\\none by passing its name to the --container option\"],[\"para\",\"Examples:\"],[\"code_block\",\"$ balena local ssh\\n$ balena local ssh --host\\n$ balena local ssh --container chaotic_water\\n$ balena local ssh --container chaotic_water --port 22222\\n$ balena local ssh --verbose\"],[\"para\",\"Options:\"],[\"code_block\",\"--verbose, -v                       increase verbosity                 \\n--host, -s                          get a shell into the host OS       \\n--container, -c <container>         name of container to access        \\n--port, -p <port>                   ssh port number (default: 22222)  \"],[\"para\",[\"inlinecode\",\"\"],\"`\"],[\"header\",{\"level\":5},\"Logs\"],[\"para\",[\"inlinecode\",\"balena local logs\"],\" allows the fetching of logs from any of the running containers on the device.\"],[\"para\",[\"inlinecode\",\"\"],\"` bash\\n$ balena help local logs\\nUsage: local logs \",[\"link_ref\",{\"ref\":\"deviceip\",\"original\":\"[deviceIp]\"},\"deviceIp\"]],[\"para\",\"Examples:\"],[\"code_block\",\"$ balena local logs\\n$ balena local logs -f\\n$ balena local logs 192.168.1.10\\n$ balena local logs 192.168.1.10 -f\\n$ balena local logs 192.168.1.10 -f --app-name myapp\"],[\"para\",\"Options:\"],[\"code_block\",\"--follow, -f                        follow log                         \\n--app-name, -a <name>               name of container to get logs from\"],[\"para\",[\"inlinecode\",\"\"],\"`\"]]},\"latest\":\"1.6.3\",\"version\":\"1.6.3\"}},{\"component\":\"Footer\",\"rank\":1,\"options\":{\"name\":\"balena-os\",\"owner\":{\"handle\":\"balena-os\",\"type\":\"Organization\",\"name\":\"balena-os\",\"description\":\"Balena brings the benefits of Linux containers to the IoT. Develop iteratively, deploy safely, and manage at scale.\",\"url\":\"https://github.com/balena-os\",\"email\":\"hello@balena.io\",\"avatar\":\"https://avatars2.githubusercontent.com/u/16914061?v=4\"},\"logo\":\"data:image/svg;base64,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\",\"routes\":[{\"name\":\"Docs\",\"url\":\"/docs\"},{\"name\":\"Contributing\",\"url\":\"/contributing\"},{\"name\":\"GitHub\",\"url\":\"https://github.com/balena-os/balena-os\"}],\"toc\":[{\"path\":[\"docs\",\"architecture-overview\"],\"title\":\"Architecture Overview\",\"sections\":[[\"header\",{\"level\":1},\"Architecture Overview\"],[\"header\",{\"level\":2},\"Introduction\"],[\"header\",{\"level\":2},\"OS composition\"],[\"header\",{\"level\":2},\"Userspace Components\"],[\"header\",{\"level\":3},\"Systemd\"],[\"header\",{\"level\":3},\"Docker\"],[\"header\",{\"level\":3},\"NetworkManager and ModemManager\"],[\"header\",{\"level\":3},\"DNSmasq\"],[\"header\",{\"level\":3},\"Avahi\"],[\"header\",{\"level\":3},\"OpenVPN\"],[\"header\",{\"level\":2},\"Image Partition Layout\"],[\"header\",{\"level\":2},\"Stateless and Read-Only rootFS\"],[\"header\",{\"level\":2},\"Dev vs. Prod images\"],[\"header\",{\"level\":2},\"OS Tools\"],[\"header\",{\"level\":3},\"Base Images\"],[\"header\",{\"level\":3},\"Balena Command Line Tool\"],[\"header\",{\"level\":4},\"Installation\"],[\"header\",{\"level\":4},\"Usage\"],[\"header\",{\"level\":5},\"Configure\"],[\"header\",{\"level\":5},\"Flash\"],[\"header\",{\"level\":5},\"Push\"],[\"header\",{\"level\":5},\"SSH\"],[\"header\",{\"level\":5},\"Logs\"]]},{\"path\":[\"docs\",\"contribute-to-balena-os\"],\"title\":\"Contribute to balenaOS\",\"sections\":[[\"header\",{\"level\":1},\"Contribute to balenaOS\"],[\"header\",{\"level\":2},\"Testing and Bug Reports\"],[\"header\",{\"level\":2},\"Submitting Fixes\"],[\"header\",{\"level\":2},\"Support for Additional Boards\"],[\"header\",{\"level\":2},\"Documentation\"],[\"header\",{\"level\":2},\"Tutorials\"]]},{\"path\":[\"docs\",\"building-your-own\"],\"title\":\"Building your Own\",\"sections\":[[\"header\",{\"level\":1},\"Building your Own\"],[\"header\",{\"level\":2},\"Bake your own Image\"],[\"header\",{\"level\":2},\"Supporting your Own Board\"],[\"header\",{\"level\":3},\"Board Support Repository Breakout\"],[\"header\",{\"level\":3},\"meta-balena-\",[\"inlinecode\",\"<board-family>\"],\" breakout\"],[\"header\",{\"level\":3},\"Building\"],[\"header\",{\"level\":3},\"Troubleshooting\"]]},{\"path\":[\"docs\",\"dynamic-page-about-os-name-language-name\"],\"title\":\"Dynamic page about {{ $os.name }} & {{ $language.name }}\",\"sections\":[[\"header\",{\"level\":1},\"Dynamic page about {{ $os.name }} & {{ $language.name }}\"],[\"header\",{\"level\":2},\"Smart import\"],[\"header\",{\"level\":2},\"Helpers Example\"]]},{\"path\":[\"docs\",\"\"],\"sections\":[[\"header\",{\"level\":2},\"Why Docker containers on embedded devices?\"],[\"header\",{\"level\":2},\"Why Yocto?\"],[\"header\",{\"level\":2},\"How is this different from cloud operating systems for containers?\"],[\"header\",{\"level\":2},\"How is this different from other embedded operating systems?\"]]},{\"path\":[\"docs\",\"getting-started-on-the-device-name\"],\"title\":\"Getting Started on the {{ $device.name }}\",\"sections\":[[\"header\",{\"level\":1},\"Getting Started on the {{ $device.name }}\"],[\"header\",{\"level\":2},\"Download an Image\"],[\"header\",{\"level\":2},\"Install the Balena CLI\"],[\"header\",{\"level\":2},\"Configure the Image\"],[\"header\",{\"level\":2},\"Get the Device Up and Running\"],[\"header\",{\"level\":3},\"Flash {{ $device.bootMedia }}\"],[\"header\",{\"level\":3},\"Boot the device\"],[\"header\",{\"level\":2},\"Running your first Container\"],[\"header\",{\"level\":3},\"Clone a demo Project\"],[\"header\",{\"level\":3},\"Get a Container Running\"],[\"header\",{\"level\":2},\"Poking Around balenaOS\"],[\"header\",{\"level\":4},\"To ssh into the host:\"],[\"header\",{\"level\":4},\"To ssh into a particular container:\"],[\"header\",{\"level\":2},\"Going Further\"],[\"header\",{\"level\":3},\"Advanced Settings\"],[\"header\",{\"level\":2},\"Creating a Project from Scratch\"]]},{\"path\":[\"docs\",\"\"],\"sections\":[[\"header\",{\"level\":2},\"What is balenaOS?\"]]},{\"path\":[\"docs\",\"supported-boards\"],\"title\":\"Supported Boards\",\"sections\":[[\"header\",{\"level\":1},\"Supported Boards\"],[\"header\",{\"level\":2},\"ARMv7\"],[\"header\",{\"level\":2},\"ARMv6\"],[\"header\",{\"level\":2},\"ARMv5\"],[\"header\",{\"level\":2},\"Intel x86_32\"],[\"header\",{\"level\":2},\"Intel x86_64\"]]}]}}]},\"path\":\"docs/architecture-overview/1.6.3\",\"sharedData\":{},\"siteData\":{}}");</script><script defer="" type="text/javascript" src="/templates/vendors~main.0ca8d44b.js"></script><script defer="" type="text/javascript" src="/main.402ddbf4.js"></script></body></html>